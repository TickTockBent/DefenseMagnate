var Bg=Object.defineProperty;var kg=(d,s,c)=>s in d?Bg(d,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):d[s]=c;var jt=(d,s,c)=>kg(d,typeof s!="symbol"?s+"":s,c);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const m of o)if(m.type==="childList")for(const g of m.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&u(g)}).observe(document,{childList:!0,subtree:!0});function c(o){const m={};return o.integrity&&(m.integrity=o.integrity),o.referrerPolicy&&(m.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?m.credentials="include":o.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function u(o){if(o.ep)return;o.ep=!0;const m=c(o);fetch(o.href,m)}})();function wg(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var mc={exports:{}},En={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf;function Yg(){if(qf)return En;qf=1;var d=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function c(u,o,m){var g=null;if(m!==void 0&&(g=""+m),o.key!==void 0&&(g=""+o.key),"key"in o){m={};for(var h in o)h!=="key"&&(m[h]=o[h])}else m=o;return o=m.ref,{$$typeof:d,type:u,key:g,ref:o!==void 0?o:null,props:m}}return En.Fragment=s,En.jsx=c,En.jsxs=c,En}var Rf;function Vg(){return Rf||(Rf=1,mc.exports=Yg()),mc.exports}var r=Vg(),gc={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cf;function Xg(){if(Cf)return le;Cf=1;var d=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.iterator;function O(x){return x===null||typeof x!="object"?null:(x=A&&x[A]||x["@@iterator"],typeof x=="function"?x:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,B={};function G(x,Q,X){this.props=x,this.context=Q,this.refs=B,this.updater=X||C}G.prototype.isReactComponent={},G.prototype.setState=function(x,Q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Q,"setState")},G.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function k(){}k.prototype=G.prototype;function Z(x,Q,X){this.props=x,this.context=Q,this.refs=B,this.updater=X||C}var $=Z.prototype=new k;$.constructor=Z,L($,G.prototype),$.isPureReactComponent=!0;var I=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function De(x,Q,X,V,W,de){return X=de.ref,{$$typeof:d,type:x,key:Q,ref:X!==void 0?X:null,props:de}}function qe(x,Q){return De(x.type,Q,void 0,void 0,void 0,x.props)}function je(x){return typeof x=="object"&&x!==null&&x.$$typeof===d}function Be(x){var Q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(X){return Q[X]})}var tt=/\/+/g;function Le(x,Q){return typeof x=="object"&&x!==null&&x.key!=null?Be(""+x.key):Q.toString(36)}function xt(){}function at(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(xt,xt):(x.status="pending",x.then(function(Q){x.status==="pending"&&(x.status="fulfilled",x.value=Q)},function(Q){x.status==="pending"&&(x.status="rejected",x.reason=Q)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Te(x,Q,X,V,W){var de=typeof x;(de==="undefined"||de==="boolean")&&(x=null);var ae=!1;if(x===null)ae=!0;else switch(de){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(x.$$typeof){case d:case s:ae=!0;break;case S:return ae=x._init,Te(ae(x._payload),Q,X,V,W)}}if(ae)return W=W(x),ae=V===""?"."+Le(x,0):V,I(W)?(X="",ae!=null&&(X=ae.replace(tt,"$&/")+"/"),Te(W,Q,X,"",function(ta){return ta})):W!=null&&(je(W)&&(W=qe(W,X+(W.key==null||x&&x.key===W.key?"":(""+W.key).replace(tt,"$&/")+"/")+ae)),Q.push(W)),1;ae=0;var rt=V===""?".":V+":";if(I(x))for(var Ae=0;Ae<x.length;Ae++)V=x[Ae],de=rt+Le(V,Ae),ae+=Te(V,Q,X,de,W);else if(Ae=O(x),typeof Ae=="function")for(x=Ae.call(x),Ae=0;!(V=x.next()).done;)V=V.value,de=rt+Le(V,Ae++),ae+=Te(V,Q,X,de,W);else if(de==="object"){if(typeof x.then=="function")return Te(at(x),Q,X,V,W);throw Q=String(x),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ae}function D(x,Q,X){if(x==null)return x;var V=[],W=0;return Te(x,V,"","",function(de){return Q.call(X,de,W++)}),V}function Y(x){if(x._status===-1){var Q=x._result;Q=Q(),Q.then(function(X){(x._status===0||x._status===-1)&&(x._status=1,x._result=X)},function(X){(x._status===0||x._status===-1)&&(x._status=2,x._result=X)}),x._status===-1&&(x._status=0,x._result=Q)}if(x._status===1)return x._result.default;throw x._result}var P=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function ge(){}return le.Children={map:D,forEach:function(x,Q,X){D(x,function(){Q.apply(this,arguments)},X)},count:function(x){var Q=0;return D(x,function(){Q++}),Q},toArray:function(x){return D(x,function(Q){return Q})||[]},only:function(x){if(!je(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},le.Component=G,le.Fragment=c,le.Profiler=o,le.PureComponent=Z,le.StrictMode=u,le.Suspense=v,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,le.__COMPILER_RUNTIME={__proto__:null,c:function(x){return w.H.useMemoCache(x)}},le.cache=function(x){return function(){return x.apply(null,arguments)}},le.cloneElement=function(x,Q,X){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var V=L({},x.props),W=x.key,de=void 0;if(Q!=null)for(ae in Q.ref!==void 0&&(de=void 0),Q.key!==void 0&&(W=""+Q.key),Q)!ie.call(Q,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&Q.ref===void 0||(V[ae]=Q[ae]);var ae=arguments.length-2;if(ae===1)V.children=X;else if(1<ae){for(var rt=Array(ae),Ae=0;Ae<ae;Ae++)rt[Ae]=arguments[Ae+2];V.children=rt}return De(x.type,W,void 0,void 0,de,V)},le.createContext=function(x){return x={$$typeof:g,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:m,_context:x},x},le.createElement=function(x,Q,X){var V,W={},de=null;if(Q!=null)for(V in Q.key!==void 0&&(de=""+Q.key),Q)ie.call(Q,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(W[V]=Q[V]);var ae=arguments.length-2;if(ae===1)W.children=X;else if(1<ae){for(var rt=Array(ae),Ae=0;Ae<ae;Ae++)rt[Ae]=arguments[Ae+2];W.children=rt}if(x&&x.defaultProps)for(V in ae=x.defaultProps,ae)W[V]===void 0&&(W[V]=ae[V]);return De(x,de,void 0,void 0,null,W)},le.createRef=function(){return{current:null}},le.forwardRef=function(x){return{$$typeof:h,render:x}},le.isValidElement=je,le.lazy=function(x){return{$$typeof:S,_payload:{_status:-1,_result:x},_init:Y}},le.memo=function(x,Q){return{$$typeof:p,type:x,compare:Q===void 0?null:Q}},le.startTransition=function(x){var Q=w.T,X={};w.T=X;try{var V=x(),W=w.S;W!==null&&W(X,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(ge,P)}catch(de){P(de)}finally{w.T=Q}},le.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},le.use=function(x){return w.H.use(x)},le.useActionState=function(x,Q,X){return w.H.useActionState(x,Q,X)},le.useCallback=function(x,Q){return w.H.useCallback(x,Q)},le.useContext=function(x){return w.H.useContext(x)},le.useDebugValue=function(){},le.useDeferredValue=function(x,Q){return w.H.useDeferredValue(x,Q)},le.useEffect=function(x,Q,X){var V=w.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(x,Q)},le.useId=function(){return w.H.useId()},le.useImperativeHandle=function(x,Q,X){return w.H.useImperativeHandle(x,Q,X)},le.useInsertionEffect=function(x,Q){return w.H.useInsertionEffect(x,Q)},le.useLayoutEffect=function(x,Q){return w.H.useLayoutEffect(x,Q)},le.useMemo=function(x,Q){return w.H.useMemo(x,Q)},le.useOptimistic=function(x,Q){return w.H.useOptimistic(x,Q)},le.useReducer=function(x,Q,X){return w.H.useReducer(x,Q,X)},le.useRef=function(x){return w.H.useRef(x)},le.useState=function(x){return w.H.useState(x)},le.useSyncExternalStore=function(x,Q,X){return w.H.useSyncExternalStore(x,Q,X)},le.useTransition=function(){return w.H.useTransition()},le.version="19.1.0",le}var Of;function Dc(){return Of||(Of=1,gc.exports=Xg()),gc.exports}var pe=Dc();const Df=wg(pe);var yc={exports:{}},qn={},hc={exports:{}},pc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf;function Zg(){return jf||(jf=1,function(d){function s(D,Y){var P=D.length;D.push(Y);e:for(;0<P;){var ge=P-1>>>1,x=D[ge];if(0<o(x,Y))D[ge]=Y,D[P]=x,P=ge;else break e}}function c(D){return D.length===0?null:D[0]}function u(D){if(D.length===0)return null;var Y=D[0],P=D.pop();if(P!==Y){D[0]=P;e:for(var ge=0,x=D.length,Q=x>>>1;ge<Q;){var X=2*(ge+1)-1,V=D[X],W=X+1,de=D[W];if(0>o(V,P))W<x&&0>o(de,V)?(D[ge]=de,D[W]=P,ge=W):(D[ge]=V,D[X]=P,ge=X);else if(W<x&&0>o(de,P))D[ge]=de,D[W]=P,ge=W;else break e}}return Y}function o(D,Y){var P=D.sortIndex-Y.sortIndex;return P!==0?P:D.id-Y.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;d.unstable_now=function(){return m.now()}}else{var g=Date,h=g.now();d.unstable_now=function(){return g.now()-h}}var v=[],p=[],S=1,A=null,O=3,C=!1,L=!1,B=!1,G=!1,k=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function I(D){for(var Y=c(p);Y!==null;){if(Y.callback===null)u(p);else if(Y.startTime<=D)u(p),Y.sortIndex=Y.expirationTime,s(v,Y);else break;Y=c(p)}}function w(D){if(B=!1,I(D),!L)if(c(v)!==null)L=!0,ie||(ie=!0,Le());else{var Y=c(p);Y!==null&&Te(w,Y.startTime-D)}}var ie=!1,De=-1,qe=5,je=-1;function Be(){return G?!0:!(d.unstable_now()-je<qe)}function tt(){if(G=!1,ie){var D=d.unstable_now();je=D;var Y=!0;try{e:{L=!1,B&&(B=!1,Z(De),De=-1),C=!0;var P=O;try{t:{for(I(D),A=c(v);A!==null&&!(A.expirationTime>D&&Be());){var ge=A.callback;if(typeof ge=="function"){A.callback=null,O=A.priorityLevel;var x=ge(A.expirationTime<=D);if(D=d.unstable_now(),typeof x=="function"){A.callback=x,I(D),Y=!0;break t}A===c(v)&&u(v),I(D)}else u(v);A=c(v)}if(A!==null)Y=!0;else{var Q=c(p);Q!==null&&Te(w,Q.startTime-D),Y=!1}}break e}finally{A=null,O=P,C=!1}Y=void 0}}finally{Y?Le():ie=!1}}}var Le;if(typeof $=="function")Le=function(){$(tt)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,at=xt.port2;xt.port1.onmessage=tt,Le=function(){at.postMessage(null)}}else Le=function(){k(tt,0)};function Te(D,Y){De=k(function(){D(d.unstable_now())},Y)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(D){D.callback=null},d.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qe=0<D?Math.floor(1e3/D):5},d.unstable_getCurrentPriorityLevel=function(){return O},d.unstable_next=function(D){switch(O){case 1:case 2:case 3:var Y=3;break;default:Y=O}var P=O;O=Y;try{return D()}finally{O=P}},d.unstable_requestPaint=function(){G=!0},d.unstable_runWithPriority=function(D,Y){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var P=O;O=D;try{return Y()}finally{O=P}},d.unstable_scheduleCallback=function(D,Y,P){var ge=d.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?ge+P:ge):P=ge,D){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=P+x,D={id:S++,callback:Y,priorityLevel:D,startTime:P,expirationTime:x,sortIndex:-1},P>ge?(D.sortIndex=P,s(p,D),c(v)===null&&D===c(p)&&(B?(Z(De),De=-1):B=!0,Te(w,P-ge))):(D.sortIndex=x,s(v,D),L||C||(L=!0,ie||(ie=!0,Le()))),D},d.unstable_shouldYield=Be,d.unstable_wrapCallback=function(D){var Y=O;return function(){var P=O;O=Y;try{return D.apply(this,arguments)}finally{O=P}}}}(pc)),pc}var Uf;function Jg(){return Uf||(Uf=1,hc.exports=Zg()),hc.exports}var vc={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf;function Kg(){if(Gf)return Fe;Gf=1;var d=Dc();function s(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var u={d:{f:c,r:function(){throw Error(s(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},o=Symbol.for("react.portal");function m(v,p,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:p,implementation:S}}var g=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,Fe.createPortal=function(v,p){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(s(299));return m(v,p,null,S)},Fe.flushSync=function(v){var p=g.T,S=u.p;try{if(g.T=null,u.p=2,v)return v()}finally{g.T=p,u.p=S,u.d.f()}},Fe.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,u.d.C(v,p))},Fe.prefetchDNS=function(v){typeof v=="string"&&u.d.D(v)},Fe.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var S=p.as,A=h(S,p.crossOrigin),O=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;S==="style"?u.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:O,fetchPriority:C}):S==="script"&&u.d.X(v,{crossOrigin:A,integrity:O,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Fe.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var S=h(p.as,p.crossOrigin);u.d.M(v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&u.d.M(v)},Fe.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var S=p.as,A=h(S,p.crossOrigin);u.d.L(v,S,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Fe.preloadModule=function(v,p){if(typeof v=="string")if(p){var S=h(p.as,p.crossOrigin);u.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else u.d.m(v)},Fe.requestFormReset=function(v){u.d.r(v)},Fe.unstable_batchedUpdates=function(v,p){return v(p)},Fe.useFormState=function(v,p,S){return g.H.useFormState(v,p,S)},Fe.useFormStatus=function(){return g.H.useHostTransitionStatus()},Fe.version="19.1.0",Fe}var Lf;function $g(){if(Lf)return vc.exports;Lf=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(s){console.error(s)}}return d(),vc.exports=Kg(),vc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf;function Pg(){if(Hf)return qn;Hf=1;var d=Jg(),s=Dc(),c=$g();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(m(e)!==e)throw Error(u(188))}function v(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(u(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return h(n),e;if(i===l)return h(n),t;i=i.sibling}throw Error(u(188))}if(a.return!==l.return)a=n,l=i;else{for(var f=!1,y=n.child;y;){if(y===a){f=!0,a=n,l=i;break}if(y===l){f=!0,l=n,a=i;break}y=y.sibling}if(!f){for(y=i.child;y;){if(y===a){f=!0,a=i,l=n;break}if(y===l){f=!0,l=i,a=n;break}y=y.sibling}if(!f)throw Error(u(189))}}if(a.alternate!==l)throw Error(u(190))}if(a.tag!==3)throw Error(u(188));return a.stateNode.current===a?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,A=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),$=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),je=Symbol.for("react.activity"),Be=Symbol.for("react.memo_cache_sentinel"),tt=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=tt&&e[tt]||e["@@iterator"],typeof e=="function"?e:null)}var xt=Symbol.for("react.client.reference");function at(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===xt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case G:return"Profiler";case B:return"StrictMode";case w:return"Suspense";case ie:return"SuspenseList";case je:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case $:return(e.displayName||"Context")+".Provider";case Z:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case De:return t=e.displayName||null,t!==null?t:at(e.type)||"Memo";case qe:t=e._payload,e=e._init;try{return at(e(t))}catch{}}return null}var Te=Array.isArray,D=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},ge=[],x=-1;function Q(e){return{current:e}}function X(e){0>x||(e.current=ge[x],ge[x]=null,x--)}function V(e,t){x++,ge[x]=e.current,e.current=t}var W=Q(null),de=Q(null),ae=Q(null),rt=Q(null);function Ae(e,t){switch(V(ae,t),V(de,e),V(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?tf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=tf(t),e=af(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(W),V(W,e)}function ta(){X(W),X(de),X(ae)}function Wi(e){e.memoizedState!==null&&V(rt,e);var t=W.current,a=af(t,e.type);t!==a&&(V(de,e),V(W,a))}function jn(e){de.current===e&&(X(W),X(de)),rt.current===e&&(X(rt),Sn._currentValue=P)}var Fi=Object.prototype.hasOwnProperty,es=d.unstable_scheduleCallback,ts=d.unstable_cancelCallback,bm=d.unstable_shouldYield,xm=d.unstable_requestPaint,Ut=d.unstable_now,_m=d.unstable_getCurrentPriorityLevel,Uc=d.unstable_ImmediatePriority,Gc=d.unstable_UserBlockingPriority,Un=d.unstable_NormalPriority,Sm=d.unstable_LowPriority,Lc=d.unstable_IdlePriority,Nm=d.log,Mm=d.unstable_setDisableYieldValue,Rl=null,ot=null;function aa(e){if(typeof Nm=="function"&&Mm(e),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(Rl,e)}catch{}}var dt=Math.clz32?Math.clz32:Em,Tm=Math.log,Am=Math.LN2;function Em(e){return e>>>=0,e===0?32:31-(Tm(e)/Am|0)|0}var Gn=256,Ln=4194304;function Aa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hn(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,i=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var y=l&134217727;return y!==0?(l=y&~i,l!==0?n=Aa(l):(f&=y,f!==0?n=Aa(f):a||(a=y&~e,a!==0&&(n=Aa(a))))):(y=l&~i,y!==0?n=Aa(y):f!==0?n=Aa(f):a||(a=l&~e,a!==0&&(n=Aa(a)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:n}function Cl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function qm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hc(){var e=Gn;return Gn<<=1,(Gn&4194048)===0&&(Gn=256),e}function Ic(){var e=Ln;return Ln<<=1,(Ln&62914560)===0&&(Ln=4194304),e}function as(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ol(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Rm(e,t,a,l,n,i){var f=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,b=e.expirationTimes,T=e.hiddenUpdates;for(a=f&~a;0<a;){var j=31-dt(a),H=1<<j;y[j]=0,b[j]=-1;var E=T[j];if(E!==null)for(T[j]=null,j=0;j<E.length;j++){var q=E[j];q!==null&&(q.lane&=-536870913)}a&=~H}l!==0&&zc(e,l,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(f&~t))}function zc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-dt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Qc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-dt(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function ls(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ns(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Bc(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Sf(e.type))}function Cm(e,t){var a=Y.p;try{return Y.p=e,t()}finally{Y.p=a}}var la=Math.random().toString(36).slice(2),Pe="__reactFiber$"+la,nt="__reactProps$"+la,Ya="__reactContainer$"+la,is="__reactEvents$"+la,Om="__reactListeners$"+la,Dm="__reactHandles$"+la,kc="__reactResources$"+la,Dl="__reactMarker$"+la;function ss(e){delete e[Pe],delete e[nt],delete e[is],delete e[Om],delete e[Dm]}function Va(e){var t=e[Pe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ya]||a[Pe]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=uf(e);e!==null;){if(a=e[Pe])return a;e=uf(e)}return t}e=a,a=e.parentNode}return null}function Xa(e){if(e=e[Pe]||e[Ya]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function jl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function Za(e){var t=e[kc];return t||(t=e[kc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ke(e){e[Dl]=!0}var wc=new Set,Yc={};function Ea(e,t){Ja(e,t),Ja(e+"Capture",t)}function Ja(e,t){for(Yc[e]=t,e=0;e<t.length;e++)wc.add(t[e])}var jm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vc={},Xc={};function Um(e){return Fi.call(Xc,e)?!0:Fi.call(Vc,e)?!1:jm.test(e)?Xc[e]=!0:(Vc[e]=!0,!1)}function In(e,t,a){if(Um(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function zn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Qt(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}var us,Zc;function Ka(e){if(us===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);us=t&&t[1]||"",Zc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+us+e+Zc}var cs=!1;function rs(e,t){if(!e||cs)return"";cs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(q){var E=q}Reflect.construct(e,[],H)}else{try{H.call()}catch(q){E=q}e.call(H.prototype)}}else{try{throw Error()}catch(q){E=q}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(q){if(q&&E&&typeof q.stack=="string")return[q.stack,E.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),f=i[0],y=i[1];if(f&&y){var b=f.split(`
`),T=y.split(`
`);for(n=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;n<T.length&&!T[n].includes("DetermineComponentFrameRoot");)n++;if(l===b.length||n===T.length)for(l=b.length-1,n=T.length-1;1<=l&&0<=n&&b[l]!==T[n];)n--;for(;1<=l&&0<=n;l--,n--)if(b[l]!==T[n]){if(l!==1||n!==1)do if(l--,n--,0>n||b[l]!==T[n]){var j=`
`+b[l].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=l&&0<=n);break}}}finally{cs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ka(a):""}function Gm(e){switch(e.tag){case 26:case 27:case 5:return Ka(e.type);case 16:return Ka("Lazy");case 13:return Ka("Suspense");case 19:return Ka("SuspenseList");case 0:case 15:return rs(e.type,!1);case 11:return rs(e.type.render,!1);case 1:return rs(e.type,!0);case 31:return Ka("Activity");default:return""}}function Jc(e){try{var t="";do t+=Gm(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function _t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lm(e){var t=Kc(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(f){l=""+f,i.call(this,f)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(f){l=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qn(e){e._valueTracker||(e._valueTracker=Lm(e))}function $c(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Kc(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Bn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hm=/[\n"\\]/g;function St(e){return e.replace(Hm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function os(e,t,a,l,n,i,f,y){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+_t(t)):e.value!==""+_t(t)&&(e.value=""+_t(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?ds(e,f,_t(t)):a!=null?ds(e,f,_t(a)):l!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+_t(y):e.removeAttribute("name")}function Pc(e,t,a,l,n,i,f,y){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;a=a!=null?""+_t(a):"",t=t!=null?""+_t(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=y?e.checked:!!l,e.defaultChecked=!!l,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f)}function ds(e,t,a){t==="number"&&Bn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function $a(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+_t(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Wc(e,t,a){if(t!=null&&(t=""+_t(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+_t(a):""}function Fc(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(u(92));if(Te(l)){if(1<l.length)throw Error(u(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=_t(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Pa(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Im=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function er(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Im.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function tr(e,t,a){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&er(e,n,l)}else for(var i in t)t.hasOwnProperty(i)&&er(e,i,t[i])}function fs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kn(e){return Qm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ms=null;function gs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wa=null,Fa=null;function ar(e){var t=Xa(e);if(t&&(e=t.stateNode)){var a=e[nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(os(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+St(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[nt]||null;if(!n)throw Error(u(90));os(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&$c(l)}break e;case"textarea":Wc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&$a(e,!!a.multiple,t,!1)}}}var ys=!1;function lr(e,t,a){if(ys)return e(t,a);ys=!0;try{var l=e(t);return l}finally{if(ys=!1,(Wa!==null||Fa!==null)&&(Ei(),Wa&&(t=Wa,e=Fa,Fa=Wa=null,ar(t),e)))for(t=0;t<e.length;t++)ar(e[t])}}function Ul(e,t){var a=e.stateNode;if(a===null)return null;var l=a[nt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(u(231,t,typeof a));return a}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hs=!1;if(Bt)try{var Gl={};Object.defineProperty(Gl,"passive",{get:function(){hs=!0}}),window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{hs=!1}var na=null,ps=null,wn=null;function nr(){if(wn)return wn;var e,t=ps,a=t.length,l,n="value"in na?na.value:na.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var f=a-e;for(l=1;l<=f&&t[a-l]===n[i-l];l++);return wn=n.slice(e,1<l?1-l:void 0)}function Yn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vn(){return!0}function ir(){return!1}function it(e){function t(a,l,n,i,f){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=i,this.target=f,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(i):i[y]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vn:ir,this.isPropagationStopped=ir,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vn)},persist:function(){},isPersistent:Vn}),t}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xn=it(qa),Ll=S({},qa,{view:0,detail:0}),Bm=it(Ll),vs,bs,Hl,Zn=S({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hl&&(Hl&&e.type==="mousemove"?(vs=e.screenX-Hl.screenX,bs=e.screenY-Hl.screenY):bs=vs=0,Hl=e),vs)},movementY:function(e){return"movementY"in e?e.movementY:bs}}),sr=it(Zn),km=S({},Zn,{dataTransfer:0}),wm=it(km),Ym=S({},Ll,{relatedTarget:0}),xs=it(Ym),Vm=S({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),Xm=it(Vm),Zm=S({},qa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jm=it(Zm),Km=S({},qa,{data:0}),ur=it(Km),$m={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wm[e])?!!t[e]:!1}function _s(){return Fm}var e0=S({},Ll,{key:function(e){if(e.key){var t=$m[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),t0=it(e0),a0=S({},Zn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cr=it(a0),l0=S({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),n0=it(l0),i0=S({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),s0=it(i0),u0=S({},Zn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),c0=it(u0),r0=S({},qa,{newState:0,oldState:0}),o0=it(r0),d0=[9,13,27,32],Ss=Bt&&"CompositionEvent"in window,Il=null;Bt&&"documentMode"in document&&(Il=document.documentMode);var f0=Bt&&"TextEvent"in window&&!Il,rr=Bt&&(!Ss||Il&&8<Il&&11>=Il),or=" ",dr=!1;function fr(e,t){switch(e){case"keyup":return d0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var el=!1;function m0(e,t){switch(e){case"compositionend":return mr(t);case"keypress":return t.which!==32?null:(dr=!0,or);case"textInput":return e=t.data,e===or&&dr?null:e;default:return null}}function g0(e,t){if(el)return e==="compositionend"||!Ss&&fr(e,t)?(e=nr(),wn=ps=na=null,el=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rr&&t.locale!=="ko"?null:t.data;default:return null}}var y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!y0[e.type]:t==="textarea"}function yr(e,t,a,l){Wa?Fa?Fa.push(l):Fa=[l]:Wa=l,t=ji(t,"onChange"),0<t.length&&(a=new Xn("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var zl=null,Ql=null;function h0(e){$d(e,0)}function Jn(e){var t=jl(e);if($c(t))return e}function hr(e,t){if(e==="change")return t}var pr=!1;if(Bt){var Ns;if(Bt){var Ms="oninput"in document;if(!Ms){var vr=document.createElement("div");vr.setAttribute("oninput","return;"),Ms=typeof vr.oninput=="function"}Ns=Ms}else Ns=!1;pr=Ns&&(!document.documentMode||9<document.documentMode)}function br(){zl&&(zl.detachEvent("onpropertychange",xr),Ql=zl=null)}function xr(e){if(e.propertyName==="value"&&Jn(Ql)){var t=[];yr(t,Ql,e,gs(e)),lr(h0,t)}}function p0(e,t,a){e==="focusin"?(br(),zl=t,Ql=a,zl.attachEvent("onpropertychange",xr)):e==="focusout"&&br()}function v0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jn(Ql)}function b0(e,t){if(e==="click")return Jn(t)}function x0(e,t){if(e==="input"||e==="change")return Jn(t)}function _0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:_0;function Bl(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!Fi.call(t,n)||!ft(e[n],t[n]))return!1}return!0}function _r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sr(e,t){var a=_r(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_r(a)}}function Nr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nr(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Bn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Bn(e.document)}return t}function Ts(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var S0=Bt&&"documentMode"in document&&11>=document.documentMode,tl=null,As=null,kl=null,Es=!1;function Tr(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Es||tl==null||tl!==Bn(l)||(l=tl,"selectionStart"in l&&Ts(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Bl(kl,l)||(kl=l,l=ji(As,"onSelect"),0<l.length&&(t=new Xn("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=tl)))}function Ra(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var al={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},qs={},Ar={};Bt&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Ca(e){if(qs[e])return qs[e];if(!al[e])return e;var t=al[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Ar)return qs[e]=t[a];return e}var Er=Ca("animationend"),qr=Ca("animationiteration"),Rr=Ca("animationstart"),N0=Ca("transitionrun"),M0=Ca("transitionstart"),T0=Ca("transitioncancel"),Cr=Ca("transitionend"),Or=new Map,Rs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rs.push("scrollEnd");function Ct(e,t){Or.set(e,t),Ea(t,[e])}var Dr=new WeakMap;function Nt(e,t){if(typeof e=="object"&&e!==null){var a=Dr.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Jc(t)},Dr.set(e,t),t)}return{value:e,source:t,stack:Jc(t)}}var Mt=[],ll=0,Cs=0;function Kn(){for(var e=ll,t=Cs=ll=0;t<e;){var a=Mt[t];Mt[t++]=null;var l=Mt[t];Mt[t++]=null;var n=Mt[t];Mt[t++]=null;var i=Mt[t];if(Mt[t++]=null,l!==null&&n!==null){var f=l.pending;f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n}i!==0&&jr(a,n,i)}}function $n(e,t,a,l){Mt[ll++]=e,Mt[ll++]=t,Mt[ll++]=a,Mt[ll++]=l,Cs|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Os(e,t,a,l){return $n(e,t,a,l),Pn(e)}function nl(e,t){return $n(e,null,null,t),Pn(e)}function jr(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-dt(a),e=i.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),i):null}function Pn(e){if(50<gn)throw gn=0,Hu=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var il={};function A0(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,a,l){return new A0(e,t,a,l)}function Ds(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kt(e,t){var a=e.alternate;return a===null?(a=mt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ur(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wn(e,t,a,l,n,i){var f=0;if(l=e,typeof e=="function")Ds(e)&&(f=1);else if(typeof e=="string")f=qg(e,a,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case je:return e=mt(31,a,t,n),e.elementType=je,e.lanes=i,e;case L:return Oa(a.children,n,i,t);case B:f=8,n|=24;break;case G:return e=mt(12,a,t,n|2),e.elementType=G,e.lanes=i,e;case w:return e=mt(13,a,t,n),e.elementType=w,e.lanes=i,e;case ie:return e=mt(19,a,t,n),e.elementType=ie,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:case $:f=10;break e;case Z:f=9;break e;case I:f=11;break e;case De:f=14;break e;case qe:f=16,l=null;break e}f=29,a=Error(u(130,e===null?"null":typeof e,"")),l=null}return t=mt(f,a,t,n),t.elementType=e,t.type=l,t.lanes=i,t}function Oa(e,t,a,l){return e=mt(7,e,l,t),e.lanes=a,e}function js(e,t,a){return e=mt(6,e,null,t),e.lanes=a,e}function Us(e,t,a){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var sl=[],ul=0,Fn=null,ei=0,Tt=[],At=0,Da=null,wt=1,Yt="";function ja(e,t){sl[ul++]=ei,sl[ul++]=Fn,Fn=e,ei=t}function Gr(e,t,a){Tt[At++]=wt,Tt[At++]=Yt,Tt[At++]=Da,Da=e;var l=wt;e=Yt;var n=32-dt(l)-1;l&=~(1<<n),a+=1;var i=32-dt(t)+n;if(30<i){var f=n-n%5;i=(l&(1<<f)-1).toString(32),l>>=f,n-=f,wt=1<<32-dt(t)+n|a<<n|l,Yt=i+e}else wt=1<<i|a<<n|l,Yt=e}function Gs(e){e.return!==null&&(ja(e,1),Gr(e,1,0))}function Ls(e){for(;e===Fn;)Fn=sl[--ul],sl[ul]=null,ei=sl[--ul],sl[ul]=null;for(;e===Da;)Da=Tt[--At],Tt[At]=null,Yt=Tt[--At],Tt[At]=null,wt=Tt[--At],Tt[At]=null}var lt=null,Ce=null,me=!1,Ua=null,Gt=!1,Hs=Error(u(519));function Ga(e){var t=Error(u(418,""));throw Vl(Nt(t,e)),Hs}function Lr(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[Pe]=e,t[nt]=l,a){case"dialog":ce("cancel",t),ce("close",t);break;case"iframe":case"object":case"embed":ce("load",t);break;case"video":case"audio":for(a=0;a<hn.length;a++)ce(hn[a],t);break;case"source":ce("error",t);break;case"img":case"image":case"link":ce("error",t),ce("load",t);break;case"details":ce("toggle",t);break;case"input":ce("invalid",t),Pc(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Qn(t);break;case"select":ce("invalid",t);break;case"textarea":ce("invalid",t),Fc(t,l.value,l.defaultValue,l.children),Qn(t)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||ef(t.textContent,a)?(l.popover!=null&&(ce("beforetoggle",t),ce("toggle",t)),l.onScroll!=null&&ce("scroll",t),l.onScrollEnd!=null&&ce("scrollend",t),l.onClick!=null&&(t.onclick=Ui),t=!0):t=!1,t||Ga(e)}function Hr(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:lt=lt.return}}function wl(e){if(e!==lt)return!1;if(!me)return Hr(e),me=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Fu(e.type,e.memoizedProps)),a=!a),a&&Ce&&Ga(e),Hr(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Ce=Dt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Ce=null}}else t===27?(t=Ce,xa(e.type)?(e=lc,lc=null,Ce=e):Ce=t):Ce=lt?Dt(e.stateNode.nextSibling):null;return!0}function Yl(){Ce=lt=null,me=!1}function Ir(){var e=Ua;return e!==null&&(ct===null?ct=e:ct.push.apply(ct,e),Ua=null),e}function Vl(e){Ua===null?Ua=[e]:Ua.push(e)}var Is=Q(null),La=null,Vt=null;function ia(e,t,a){V(Is,t._currentValue),t._currentValue=a}function Xt(e){e._currentValue=Is.current,X(Is)}function zs(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Qs(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var f=n.child;i=i.firstContext;e:for(;i!==null;){var y=i;i=n;for(var b=0;b<t.length;b++)if(y.context===t[b]){i.lanes|=a,y=i.alternate,y!==null&&(y.lanes|=a),zs(i.return,a,e),l||(f=null);break e}i=y.next}}else if(n.tag===18){if(f=n.return,f===null)throw Error(u(341));f.lanes|=a,i=f.alternate,i!==null&&(i.lanes|=a),zs(f,a,e),f=null}else f=n.child;if(f!==null)f.return=n;else for(f=n;f!==null;){if(f===e){f=null;break}if(n=f.sibling,n!==null){n.return=f.return,f=n;break}f=f.return}n=f}}function Xl(e,t,a,l){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var f=n.alternate;if(f===null)throw Error(u(387));if(f=f.memoizedProps,f!==null){var y=n.type;ft(n.pendingProps.value,f.value)||(e!==null?e.push(y):e=[y])}}else if(n===rt.current){if(f=n.alternate,f===null)throw Error(u(387));f.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Sn):e=[Sn])}n=n.return}e!==null&&Qs(t,e,a,l),t.flags|=262144}function ti(e){for(e=e.firstContext;e!==null;){if(!ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ha(e){La=e,Vt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return zr(La,e)}function ai(e,t){return La===null&&Ha(e),zr(e,t)}function zr(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Vt===null){if(e===null)throw Error(u(308));Vt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Vt=Vt.next=t;return a}var E0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},q0=d.unstable_scheduleCallback,R0=d.unstable_NormalPriority,ze={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bs(){return{controller:new E0,data:new Map,refCount:0}}function Zl(e){e.refCount--,e.refCount===0&&q0(R0,function(){e.controller.abort()})}var Jl=null,ks=0,cl=0,rl=null;function C0(e,t){if(Jl===null){var a=Jl=[];ks=0,cl=Yu(),rl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ks++,t.then(Qr,Qr),t}function Qr(){if(--ks===0&&Jl!==null){rl!==null&&(rl.status="fulfilled");var e=Jl;Jl=null,cl=0,rl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function O0(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var Br=D.S;D.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&C0(e,t),Br!==null&&Br(e,t)};var Ia=Q(null);function ws(){var e=Ia.current;return e!==null?e:Ne.pooledCache}function li(e,t){t===null?V(Ia,Ia.current):V(Ia,t.pool)}function kr(){var e=ws();return e===null?null:{parent:ze._currentValue,pool:e}}var Kl=Error(u(460)),wr=Error(u(474)),ni=Error(u(542)),Ys={then:function(){}};function Yr(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ii(){}function Vr(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ii,ii),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zr(e),e;default:if(typeof t.status=="string")t.then(ii,ii);else{if(e=Ne,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zr(e),e}throw $l=t,Kl}}var $l=null;function Xr(){if($l===null)throw Error(u(459));var e=$l;return $l=null,e}function Zr(e){if(e===Kl||e===ni)throw Error(u(483))}var sa=!1;function Vs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ua(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ca(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ye&2)!==0){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=Pn(e),jr(e,null,a),t}return $n(e,l,t,a),Pn(e)}function Pl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Qc(e,a)}}function Zs(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var f={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?n=i=f:i=i.next=f,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Js=!1;function Wl(){if(Js){var e=rl;if(e!==null)throw e}}function Fl(e,t,a,l){Js=!1;var n=e.updateQueue;sa=!1;var i=n.firstBaseUpdate,f=n.lastBaseUpdate,y=n.shared.pending;if(y!==null){n.shared.pending=null;var b=y,T=b.next;b.next=null,f===null?i=T:f.next=T,f=b;var j=e.alternate;j!==null&&(j=j.updateQueue,y=j.lastBaseUpdate,y!==f&&(y===null?j.firstBaseUpdate=T:y.next=T,j.lastBaseUpdate=b))}if(i!==null){var H=n.baseState;f=0,j=T=b=null,y=i;do{var E=y.lane&-536870913,q=E!==y.lane;if(q?(re&E)===E:(l&E)===E){E!==0&&E===cl&&(Js=!0),j!==null&&(j=j.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var te=e,F=y;E=t;var xe=a;switch(F.tag){case 1:if(te=F.payload,typeof te=="function"){H=te.call(xe,H,E);break e}H=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=F.payload,E=typeof te=="function"?te.call(xe,H,E):te,E==null)break e;H=S({},H,E);break e;case 2:sa=!0}}E=y.callback,E!==null&&(e.flags|=64,q&&(e.flags|=8192),q=n.callbacks,q===null?n.callbacks=[E]:q.push(E))}else q={lane:E,tag:y.tag,payload:y.payload,callback:y.callback,next:null},j===null?(T=j=q,b=H):j=j.next=q,f|=E;if(y=y.next,y===null){if(y=n.shared.pending,y===null)break;q=y,y=q.next,q.next=null,n.lastBaseUpdate=q,n.shared.pending=null}}while(!0);j===null&&(b=H),n.baseState=b,n.firstBaseUpdate=T,n.lastBaseUpdate=j,i===null&&(n.shared.lanes=0),ha|=f,e.lanes=f,e.memoizedState=H}}function Jr(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function Kr(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Jr(a[e],t)}var ol=Q(null),si=Q(0);function $r(e,t){e=Ft,V(si,e),V(ol,t),Ft=e|t.baseLanes}function Ks(){V(si,Ft),V(ol,ol.current)}function $s(){Ft=si.current,X(ol),X(si)}var ra=0,ne=null,ve=null,He=null,ui=!1,dl=!1,za=!1,ci=0,en=0,fl=null,D0=0;function Ue(){throw Error(u(321))}function Ps(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ft(e[a],t[a]))return!1;return!0}function Ws(e,t,a,l,n,i){return ra=i,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Uo:Go,za=!1,i=a(l,n),za=!1,dl&&(i=Wr(t,a,l,n)),Pr(e),i}function Pr(e){D.H=gi;var t=ve!==null&&ve.next!==null;if(ra=0,He=ve=ne=null,ui=!1,en=0,fl=null,t)throw Error(u(300));e===null||we||(e=e.dependencies,e!==null&&ti(e)&&(we=!0))}function Wr(e,t,a,l){ne=e;var n=0;do{if(dl&&(fl=null),en=0,dl=!1,25<=n)throw Error(u(301));if(n+=1,He=ve=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}D.H=z0,i=t(a,l)}while(dl);return i}function j0(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?tn(t):t,e=e.useState()[0],(ve!==null?ve.memoizedState:null)!==e&&(ne.flags|=1024),t}function Fs(){var e=ci!==0;return ci=0,e}function eu(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function tu(e){if(ui){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ui=!1}ra=0,He=ve=ne=null,dl=!1,en=ci=0,fl=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?ne.memoizedState=He=e:He=He.next=e,He}function Ie(){if(ve===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=He===null?ne.memoizedState:He.next;if(t!==null)He=t,ve=e;else{if(e===null)throw ne.alternate===null?Error(u(467)):Error(u(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},He===null?ne.memoizedState=He=e:He=He.next=e}return He}function au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tn(e){var t=en;return en+=1,fl===null&&(fl=[]),e=Vr(fl,e,t),t=ne,(He===null?t.memoizedState:He.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Uo:Go),e}function ri(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tn(e);if(e.$$typeof===$)return We(e)}throw Error(u(438,String(e)))}function lu(e){var t=null,a=ne.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=au(),ne.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=Be;return t.index++,a}function Zt(e,t){return typeof t=="function"?t(e):t}function oi(e){var t=Ie();return nu(t,ve,e)}function nu(e,t,a){var l=e.queue;if(l===null)throw Error(u(311));l.lastRenderedReducer=a;var n=e.baseQueue,i=l.pending;if(i!==null){if(n!==null){var f=n.next;n.next=i.next,i.next=f}t.baseQueue=n=i,l.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var y=f=null,b=null,T=t,j=!1;do{var H=T.lane&-536870913;if(H!==T.lane?(re&H)===H:(ra&H)===H){var E=T.revertLane;if(E===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),H===cl&&(j=!0);else if((ra&E)===E){T=T.next,E===cl&&(j=!0);continue}else H={lane:0,revertLane:T.revertLane,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},b===null?(y=b=H,f=i):b=b.next=H,ne.lanes|=E,ha|=E;H=T.action,za&&a(i,H),i=T.hasEagerState?T.eagerState:a(i,H)}else E={lane:H,revertLane:T.revertLane,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},b===null?(y=b=E,f=i):b=b.next=E,ne.lanes|=H,ha|=H;T=T.next}while(T!==null&&T!==t);if(b===null?f=i:b.next=y,!ft(i,e.memoizedState)&&(we=!0,j&&(a=rl,a!==null)))throw a;e.memoizedState=i,e.baseState=f,e.baseQueue=b,l.lastRenderedState=i}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function iu(e){var t=Ie(),a=t.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var f=n=n.next;do i=e(i,f.action),f=f.next;while(f!==n);ft(i,t.memoizedState)||(we=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,l]}function Fr(e,t,a){var l=ne,n=Ie(),i=me;if(i){if(a===void 0)throw Error(u(407));a=a()}else a=t();var f=!ft((ve||n).memoizedState,a);f&&(n.memoizedState=a,we=!0),n=n.queue;var y=ao.bind(null,l,n,e);if(an(2048,8,y,[e]),n.getSnapshot!==t||f||He!==null&&He.memoizedState.tag&1){if(l.flags|=2048,ml(9,di(),to.bind(null,l,n,a,t),null),Ne===null)throw Error(u(349));i||(ra&124)!==0||eo(l,t,a)}return a}function eo(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ne.updateQueue,t===null?(t=au(),ne.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function to(e,t,a,l){t.value=a,t.getSnapshot=l,lo(t)&&no(e)}function ao(e,t,a){return a(function(){lo(t)&&no(e)})}function lo(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ft(e,a)}catch{return!0}}function no(e){var t=nl(e,2);t!==null&&vt(t,e,2)}function su(e){var t=st();if(typeof e=="function"){var a=e;if(e=a(),za){aa(!0);try{a()}finally{aa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:e},t}function io(e,t,a,l){return e.baseState=a,nu(e,ve,typeof l=="function"?l:Zt)}function U0(e,t,a,l,n){if(mi(e))throw Error(u(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){i.listeners.push(f)}};D.T!==null?a(!0):i.isTransition=!1,l(i),a=t.pending,a===null?(i.next=t.pending=i,so(t,i)):(i.next=a.next,t.pending=a.next=i)}}function so(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var i=D.T,f={};D.T=f;try{var y=a(n,l),b=D.S;b!==null&&b(f,y),uo(e,t,y)}catch(T){uu(e,t,T)}finally{D.T=i}}else try{i=a(n,l),uo(e,t,i)}catch(T){uu(e,t,T)}}function uo(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){co(e,t,l)},function(l){return uu(e,t,l)}):co(e,t,a)}function co(e,t,a){t.status="fulfilled",t.value=a,ro(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,so(e,a)))}function uu(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,ro(t),t=t.next;while(t!==l)}e.action=null}function ro(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oo(e,t){return t}function fo(e,t){if(me){var a=Ne.formState;if(a!==null){e:{var l=ne;if(me){if(Ce){t:{for(var n=Ce,i=Gt;n.nodeType!==8;){if(!i){n=null;break t}if(n=Dt(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Ce=Dt(n.nextSibling),l=n.data==="F!";break e}}Ga(l)}l=!1}l&&(t=a[0])}}return a=st(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:t},a.queue=l,a=Oo.bind(null,ne,l),l.dispatch=a,l=su(!1),i=fu.bind(null,ne,!1,l.queue),l=st(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=U0.bind(null,ne,n,i,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function mo(e){var t=Ie();return go(t,ve,e)}function go(e,t,a){if(t=nu(e,t,oo)[0],e=oi(Zt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=tn(t)}catch(f){throw f===Kl?ni:f}else l=t;t=Ie();var n=t.queue,i=n.dispatch;return a!==t.memoizedState&&(ne.flags|=2048,ml(9,di(),G0.bind(null,n,a),null)),[l,i,e]}function G0(e,t){e.action=t}function yo(e){var t=Ie(),a=ve;if(a!==null)return go(t,a,e);Ie(),t=t.memoizedState,a=Ie();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function ml(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=ne.updateQueue,t===null&&(t=au(),ne.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function di(){return{destroy:void 0,resource:void 0}}function ho(){return Ie().memoizedState}function fi(e,t,a,l){var n=st();l=l===void 0?null:l,ne.flags|=e,n.memoizedState=ml(1|t,di(),a,l)}function an(e,t,a,l){var n=Ie();l=l===void 0?null:l;var i=n.memoizedState.inst;ve!==null&&l!==null&&Ps(l,ve.memoizedState.deps)?n.memoizedState=ml(t,i,a,l):(ne.flags|=e,n.memoizedState=ml(1|t,i,a,l))}function po(e,t){fi(8390656,8,e,t)}function vo(e,t){an(2048,8,e,t)}function bo(e,t){return an(4,2,e,t)}function xo(e,t){return an(4,4,e,t)}function _o(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function So(e,t,a){a=a!=null?a.concat([e]):null,an(4,4,_o.bind(null,t,e),a)}function cu(){}function No(e,t){var a=Ie();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Ps(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Mo(e,t){var a=Ie();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Ps(t,l[1]))return l[0];if(l=e(),za){aa(!0);try{e()}finally{aa(!1)}}return a.memoizedState=[l,t],l}function ru(e,t,a){return a===void 0||(ra&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Ed(),ne.lanes|=e,ha|=e,a)}function To(e,t,a,l){return ft(a,t)?a:ol.current!==null?(e=ru(e,a,l),ft(e,t)||(we=!0),e):(ra&42)===0?(we=!0,e.memoizedState=a):(e=Ed(),ne.lanes|=e,ha|=e,t)}function Ao(e,t,a,l,n){var i=Y.p;Y.p=i!==0&&8>i?i:8;var f=D.T,y={};D.T=y,fu(e,!1,t,a);try{var b=n(),T=D.S;if(T!==null&&T(y,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=O0(b,l);ln(e,t,j,pt(e))}else ln(e,t,l,pt(e))}catch(H){ln(e,t,{then:function(){},status:"rejected",reason:H},pt())}finally{Y.p=i,D.T=f}}function L0(){}function ou(e,t,a,l){if(e.tag!==5)throw Error(u(476));var n=Eo(e).queue;Ao(e,n,t,P,a===null?L0:function(){return qo(e),a(l)})}function Eo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:P},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zt,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qo(e){var t=Eo(e).next.queue;ln(e,t,{},pt())}function du(){return We(Sn)}function Ro(){return Ie().memoizedState}function Co(){return Ie().memoizedState}function H0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=pt();e=ua(a);var l=ca(t,e,a);l!==null&&(vt(l,t,a),Pl(l,t,a)),t={cache:Bs()},e.payload=t;return}t=t.return}}function I0(e,t,a){var l=pt();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},mi(e)?Do(t,a):(a=Os(e,t,a,l),a!==null&&(vt(a,e,l),jo(a,t,l)))}function Oo(e,t,a){var l=pt();ln(e,t,a,l)}function ln(e,t,a,l){var n={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(mi(e))Do(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var f=t.lastRenderedState,y=i(f,a);if(n.hasEagerState=!0,n.eagerState=y,ft(y,f))return $n(e,t,n,0),Ne===null&&Kn(),!1}catch{}finally{}if(a=Os(e,t,n,l),a!==null)return vt(a,e,l),jo(a,t,l),!0}return!1}function fu(e,t,a,l){if(l={lane:2,revertLane:Yu(),action:l,hasEagerState:!1,eagerState:null,next:null},mi(e)){if(t)throw Error(u(479))}else t=Os(e,a,l,2),t!==null&&vt(t,e,2)}function mi(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function Do(e,t){dl=ui=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function jo(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Qc(e,a)}}var gi={readContext:We,use:ri,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue},Uo={readContext:We,use:ri,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:po,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,fi(4194308,4,_o.bind(null,t,e),a)},useLayoutEffect:function(e,t){return fi(4194308,4,e,t)},useInsertionEffect:function(e,t){fi(4,2,e,t)},useMemo:function(e,t){var a=st();t=t===void 0?null:t;var l=e();if(za){aa(!0);try{e()}finally{aa(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=st();if(a!==void 0){var n=a(t);if(za){aa(!0);try{a(t)}finally{aa(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=I0.bind(null,ne,e),[l.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:function(e){e=su(e);var t=e.queue,a=Oo.bind(null,ne,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:cu,useDeferredValue:function(e,t){var a=st();return ru(a,e,t)},useTransition:function(){var e=su(!1);return e=Ao.bind(null,ne,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=ne,n=st();if(me){if(a===void 0)throw Error(u(407));a=a()}else{if(a=t(),Ne===null)throw Error(u(349));(re&124)!==0||eo(l,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,po(ao.bind(null,l,i,e),[e]),l.flags|=2048,ml(9,di(),to.bind(null,l,i,a,t),null),a},useId:function(){var e=st(),t=Ne.identifierPrefix;if(me){var a=Yt,l=wt;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,t=""+t+"R"+a,a=ci++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=D0++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:du,useFormState:fo,useActionState:fo,useOptimistic:function(e){var t=st();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=fu.bind(null,ne,!0,a),a.dispatch=t,[e,t]},useMemoCache:lu,useCacheRefresh:function(){return st().memoizedState=H0.bind(null,ne)}},Go={readContext:We,use:ri,useCallback:No,useContext:We,useEffect:vo,useImperativeHandle:So,useInsertionEffect:bo,useLayoutEffect:xo,useMemo:Mo,useReducer:oi,useRef:ho,useState:function(){return oi(Zt)},useDebugValue:cu,useDeferredValue:function(e,t){var a=Ie();return To(a,ve.memoizedState,e,t)},useTransition:function(){var e=oi(Zt)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:tn(e),t]},useSyncExternalStore:Fr,useId:Ro,useHostTransitionStatus:du,useFormState:mo,useActionState:mo,useOptimistic:function(e,t){var a=Ie();return io(a,ve,e,t)},useMemoCache:lu,useCacheRefresh:Co},z0={readContext:We,use:ri,useCallback:No,useContext:We,useEffect:vo,useImperativeHandle:So,useInsertionEffect:bo,useLayoutEffect:xo,useMemo:Mo,useReducer:iu,useRef:ho,useState:function(){return iu(Zt)},useDebugValue:cu,useDeferredValue:function(e,t){var a=Ie();return ve===null?ru(a,e,t):To(a,ve.memoizedState,e,t)},useTransition:function(){var e=iu(Zt)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:tn(e),t]},useSyncExternalStore:Fr,useId:Ro,useHostTransitionStatus:du,useFormState:yo,useActionState:yo,useOptimistic:function(e,t){var a=Ie();return ve!==null?io(a,ve,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:lu,useCacheRefresh:Co},gl=null,nn=0;function yi(e){var t=nn;return nn+=1,gl===null&&(gl=[]),Vr(gl,e,t)}function sn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function hi(e,t){throw t.$$typeof===A?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Lo(e){var t=e._init;return t(e._payload)}function Ho(e){function t(N,_){if(e){var M=N.deletions;M===null?(N.deletions=[_],N.flags|=16):M.push(_)}}function a(N,_){if(!e)return null;for(;_!==null;)t(N,_),_=_.sibling;return null}function l(N){for(var _=new Map;N!==null;)N.key!==null?_.set(N.key,N):_.set(N.index,N),N=N.sibling;return _}function n(N,_){return N=kt(N,_),N.index=0,N.sibling=null,N}function i(N,_,M){return N.index=M,e?(M=N.alternate,M!==null?(M=M.index,M<_?(N.flags|=67108866,_):M):(N.flags|=67108866,_)):(N.flags|=1048576,_)}function f(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function y(N,_,M,U){return _===null||_.tag!==6?(_=js(M,N.mode,U),_.return=N,_):(_=n(_,M),_.return=N,_)}function b(N,_,M,U){var J=M.type;return J===L?j(N,_,M.props.children,U,M.key):_!==null&&(_.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===qe&&Lo(J)===_.type)?(_=n(_,M.props),sn(_,M),_.return=N,_):(_=Wn(M.type,M.key,M.props,null,N.mode,U),sn(_,M),_.return=N,_)}function T(N,_,M,U){return _===null||_.tag!==4||_.stateNode.containerInfo!==M.containerInfo||_.stateNode.implementation!==M.implementation?(_=Us(M,N.mode,U),_.return=N,_):(_=n(_,M.children||[]),_.return=N,_)}function j(N,_,M,U,J){return _===null||_.tag!==7?(_=Oa(M,N.mode,U,J),_.return=N,_):(_=n(_,M),_.return=N,_)}function H(N,_,M){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=js(""+_,N.mode,M),_.return=N,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case O:return M=Wn(_.type,_.key,_.props,null,N.mode,M),sn(M,_),M.return=N,M;case C:return _=Us(_,N.mode,M),_.return=N,_;case qe:var U=_._init;return _=U(_._payload),H(N,_,M)}if(Te(_)||Le(_))return _=Oa(_,N.mode,M,null),_.return=N,_;if(typeof _.then=="function")return H(N,yi(_),M);if(_.$$typeof===$)return H(N,ai(N,_),M);hi(N,_)}return null}function E(N,_,M,U){var J=_!==null?_.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return J!==null?null:y(N,_,""+M,U);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return M.key===J?b(N,_,M,U):null;case C:return M.key===J?T(N,_,M,U):null;case qe:return J=M._init,M=J(M._payload),E(N,_,M,U)}if(Te(M)||Le(M))return J!==null?null:j(N,_,M,U,null);if(typeof M.then=="function")return E(N,_,yi(M),U);if(M.$$typeof===$)return E(N,_,ai(N,M),U);hi(N,M)}return null}function q(N,_,M,U,J){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return N=N.get(M)||null,y(_,N,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case O:return N=N.get(U.key===null?M:U.key)||null,b(_,N,U,J);case C:return N=N.get(U.key===null?M:U.key)||null,T(_,N,U,J);case qe:var se=U._init;return U=se(U._payload),q(N,_,M,U,J)}if(Te(U)||Le(U))return N=N.get(M)||null,j(_,N,U,J,null);if(typeof U.then=="function")return q(N,_,M,yi(U),J);if(U.$$typeof===$)return q(N,_,M,ai(_,U),J);hi(_,U)}return null}function te(N,_,M,U){for(var J=null,se=null,K=_,ee=_=0,Ve=null;K!==null&&ee<M.length;ee++){K.index>ee?(Ve=K,K=null):Ve=K.sibling;var fe=E(N,K,M[ee],U);if(fe===null){K===null&&(K=Ve);break}e&&K&&fe.alternate===null&&t(N,K),_=i(fe,_,ee),se===null?J=fe:se.sibling=fe,se=fe,K=Ve}if(ee===M.length)return a(N,K),me&&ja(N,ee),J;if(K===null){for(;ee<M.length;ee++)K=H(N,M[ee],U),K!==null&&(_=i(K,_,ee),se===null?J=K:se.sibling=K,se=K);return me&&ja(N,ee),J}for(K=l(K);ee<M.length;ee++)Ve=q(K,N,ee,M[ee],U),Ve!==null&&(e&&Ve.alternate!==null&&K.delete(Ve.key===null?ee:Ve.key),_=i(Ve,_,ee),se===null?J=Ve:se.sibling=Ve,se=Ve);return e&&K.forEach(function(Ta){return t(N,Ta)}),me&&ja(N,ee),J}function F(N,_,M,U){if(M==null)throw Error(u(151));for(var J=null,se=null,K=_,ee=_=0,Ve=null,fe=M.next();K!==null&&!fe.done;ee++,fe=M.next()){K.index>ee?(Ve=K,K=null):Ve=K.sibling;var Ta=E(N,K,fe.value,U);if(Ta===null){K===null&&(K=Ve);break}e&&K&&Ta.alternate===null&&t(N,K),_=i(Ta,_,ee),se===null?J=Ta:se.sibling=Ta,se=Ta,K=Ve}if(fe.done)return a(N,K),me&&ja(N,ee),J;if(K===null){for(;!fe.done;ee++,fe=M.next())fe=H(N,fe.value,U),fe!==null&&(_=i(fe,_,ee),se===null?J=fe:se.sibling=fe,se=fe);return me&&ja(N,ee),J}for(K=l(K);!fe.done;ee++,fe=M.next())fe=q(K,N,ee,fe.value,U),fe!==null&&(e&&fe.alternate!==null&&K.delete(fe.key===null?ee:fe.key),_=i(fe,_,ee),se===null?J=fe:se.sibling=fe,se=fe);return e&&K.forEach(function(Qg){return t(N,Qg)}),me&&ja(N,ee),J}function xe(N,_,M,U){if(typeof M=="object"&&M!==null&&M.type===L&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case O:e:{for(var J=M.key;_!==null;){if(_.key===J){if(J=M.type,J===L){if(_.tag===7){a(N,_.sibling),U=n(_,M.props.children),U.return=N,N=U;break e}}else if(_.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===qe&&Lo(J)===_.type){a(N,_.sibling),U=n(_,M.props),sn(U,M),U.return=N,N=U;break e}a(N,_);break}else t(N,_);_=_.sibling}M.type===L?(U=Oa(M.props.children,N.mode,U,M.key),U.return=N,N=U):(U=Wn(M.type,M.key,M.props,null,N.mode,U),sn(U,M),U.return=N,N=U)}return f(N);case C:e:{for(J=M.key;_!==null;){if(_.key===J)if(_.tag===4&&_.stateNode.containerInfo===M.containerInfo&&_.stateNode.implementation===M.implementation){a(N,_.sibling),U=n(_,M.children||[]),U.return=N,N=U;break e}else{a(N,_);break}else t(N,_);_=_.sibling}U=Us(M,N.mode,U),U.return=N,N=U}return f(N);case qe:return J=M._init,M=J(M._payload),xe(N,_,M,U)}if(Te(M))return te(N,_,M,U);if(Le(M)){if(J=Le(M),typeof J!="function")throw Error(u(150));return M=J.call(M),F(N,_,M,U)}if(typeof M.then=="function")return xe(N,_,yi(M),U);if(M.$$typeof===$)return xe(N,_,ai(N,M),U);hi(N,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,_!==null&&_.tag===6?(a(N,_.sibling),U=n(_,M),U.return=N,N=U):(a(N,_),U=js(M,N.mode,U),U.return=N,N=U),f(N)):a(N,_)}return function(N,_,M,U){try{nn=0;var J=xe(N,_,M,U);return gl=null,J}catch(K){if(K===Kl||K===ni)throw K;var se=mt(29,K,null,N.mode);return se.lanes=U,se.return=N,se}finally{}}}var yl=Ho(!0),Io=Ho(!1),Et=Q(null),Lt=null;function oa(e){var t=e.alternate;V(Qe,Qe.current&1),V(Et,e),Lt===null&&(t===null||ol.current!==null||t.memoizedState!==null)&&(Lt=e)}function zo(e){if(e.tag===22){if(V(Qe,Qe.current),V(Et,e),Lt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Lt=e)}}else da()}function da(){V(Qe,Qe.current),V(Et,Et.current)}function Jt(e){X(Et),Lt===e&&(Lt=null),X(Qe)}var Qe=Q(0);function pi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ac(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function mu(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:S({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var gu={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=pt(),n=ua(l);n.payload=t,a!=null&&(n.callback=a),t=ca(e,n,l),t!==null&&(vt(t,e,l),Pl(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=pt(),n=ua(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=ca(e,n,l),t!==null&&(vt(t,e,l),Pl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=pt(),l=ua(a);l.tag=2,t!=null&&(l.callback=t),t=ca(e,l,a),t!==null&&(vt(t,e,a),Pl(t,e,a))}};function Qo(e,t,a,l,n,i,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,f):t.prototype&&t.prototype.isPureReactComponent?!Bl(a,l)||!Bl(n,i):!0}function Bo(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&gu.enqueueReplaceState(t,t.state,null)}function Qa(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=S({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}var vi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ko(e){vi(e)}function wo(e){console.error(e)}function Yo(e){vi(e)}function bi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Vo(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function yu(e,t,a){return a=ua(a),a.tag=3,a.payload={element:null},a.callback=function(){bi(e,t)},a}function Xo(e){return e=ua(e),e.tag=3,e}function Zo(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=l.value;e.payload=function(){return n(i)},e.callback=function(){Vo(t,a,l)}}var f=a.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Vo(t,a,l),typeof n!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var y=l.stack;this.componentDidCatch(l.value,{componentStack:y!==null?y:""})})}function Q0(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Xl(t,a,n,!0),a=Et.current,a!==null){switch(a.tag){case 13:return Lt===null?zu():a.alternate===null&&Oe===0&&(Oe=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===Ys?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Bu(e,l,n)),!1;case 22:return a.flags|=65536,l===Ys?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Bu(e,l,n)),!1}throw Error(u(435,a.tag))}return Bu(e,l,n),zu(),!1}if(me)return t=Et.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==Hs&&(e=Error(u(422),{cause:l}),Vl(Nt(e,a)))):(l!==Hs&&(t=Error(u(423),{cause:l}),Vl(Nt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=Nt(l,a),n=yu(e.stateNode,l,n),Zs(e,n),Oe!==4&&(Oe=2)),!1;var i=Error(u(520),{cause:l});if(i=Nt(i,a),mn===null?mn=[i]:mn.push(i),Oe!==4&&(Oe=2),t===null)return!0;l=Nt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=yu(a.stateNode,l,e),Zs(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(pa===null||!pa.has(i))))return a.flags|=65536,n&=-n,a.lanes|=n,n=Xo(n),Zo(n,e,a,l),Zs(a,n),!1}a=a.return}while(a!==null);return!1}var Jo=Error(u(461)),we=!1;function Ze(e,t,a,l){t.child=e===null?Io(t,null,a,l):yl(t,e.child,a,l)}function Ko(e,t,a,l,n){a=a.render;var i=t.ref;if("ref"in l){var f={};for(var y in l)y!=="ref"&&(f[y]=l[y])}else f=l;return Ha(t),l=Ws(e,t,a,f,i,n),y=Fs(),e!==null&&!we?(eu(e,t,n),Kt(e,t,n)):(me&&y&&Gs(t),t.flags|=1,Ze(e,t,l,n),t.child)}function $o(e,t,a,l,n){if(e===null){var i=a.type;return typeof i=="function"&&!Ds(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Po(e,t,i,l,n)):(e=Wn(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Nu(e,n)){var f=i.memoizedProps;if(a=a.compare,a=a!==null?a:Bl,a(f,l)&&e.ref===t.ref)return Kt(e,t,n)}return t.flags|=1,e=kt(i,l),e.ref=t.ref,e.return=t,t.child=e}function Po(e,t,a,l,n){if(e!==null){var i=e.memoizedProps;if(Bl(i,l)&&e.ref===t.ref)if(we=!1,t.pendingProps=l=i,Nu(e,n))(e.flags&131072)!==0&&(we=!0);else return t.lanes=e.lanes,Kt(e,t,n)}return hu(e,t,a,l,n)}function Wo(e,t,a){var l=t.pendingProps,n=l.children,i=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;t.childLanes=i&~l}else t.childLanes=0,t.child=null;return Fo(e,t,l,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&li(t,i!==null?i.cachePool:null),i!==null?$r(t,i):Ks(),zo(t);else return t.lanes=t.childLanes=536870912,Fo(e,t,i!==null?i.baseLanes|a:a,a)}else i!==null?(li(t,i.cachePool),$r(t,i),da(),t.memoizedState=null):(e!==null&&li(t,null),Ks(),da());return Ze(e,t,n,a),t.child}function Fo(e,t,a,l){var n=ws();return n=n===null?null:{parent:ze._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},e!==null&&li(t,null),Ks(),zo(t),e!==null&&Xl(e,t,l,!0),null}function xi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(u(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function hu(e,t,a,l,n){return Ha(t),a=Ws(e,t,a,l,void 0,n),l=Fs(),e!==null&&!we?(eu(e,t,n),Kt(e,t,n)):(me&&l&&Gs(t),t.flags|=1,Ze(e,t,a,n),t.child)}function ed(e,t,a,l,n,i){return Ha(t),t.updateQueue=null,a=Wr(t,l,a,n),Pr(e),l=Fs(),e!==null&&!we?(eu(e,t,i),Kt(e,t,i)):(me&&l&&Gs(t),t.flags|=1,Ze(e,t,a,i),t.child)}function td(e,t,a,l,n){if(Ha(t),t.stateNode===null){var i=il,f=a.contextType;typeof f=="object"&&f!==null&&(i=We(f)),i=new a(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=gu,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},Vs(t),f=a.contextType,i.context=typeof f=="object"&&f!==null?We(f):il,i.state=t.memoizedState,f=a.getDerivedStateFromProps,typeof f=="function"&&(mu(t,a,f,l),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(f=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),f!==i.state&&gu.enqueueReplaceState(i,i.state,null),Fl(t,l,i,n),Wl(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var y=t.memoizedProps,b=Qa(a,y);i.props=b;var T=i.context,j=a.contextType;f=il,typeof j=="object"&&j!==null&&(f=We(j));var H=a.getDerivedStateFromProps;j=typeof H=="function"||typeof i.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,j||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(y||T!==f)&&Bo(t,i,l,f),sa=!1;var E=t.memoizedState;i.state=E,Fl(t,l,i,n),Wl(),T=t.memoizedState,y||E!==T||sa?(typeof H=="function"&&(mu(t,a,H,l),T=t.memoizedState),(b=sa||Qo(t,a,b,l,E,T,f))?(j||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=T),i.props=l,i.state=T,i.context=f,l=b):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,Xs(e,t),f=t.memoizedProps,j=Qa(a,f),i.props=j,H=t.pendingProps,E=i.context,T=a.contextType,b=il,typeof T=="object"&&T!==null&&(b=We(T)),y=a.getDerivedStateFromProps,(T=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(f!==H||E!==b)&&Bo(t,i,l,b),sa=!1,E=t.memoizedState,i.state=E,Fl(t,l,i,n),Wl();var q=t.memoizedState;f!==H||E!==q||sa||e!==null&&e.dependencies!==null&&ti(e.dependencies)?(typeof y=="function"&&(mu(t,a,y,l),q=t.memoizedState),(j=sa||Qo(t,a,j,l,E,q,b)||e!==null&&e.dependencies!==null&&ti(e.dependencies))?(T||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,q,b),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,q,b)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=q),i.props=l,i.state=q,i.context=b,l=j):(typeof i.componentDidUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,xi(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=yl(t,e.child,null,n),t.child=yl(t,null,a,n)):Ze(e,t,a,n),t.memoizedState=i.state,e=t.child):e=Kt(e,t,n),e}function ad(e,t,a,l){return Yl(),t.flags|=256,Ze(e,t,a,l),t.child}var pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vu(e){return{baseLanes:e,cachePool:kr()}}function bu(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=qt),e}function ld(e,t,a){var l=t.pendingProps,n=!1,i=(t.flags&128)!==0,f;if((f=i)||(f=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),f&&(n=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(me){if(n?oa(t):da(),me){var y=Ce,b;if(b=y){e:{for(b=y,y=Gt;b.nodeType!==8;){if(!y){y=null;break e}if(b=Dt(b.nextSibling),b===null){y=null;break e}}y=b}y!==null?(t.memoizedState={dehydrated:y,treeContext:Da!==null?{id:wt,overflow:Yt}:null,retryLane:536870912,hydrationErrors:null},b=mt(18,null,null,0),b.stateNode=y,b.return=t,t.child=b,lt=t,Ce=null,b=!0):b=!1}b||Ga(t)}if(y=t.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return ac(y)?t.lanes=32:t.lanes=536870912,null;Jt(t)}return y=l.children,l=l.fallback,n?(da(),n=t.mode,y=_i({mode:"hidden",children:y},n),l=Oa(l,n,a,null),y.return=t,l.return=t,y.sibling=l,t.child=y,n=t.child,n.memoizedState=vu(a),n.childLanes=bu(e,f,a),t.memoizedState=pu,l):(oa(t),xu(t,y))}if(b=e.memoizedState,b!==null&&(y=b.dehydrated,y!==null)){if(i)t.flags&256?(oa(t),t.flags&=-257,t=_u(e,t,a)):t.memoizedState!==null?(da(),t.child=e.child,t.flags|=128,t=null):(da(),n=l.fallback,y=t.mode,l=_i({mode:"visible",children:l.children},y),n=Oa(n,y,a,null),n.flags|=2,l.return=t,n.return=t,l.sibling=n,t.child=l,yl(t,e.child,null,a),l=t.child,l.memoizedState=vu(a),l.childLanes=bu(e,f,a),t.memoizedState=pu,t=n);else if(oa(t),ac(y)){if(f=y.nextSibling&&y.nextSibling.dataset,f)var T=f.dgst;f=T,l=Error(u(419)),l.stack="",l.digest=f,Vl({value:l,source:null,stack:null}),t=_u(e,t,a)}else if(we||Xl(e,t,a,!1),f=(a&e.childLanes)!==0,we||f){if(f=Ne,f!==null&&(l=a&-a,l=(l&42)!==0?1:ls(l),l=(l&(f.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,nl(e,l),vt(f,e,l),Jo;y.data==="$?"||zu(),t=_u(e,t,a)}else y.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Ce=Dt(y.nextSibling),lt=t,me=!0,Ua=null,Gt=!1,e!==null&&(Tt[At++]=wt,Tt[At++]=Yt,Tt[At++]=Da,wt=e.id,Yt=e.overflow,Da=t),t=xu(t,l.children),t.flags|=4096);return t}return n?(da(),n=l.fallback,y=t.mode,b=e.child,T=b.sibling,l=kt(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,T!==null?n=kt(T,n):(n=Oa(n,y,a,null),n.flags|=2),n.return=t,l.return=t,l.sibling=n,t.child=l,l=n,n=t.child,y=e.child.memoizedState,y===null?y=vu(a):(b=y.cachePool,b!==null?(T=ze._currentValue,b=b.parent!==T?{parent:T,pool:T}:b):b=kr(),y={baseLanes:y.baseLanes|a,cachePool:b}),n.memoizedState=y,n.childLanes=bu(e,f,a),t.memoizedState=pu,l):(oa(t),a=e.child,e=a.sibling,a=kt(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=a,t.memoizedState=null,a)}function xu(e,t){return t=_i({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function _i(e,t){return e=mt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function _u(e,t,a){return yl(t,e.child,null,a),e=xu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nd(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),zs(e.return,t,a)}function Su(e,t,a,l,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=l,i.tail=a,i.tailMode=n)}function id(e,t,a){var l=t.pendingProps,n=l.revealOrder,i=l.tail;if(Ze(e,t,l.children,a),l=Qe.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nd(e,a,t);else if(e.tag===19)nd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(V(Qe,l),n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&pi(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Su(t,!1,n,a,i);break;case"backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&pi(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Su(t,!0,a,null,i);break;case"together":Su(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kt(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ha|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Xl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,a=kt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=kt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Nu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ti(e)))}function B0(e,t,a){switch(t.tag){case 3:Ae(t,t.stateNode.containerInfo),ia(t,ze,e.memoizedState.cache),Yl();break;case 27:case 5:Wi(t);break;case 4:Ae(t,t.stateNode.containerInfo);break;case 10:ia(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(oa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?ld(e,t,a):(oa(t),e=Kt(e,t,a),e!==null?e.sibling:null);oa(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Xl(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return id(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),V(Qe,Qe.current),l)break;return null;case 22:case 23:return t.lanes=0,Wo(e,t,a);case 24:ia(t,ze,e.memoizedState.cache)}return Kt(e,t,a)}function sd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)we=!0;else{if(!Nu(e,a)&&(t.flags&128)===0)return we=!1,B0(e,t,a);we=(e.flags&131072)!==0}else we=!1,me&&(t.flags&1048576)!==0&&Gr(t,ei,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,n=l._init;if(l=n(l._payload),t.type=l,typeof l=="function")Ds(l)?(e=Qa(l,e),t.tag=1,t=td(null,t,l,e,a)):(t.tag=0,t=hu(null,t,l,e,a));else{if(l!=null){if(n=l.$$typeof,n===I){t.tag=11,t=Ko(null,t,l,e,a);break e}else if(n===De){t.tag=14,t=$o(null,t,l,e,a);break e}}throw t=at(l)||l,Error(u(306,t,""))}}return t;case 0:return hu(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=Qa(l,t.pendingProps),td(e,t,l,n,a);case 3:e:{if(Ae(t,t.stateNode.containerInfo),e===null)throw Error(u(387));l=t.pendingProps;var i=t.memoizedState;n=i.element,Xs(e,t),Fl(t,l,null,a);var f=t.memoizedState;if(l=f.cache,ia(t,ze,l),l!==i.cache&&Qs(t,[ze],a,!0),Wl(),l=f.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=ad(e,t,l,a);break e}else if(l!==n){n=Nt(Error(u(424)),t),Vl(n),t=ad(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ce=Dt(e.firstChild),lt=t,me=!0,Ua=null,Gt=!0,a=Io(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yl(),l===n){t=Kt(e,t,a);break e}Ze(e,t,l,a)}t=t.child}return t;case 26:return xi(e,t),e===null?(a=df(t.type,null,t.pendingProps,null))?t.memoizedState=a:me||(a=t.type,e=t.pendingProps,l=Gi(ae.current).createElement(a),l[Pe]=t,l[nt]=e,Ke(l,a,e),ke(l),t.stateNode=l):t.memoizedState=df(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Wi(t),e===null&&me&&(l=t.stateNode=cf(t.type,t.pendingProps,ae.current),lt=t,Gt=!0,n=Ce,xa(t.type)?(lc=n,Ce=Dt(l.firstChild)):Ce=n),Ze(e,t,t.pendingProps.children,a),xi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&me&&((n=l=Ce)&&(l=yg(l,t.type,t.pendingProps,Gt),l!==null?(t.stateNode=l,lt=t,Ce=Dt(l.firstChild),Gt=!1,n=!0):n=!1),n||Ga(t)),Wi(t),n=t.type,i=t.pendingProps,f=e!==null?e.memoizedProps:null,l=i.children,Fu(n,i)?l=null:f!==null&&Fu(n,f)&&(t.flags|=32),t.memoizedState!==null&&(n=Ws(e,t,j0,null,null,a),Sn._currentValue=n),xi(e,t),Ze(e,t,l,a),t.child;case 6:return e===null&&me&&((e=a=Ce)&&(a=hg(a,t.pendingProps,Gt),a!==null?(t.stateNode=a,lt=t,Ce=null,e=!0):e=!1),e||Ga(t)),null;case 13:return ld(e,t,a);case 4:return Ae(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=yl(t,null,l,a):Ze(e,t,l,a),t.child;case 11:return Ko(e,t,t.type,t.pendingProps,a);case 7:return Ze(e,t,t.pendingProps,a),t.child;case 8:return Ze(e,t,t.pendingProps.children,a),t.child;case 12:return Ze(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,ia(t,t.type,l.value),Ze(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,Ha(t),n=We(n),l=l(n),t.flags|=1,Ze(e,t,l,a),t.child;case 14:return $o(e,t,t.type,t.pendingProps,a);case 15:return Po(e,t,t.type,t.pendingProps,a);case 19:return id(e,t,a);case 31:return l=t.pendingProps,a=t.mode,l={mode:l.mode,children:l.children},e===null?(a=_i(l,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=kt(e.child,l),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Wo(e,t,a);case 24:return Ha(t),l=We(ze),e===null?(n=ws(),n===null&&(n=Ne,i=Bs(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=a),n=i),t.memoizedState={parent:l,cache:n},Vs(t),ia(t,ze,n)):((e.lanes&a)!==0&&(Xs(e,t),Fl(t,null,null,a),Wl()),n=e.memoizedState,i=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),ia(t,ze,l)):(l=i.cache,ia(t,ze,l),l!==n.cache&&Qs(t,[ze],a,!0))),Ze(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function $t(e){e.flags|=4}function ud(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hf(t)){if(t=Et.current,t!==null&&((re&4194048)===re?Lt!==null:(re&62914560)!==re&&(re&536870912)===0||t!==Lt))throw $l=Ys,wr;e.flags|=8192}}function Si(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ic():536870912,e.lanes|=t,bl|=t)}function un(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function k0(e,t,a){var l=t.pendingProps;switch(Ls(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Re(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Xt(ze),ta(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wl(t)?$t(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ir())),Re(t),null;case 26:return a=t.memoizedState,e===null?($t(t),a!==null?(Re(t),ud(t,a)):(Re(t),t.flags&=-16777217)):a?a!==e.memoizedState?($t(t),Re(t),ud(t,a)):(Re(t),t.flags&=-16777217):(e.memoizedProps!==l&&$t(t),Re(t),t.flags&=-16777217),null;case 27:jn(t),a=ae.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&$t(t);else{if(!l){if(t.stateNode===null)throw Error(u(166));return Re(t),null}e=W.current,wl(t)?Lr(t):(e=cf(n,l,a),t.stateNode=e,$t(t))}return Re(t),null;case 5:if(jn(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&$t(t);else{if(!l){if(t.stateNode===null)throw Error(u(166));return Re(t),null}if(e=W.current,wl(t))Lr(t);else{switch(n=Gi(ae.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?n.createElement("select",{is:l.is}):n.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?n.createElement(a,{is:l.is}):n.createElement(a)}}e[Pe]=t,e[nt]=l;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(Ke(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&$t(t)}}return Re(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&$t(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(u(166));if(e=ae.current,wl(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=lt,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[Pe]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ef(e.nodeValue,a)),e||Ga(t)}else e=Gi(e).createTextNode(l),e[Pe]=t,t.stateNode=e}return Re(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=wl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(u(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(u(317));n[Pe]=t}else Yl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Re(t),n=!1}else n=Ir(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Jt(t),t):(Jt(t),null)}if(Jt(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool);var i=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==n&&(l.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Si(t,t.updateQueue),Re(t),null;case 4:return ta(),e===null&&Ju(t.stateNode.containerInfo),Re(t),null;case 10:return Xt(t.type),Re(t),null;case 19:if(X(Qe),n=t.memoizedState,n===null)return Re(t),null;if(l=(t.flags&128)!==0,i=n.rendering,i===null)if(l)un(n,!1);else{if(Oe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=pi(e),i!==null){for(t.flags|=128,un(n,!1),e=i.updateQueue,t.updateQueue=e,Si(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ur(a,e),a=a.sibling;return V(Qe,Qe.current&1|2),t.child}e=e.sibling}n.tail!==null&&Ut()>Ti&&(t.flags|=128,l=!0,un(n,!1),t.lanes=4194304)}else{if(!l)if(e=pi(i),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Si(t,e),un(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!me)return Re(t),null}else 2*Ut()-n.renderingStartTime>Ti&&a!==536870912&&(t.flags|=128,l=!0,un(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Ut(),t.sibling=null,e=Qe.current,V(Qe,l?e&1|2:e&1),t):(Re(t),null);case 22:case 23:return Jt(t),$s(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),a=t.updateQueue,a!==null&&Si(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&X(Ia),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Xt(ze),Re(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function w0(e,t){switch(Ls(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xt(ze),ta(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return jn(t),null;case 13:if(Jt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));Yl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(Qe),null;case 4:return ta(),null;case 10:return Xt(t.type),null;case 22:case 23:return Jt(t),$s(),e!==null&&X(Ia),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Xt(ze),null;case 25:return null;default:return null}}function cd(e,t){switch(Ls(t),t.tag){case 3:Xt(ze),ta();break;case 26:case 27:case 5:jn(t);break;case 4:ta();break;case 13:Jt(t);break;case 19:X(Qe);break;case 10:Xt(t.type);break;case 22:case 23:Jt(t),$s(),e!==null&&X(Ia);break;case 24:Xt(ze)}}function cn(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var i=a.create,f=a.inst;l=i(),f.destroy=l}a=a.next}while(a!==n)}}catch(y){_e(t,t.return,y)}}function fa(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var i=n.next;l=i;do{if((l.tag&e)===e){var f=l.inst,y=f.destroy;if(y!==void 0){f.destroy=void 0,n=t;var b=a,T=y;try{T()}catch(j){_e(n,b,j)}}}l=l.next}while(l!==i)}}catch(j){_e(t,t.return,j)}}function rd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Kr(t,a)}catch(l){_e(e,e.return,l)}}}function od(e,t,a){a.props=Qa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){_e(e,t,l)}}function rn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){_e(e,t,n)}}function Ht(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){_e(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){_e(e,t,n)}else a.current=null}function dd(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){_e(e,e.return,n)}}function Mu(e,t,a){try{var l=e.stateNode;og(l,e.type,a,t),l[nt]=t}catch(n){_e(e,e.return,n)}}function fd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xa(e.type)||e.tag===4}function Tu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Au(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ui));else if(l!==4&&(l===27&&xa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Au(e,t,a),e=e.sibling;e!==null;)Au(e,t,a),e=e.sibling}function Ni(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&xa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ni(e,t,a),e=e.sibling;e!==null;)Ni(e,t,a),e=e.sibling}function md(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ke(t,l,a),t[Pe]=e,t[nt]=a}catch(i){_e(e,e.return,i)}}var Pt=!1,Ge=!1,Eu=!1,gd=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Y0(e,t){if(e=e.containerInfo,Pu=Bi,e=Mr(e),Ts(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var f=0,y=-1,b=-1,T=0,j=0,H=e,E=null;t:for(;;){for(var q;H!==a||n!==0&&H.nodeType!==3||(y=f+n),H!==i||l!==0&&H.nodeType!==3||(b=f+l),H.nodeType===3&&(f+=H.nodeValue.length),(q=H.firstChild)!==null;)E=H,H=q;for(;;){if(H===e)break t;if(E===a&&++T===n&&(y=f),E===i&&++j===l&&(b=f),(q=H.nextSibling)!==null)break;H=E,E=H.parentNode}H=q}a=y===-1||b===-1?null:{start:y,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wu={focusedElem:e,selectionRange:a},Bi=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){switch(t=Ye,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,n=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var te=Qa(a.type,n,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(te,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(F){_e(a,a.return,F)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)tc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":tc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}}function yd(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ma(e,a),l&4&&cn(5,a);break;case 1:if(ma(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(f){_e(a,a.return,f)}else{var n=Qa(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){_e(a,a.return,f)}}l&64&&rd(a),l&512&&rn(a,a.return);break;case 3:if(ma(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Kr(e,t)}catch(f){_e(a,a.return,f)}}break;case 27:t===null&&l&4&&md(a);case 26:case 5:ma(e,a),t===null&&l&4&&dd(a),l&512&&rn(a,a.return);break;case 12:ma(e,a);break;case 13:ma(e,a),l&4&&vd(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=F0.bind(null,a),pg(e,a))));break;case 22:if(l=a.memoizedState!==null||Pt,!l){t=t!==null&&t.memoizedState!==null||Ge,n=Pt;var i=Ge;Pt=l,(Ge=t)&&!i?ga(e,a,(a.subtreeFlags&8772)!==0):ma(e,a),Pt=n,Ge=i}break;case 30:break;default:ma(e,a)}}function hd(e){var t=e.alternate;t!==null&&(e.alternate=null,hd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ss(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ee=null,ut=!1;function Wt(e,t,a){for(a=a.child;a!==null;)pd(e,t,a),a=a.sibling}function pd(e,t,a){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Rl,a)}catch{}switch(a.tag){case 26:Ge||Ht(a,t),Wt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ge||Ht(a,t);var l=Ee,n=ut;xa(a.type)&&(Ee=a.stateNode,ut=!1),Wt(e,t,a),vn(a.stateNode),Ee=l,ut=n;break;case 5:Ge||Ht(a,t);case 6:if(l=Ee,n=ut,Ee=null,Wt(e,t,a),Ee=l,ut=n,Ee!==null)if(ut)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(a.stateNode)}catch(i){_e(a,t,i)}else try{Ee.removeChild(a.stateNode)}catch(i){_e(a,t,i)}break;case 18:Ee!==null&&(ut?(e=Ee,sf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),An(e)):sf(Ee,a.stateNode));break;case 4:l=Ee,n=ut,Ee=a.stateNode.containerInfo,ut=!0,Wt(e,t,a),Ee=l,ut=n;break;case 0:case 11:case 14:case 15:Ge||fa(2,a,t),Ge||fa(4,a,t),Wt(e,t,a);break;case 1:Ge||(Ht(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&od(a,t,l)),Wt(e,t,a);break;case 21:Wt(e,t,a);break;case 22:Ge=(l=Ge)||a.memoizedState!==null,Wt(e,t,a),Ge=l;break;default:Wt(e,t,a)}}function vd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{An(e)}catch(a){_e(t,t.return,a)}}function V0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new gd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new gd),t;default:throw Error(u(435,e.tag))}}function qu(e,t){var a=V0(e);t.forEach(function(l){var n=eg.bind(null,e,l);a.has(l)||(a.add(l),l.then(n,n))})}function gt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],i=e,f=t,y=f;e:for(;y!==null;){switch(y.tag){case 27:if(xa(y.type)){Ee=y.stateNode,ut=!1;break e}break;case 5:Ee=y.stateNode,ut=!1;break e;case 3:case 4:Ee=y.stateNode.containerInfo,ut=!0;break e}y=y.return}if(Ee===null)throw Error(u(160));pd(i,f,n),Ee=null,ut=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)bd(t,e),t=t.sibling}var Ot=null;function bd(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gt(t,e),yt(e),l&4&&(fa(3,e,e.return),cn(3,e),fa(5,e,e.return));break;case 1:gt(t,e),yt(e),l&512&&(Ge||a===null||Ht(a,a.return)),l&64&&Pt&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=Ot;if(gt(t,e),yt(e),l&512&&(Ge||a===null||Ht(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":i=n.getElementsByTagName("title")[0],(!i||i[Dl]||i[Pe]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(l),n.head.insertBefore(i,n.querySelector("head > title"))),Ke(i,l,a),i[Pe]=e,ke(i),l=i;break e;case"link":var f=gf("link","href",n).get(l+(a.href||""));if(f){for(var y=0;y<f.length;y++)if(i=f[y],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){f.splice(y,1);break t}}i=n.createElement(l),Ke(i,l,a),n.head.appendChild(i);break;case"meta":if(f=gf("meta","content",n).get(l+(a.content||""))){for(y=0;y<f.length;y++)if(i=f[y],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){f.splice(y,1);break t}}i=n.createElement(l),Ke(i,l,a),n.head.appendChild(i);break;default:throw Error(u(468,l))}i[Pe]=e,ke(i),l=i}e.stateNode=l}else yf(n,e.type,e.stateNode);else e.stateNode=mf(n,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?yf(n,e.type,e.stateNode):mf(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Mu(e,e.memoizedProps,a.memoizedProps)}break;case 27:gt(t,e),yt(e),l&512&&(Ge||a===null||Ht(a,a.return)),a!==null&&l&4&&Mu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(gt(t,e),yt(e),l&512&&(Ge||a===null||Ht(a,a.return)),e.flags&32){n=e.stateNode;try{Pa(n,"")}catch(q){_e(e,e.return,q)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,Mu(e,n,a!==null?a.memoizedProps:n)),l&1024&&(Eu=!0);break;case 6:if(gt(t,e),yt(e),l&4){if(e.stateNode===null)throw Error(u(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(q){_e(e,e.return,q)}}break;case 3:if(Ii=null,n=Ot,Ot=Li(t.containerInfo),gt(t,e),Ot=n,yt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{An(t.containerInfo)}catch(q){_e(e,e.return,q)}Eu&&(Eu=!1,xd(e));break;case 4:l=Ot,Ot=Li(e.stateNode.containerInfo),gt(t,e),yt(e),Ot=l;break;case 12:gt(t,e),yt(e);break;case 13:gt(t,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uu=Ut()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,qu(e,l)));break;case 22:n=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,T=Pt,j=Ge;if(Pt=T||n,Ge=j||b,gt(t,e),Ge=j,Pt=T,yt(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||b||Pt||Ge||Ba(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){b=a=t;try{if(i=b.stateNode,n)f=i.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=b.stateNode;var H=b.memoizedProps.style,E=H!=null&&H.hasOwnProperty("display")?H.display:null;y.style.display=E==null||typeof E=="boolean"?"":(""+E).trim()}}catch(q){_e(b,b.return,q)}}}else if(t.tag===6){if(a===null){b=t;try{b.stateNode.nodeValue=n?"":b.memoizedProps}catch(q){_e(b,b.return,q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,qu(e,a))));break;case 19:gt(t,e),yt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,qu(e,l)));break;case 30:break;case 21:break;default:gt(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(fd(l)){a=l;break}l=l.return}if(a==null)throw Error(u(160));switch(a.tag){case 27:var n=a.stateNode,i=Tu(e);Ni(e,i,n);break;case 5:var f=a.stateNode;a.flags&32&&(Pa(f,""),a.flags&=-33);var y=Tu(e);Ni(e,y,f);break;case 3:case 4:var b=a.stateNode.containerInfo,T=Tu(e);Au(e,T,b);break;default:throw Error(u(161))}}catch(j){_e(e,e.return,j)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ma(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)yd(e,t.alternate,t),t=t.sibling}function Ba(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:fa(4,t,t.return),Ba(t);break;case 1:Ht(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&od(t,t.return,a),Ba(t);break;case 27:vn(t.stateNode);case 26:case 5:Ht(t,t.return),Ba(t);break;case 22:t.memoizedState===null&&Ba(t);break;case 30:Ba(t);break;default:Ba(t)}e=e.sibling}}function ga(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,i=t,f=i.flags;switch(i.tag){case 0:case 11:case 15:ga(n,i,a),cn(4,i);break;case 1:if(ga(n,i,a),l=i,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(T){_e(l,l.return,T)}if(l=i,n=l.updateQueue,n!==null){var y=l.stateNode;try{var b=n.shared.hiddenCallbacks;if(b!==null)for(n.shared.hiddenCallbacks=null,n=0;n<b.length;n++)Jr(b[n],y)}catch(T){_e(l,l.return,T)}}a&&f&64&&rd(i),rn(i,i.return);break;case 27:md(i);case 26:case 5:ga(n,i,a),a&&l===null&&f&4&&dd(i),rn(i,i.return);break;case 12:ga(n,i,a);break;case 13:ga(n,i,a),a&&f&4&&vd(n,i);break;case 22:i.memoizedState===null&&ga(n,i,a),rn(i,i.return);break;case 30:break;default:ga(n,i,a)}t=t.sibling}}function Ru(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zl(a))}function Cu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zl(e))}function It(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_d(e,t,a,l),t=t.sibling}function _d(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:It(e,t,a,l),n&2048&&cn(9,t);break;case 1:It(e,t,a,l);break;case 3:It(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zl(e)));break;case 12:if(n&2048){It(e,t,a,l),e=t.stateNode;try{var i=t.memoizedProps,f=i.id,y=i.onPostCommit;typeof y=="function"&&y(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){_e(t,t.return,b)}}else It(e,t,a,l);break;case 13:It(e,t,a,l);break;case 23:break;case 22:i=t.stateNode,f=t.alternate,t.memoizedState!==null?i._visibility&2?It(e,t,a,l):on(e,t):i._visibility&2?It(e,t,a,l):(i._visibility|=2,hl(e,t,a,l,(t.subtreeFlags&10256)!==0)),n&2048&&Ru(f,t);break;case 24:It(e,t,a,l),n&2048&&Cu(t.alternate,t);break;default:It(e,t,a,l)}}function hl(e,t,a,l,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,f=t,y=a,b=l,T=f.flags;switch(f.tag){case 0:case 11:case 15:hl(i,f,y,b,n),cn(8,f);break;case 23:break;case 22:var j=f.stateNode;f.memoizedState!==null?j._visibility&2?hl(i,f,y,b,n):on(i,f):(j._visibility|=2,hl(i,f,y,b,n)),n&&T&2048&&Ru(f.alternate,f);break;case 24:hl(i,f,y,b,n),n&&T&2048&&Cu(f.alternate,f);break;default:hl(i,f,y,b,n)}t=t.sibling}}function on(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:on(a,l),n&2048&&Ru(l.alternate,l);break;case 24:on(a,l),n&2048&&Cu(l.alternate,l);break;default:on(a,l)}t=t.sibling}}var dn=8192;function pl(e){if(e.subtreeFlags&dn)for(e=e.child;e!==null;)Sd(e),e=e.sibling}function Sd(e){switch(e.tag){case 26:pl(e),e.flags&dn&&e.memoizedState!==null&&Cg(Ot,e.memoizedState,e.memoizedProps);break;case 5:pl(e);break;case 3:case 4:var t=Ot;Ot=Li(e.stateNode.containerInfo),pl(e),Ot=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=dn,dn=16777216,pl(e),dn=t):pl(e));break;default:pl(e)}}function Nd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function fn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Ye=l,Td(l,e)}Nd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Md(e),e=e.sibling}function Md(e){switch(e.tag){case 0:case 11:case 15:fn(e),e.flags&2048&&fa(9,e,e.return);break;case 3:fn(e);break;case 12:fn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Mi(e)):fn(e);break;default:fn(e)}}function Mi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Ye=l,Td(l,e)}Nd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:fa(8,t,t.return),Mi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Mi(t));break;default:Mi(t)}e=e.sibling}}function Td(e,t){for(;Ye!==null;){var a=Ye;switch(a.tag){case 0:case 11:case 15:fa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ye=l;else e:for(a=e;Ye!==null;){l=Ye;var n=l.sibling,i=l.return;if(hd(l),l===a){Ye=null;break e}if(n!==null){n.return=i,Ye=n;break e}Ye=i}}}var X0={getCacheForType:function(e){var t=We(ze),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Z0=typeof WeakMap=="function"?WeakMap:Map,ye=0,Ne=null,ue=null,re=0,he=0,ht=null,ya=!1,vl=!1,Ou=!1,Ft=0,Oe=0,ha=0,ka=0,Du=0,qt=0,bl=0,mn=null,ct=null,ju=!1,Uu=0,Ti=1/0,Ai=null,pa=null,Je=0,va=null,xl=null,_l=0,Gu=0,Lu=null,Ad=null,gn=0,Hu=null;function pt(){if((ye&2)!==0&&re!==0)return re&-re;if(D.T!==null){var e=cl;return e!==0?e:Yu()}return Bc()}function Ed(){qt===0&&(qt=(re&536870912)===0||me?Hc():536870912);var e=Et.current;return e!==null&&(e.flags|=32),qt}function vt(e,t,a){(e===Ne&&(he===2||he===9)||e.cancelPendingCommit!==null)&&(Sl(e,0),ba(e,re,qt,!1)),Ol(e,a),((ye&2)===0||e!==Ne)&&(e===Ne&&((ye&2)===0&&(ka|=a),Oe===4&&ba(e,re,qt,!1)),zt(e))}function qd(e,t,a){if((ye&6)!==0)throw Error(u(327));var l=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Cl(e,t),n=l?$0(e,t):Qu(e,t,!0),i=l;do{if(n===0){vl&&!l&&ba(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!J0(a)){n=Qu(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var y=e;n=mn;var b=y.current.memoizedState.isDehydrated;if(b&&(Sl(y,f).flags|=256),f=Qu(y,f,!1),f!==2){if(Ou&&!b){y.errorRecoveryDisabledLanes|=i,ka|=i,n=4;break e}i=ct,ct=n,i!==null&&(ct===null?ct=i:ct.push.apply(ct,i))}n=f}if(i=!1,n!==2)continue}}if(n===1){Sl(e,0),ba(e,t,0,!0);break}e:{switch(l=e,i=n,i){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:ba(l,t,qt,!ya);break e;case 2:ct=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(n=Uu+300-Ut(),10<n)){if(ba(l,t,qt,!ya),Hn(l,0,!0)!==0)break e;l.timeoutHandle=lf(Rd.bind(null,l,a,ct,Ai,ju,t,qt,ka,bl,ya,i,2,-0,0),n);break e}Rd(l,a,ct,Ai,ju,t,qt,ka,bl,ya,i,0,-0,0)}}break}while(!0);zt(e)}function Rd(e,t,a,l,n,i,f,y,b,T,j,H,E,q){if(e.timeoutHandle=-1,H=t.subtreeFlags,(H&8192||(H&16785408)===16785408)&&(_n={stylesheets:null,count:0,unsuspend:Rg},Sd(t),H=Og(),H!==null)){e.cancelPendingCommit=H(Ld.bind(null,e,t,i,a,l,n,f,y,b,j,1,E,q)),ba(e,i,f,!T);return}Ld(e,t,i,a,l,n,f,y,b)}function J0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],i=n.getSnapshot;n=n.value;try{if(!ft(i(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ba(e,t,a,l){t&=~Du,t&=~ka,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var i=31-dt(n),f=1<<i;l[i]=-1,n&=~f}a!==0&&zc(e,a,t)}function Ei(){return(ye&6)===0?(yn(0),!1):!0}function Iu(){if(ue!==null){if(he===0)var e=ue.return;else e=ue,Vt=La=null,tu(e),gl=null,nn=0,e=ue;for(;e!==null;)cd(e.alternate,e),e=e.return;ue=null}}function Sl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,fg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Iu(),Ne=e,ue=a=kt(e.current,null),re=t,he=0,ht=null,ya=!1,vl=Cl(e,t),Ou=!1,bl=qt=Du=ka=ha=Oe=0,ct=mn=null,ju=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-dt(l),i=1<<n;t|=e[n],l&=~i}return Ft=t,Kn(),a}function Cd(e,t){ne=null,D.H=gi,t===Kl||t===ni?(t=Xr(),he=3):t===wr?(t=Xr(),he=4):he=t===Jo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ht=t,ue===null&&(Oe=1,bi(e,Nt(t,e.current)))}function Od(){var e=D.H;return D.H=gi,e===null?gi:e}function Dd(){var e=D.A;return D.A=X0,e}function zu(){Oe=4,ya||(re&4194048)!==re&&Et.current!==null||(vl=!0),(ha&134217727)===0&&(ka&134217727)===0||Ne===null||ba(Ne,re,qt,!1)}function Qu(e,t,a){var l=ye;ye|=2;var n=Od(),i=Dd();(Ne!==e||re!==t)&&(Ai=null,Sl(e,t)),t=!1;var f=Oe;e:do try{if(he!==0&&ue!==null){var y=ue,b=ht;switch(he){case 8:Iu(),f=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(t=!0);var T=he;if(he=0,ht=null,Nl(e,y,b,T),a&&vl){f=0;break e}break;default:T=he,he=0,ht=null,Nl(e,y,b,T)}}K0(),f=Oe;break}catch(j){Cd(e,j)}while(!0);return t&&e.shellSuspendCounter++,Vt=La=null,ye=l,D.H=n,D.A=i,ue===null&&(Ne=null,re=0,Kn()),f}function K0(){for(;ue!==null;)jd(ue)}function $0(e,t){var a=ye;ye|=2;var l=Od(),n=Dd();Ne!==e||re!==t?(Ai=null,Ti=Ut()+500,Sl(e,t)):vl=Cl(e,t);e:do try{if(he!==0&&ue!==null){t=ue;var i=ht;t:switch(he){case 1:he=0,ht=null,Nl(e,t,i,1);break;case 2:case 9:if(Yr(i)){he=0,ht=null,Ud(t);break}t=function(){he!==2&&he!==9||Ne!==e||(he=7),zt(e)},i.then(t,t);break e;case 3:he=7;break e;case 4:he=5;break e;case 7:Yr(i)?(he=0,ht=null,Ud(t)):(he=0,ht=null,Nl(e,t,i,7));break;case 5:var f=null;switch(ue.tag){case 26:f=ue.memoizedState;case 5:case 27:var y=ue;if(!f||hf(f)){he=0,ht=null;var b=y.sibling;if(b!==null)ue=b;else{var T=y.return;T!==null?(ue=T,qi(T)):ue=null}break t}}he=0,ht=null,Nl(e,t,i,5);break;case 6:he=0,ht=null,Nl(e,t,i,6);break;case 8:Iu(),Oe=6;break e;default:throw Error(u(462))}}P0();break}catch(j){Cd(e,j)}while(!0);return Vt=La=null,D.H=l,D.A=n,ye=a,ue!==null?0:(Ne=null,re=0,Kn(),Oe)}function P0(){for(;ue!==null&&!bm();)jd(ue)}function jd(e){var t=sd(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?qi(e):ue=t}function Ud(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=ed(a,t,t.pendingProps,t.type,void 0,re);break;case 11:t=ed(a,t,t.pendingProps,t.type.render,t.ref,re);break;case 5:tu(t);default:cd(a,t),t=ue=Ur(t,Ft),t=sd(a,t,Ft)}e.memoizedProps=e.pendingProps,t===null?qi(e):ue=t}function Nl(e,t,a,l){Vt=La=null,tu(t),gl=null,nn=0;var n=t.return;try{if(Q0(e,n,t,a,re)){Oe=1,bi(e,Nt(a,e.current)),ue=null;return}}catch(i){if(n!==null)throw ue=n,i;Oe=1,bi(e,Nt(a,e.current)),ue=null;return}t.flags&32768?(me||l===1?e=!0:vl||(re&536870912)!==0?e=!1:(ya=e=!0,(l===2||l===9||l===3||l===6)&&(l=Et.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gd(t,e)):qi(t)}function qi(e){var t=e;do{if((t.flags&32768)!==0){Gd(t,ya);return}e=t.return;var a=k0(t.alternate,t,Ft);if(a!==null){ue=a;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);Oe===0&&(Oe=5)}function Gd(e,t){do{var a=w0(e.alternate,e);if(a!==null){a.flags&=32767,ue=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ue=e;return}ue=e=a}while(e!==null);Oe=6,ue=null}function Ld(e,t,a,l,n,i,f,y,b){e.cancelPendingCommit=null;do Ri();while(Je!==0);if((ye&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(i=t.lanes|t.childLanes,i|=Cs,Rm(e,a,i,f,y,b),e===Ne&&(ue=Ne=null,re=0),xl=t,va=e,_l=a,Gu=i,Lu=n,Ad=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tg(Un,function(){return Bd(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=D.T,D.T=null,n=Y.p,Y.p=2,f=ye,ye|=4;try{Y0(e,t,a)}finally{ye=f,Y.p=n,D.T=l}}Je=1,Hd(),Id(),zd()}}function Hd(){if(Je===1){Je=0;var e=va,t=xl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var l=Y.p;Y.p=2;var n=ye;ye|=4;try{bd(t,e);var i=Wu,f=Mr(e.containerInfo),y=i.focusedElem,b=i.selectionRange;if(f!==y&&y&&y.ownerDocument&&Nr(y.ownerDocument.documentElement,y)){if(b!==null&&Ts(y)){var T=b.start,j=b.end;if(j===void 0&&(j=T),"selectionStart"in y)y.selectionStart=T,y.selectionEnd=Math.min(j,y.value.length);else{var H=y.ownerDocument||document,E=H&&H.defaultView||window;if(E.getSelection){var q=E.getSelection(),te=y.textContent.length,F=Math.min(b.start,te),xe=b.end===void 0?F:Math.min(b.end,te);!q.extend&&F>xe&&(f=xe,xe=F,F=f);var N=Sr(y,F),_=Sr(y,xe);if(N&&_&&(q.rangeCount!==1||q.anchorNode!==N.node||q.anchorOffset!==N.offset||q.focusNode!==_.node||q.focusOffset!==_.offset)){var M=H.createRange();M.setStart(N.node,N.offset),q.removeAllRanges(),F>xe?(q.addRange(M),q.extend(_.node,_.offset)):(M.setEnd(_.node,_.offset),q.addRange(M))}}}}for(H=[],q=y;q=q.parentNode;)q.nodeType===1&&H.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<H.length;y++){var U=H[y];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Bi=!!Pu,Wu=Pu=null}finally{ye=n,Y.p=l,D.T=a}}e.current=t,Je=2}}function Id(){if(Je===2){Je=0;var e=va,t=xl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var l=Y.p;Y.p=2;var n=ye;ye|=4;try{yd(e,t.alternate,t)}finally{ye=n,Y.p=l,D.T=a}}Je=3}}function zd(){if(Je===4||Je===3){Je=0,xm();var e=va,t=xl,a=_l,l=Ad;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Je=5:(Je=0,xl=va=null,Qd(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(pa=null),ns(a),t=t.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Rl,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=D.T,n=Y.p,Y.p=2,D.T=null;try{for(var i=e.onRecoverableError,f=0;f<l.length;f++){var y=l[f];i(y.value,{componentStack:y.stack})}}finally{D.T=t,Y.p=n}}(_l&3)!==0&&Ri(),zt(e),n=e.pendingLanes,(a&4194090)!==0&&(n&42)!==0?e===Hu?gn++:(gn=0,Hu=e):gn=0,yn(0)}}function Qd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zl(t)))}function Ri(e){return Hd(),Id(),zd(),Bd()}function Bd(){if(Je!==5)return!1;var e=va,t=Gu;Gu=0;var a=ns(_l),l=D.T,n=Y.p;try{Y.p=32>a?32:a,D.T=null,a=Lu,Lu=null;var i=va,f=_l;if(Je=0,xl=va=null,_l=0,(ye&6)!==0)throw Error(u(331));var y=ye;if(ye|=4,Md(i.current),_d(i,i.current,f,a),ye=y,yn(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Rl,i)}catch{}return!0}finally{Y.p=n,D.T=l,Qd(e,t)}}function kd(e,t,a){t=Nt(a,t),t=yu(e.stateNode,t,2),e=ca(e,t,2),e!==null&&(Ol(e,2),zt(e))}function _e(e,t,a){if(e.tag===3)kd(e,e,a);else for(;t!==null;){if(t.tag===3){kd(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pa===null||!pa.has(l))){e=Nt(a,e),a=Xo(2),l=ca(t,a,2),l!==null&&(Zo(a,l,t,e),Ol(l,2),zt(l));break}}t=t.return}}function Bu(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Z0;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(Ou=!0,n.add(a),e=W0.bind(null,e,t,a),t.then(e,e))}function W0(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ne===e&&(re&a)===a&&(Oe===4||Oe===3&&(re&62914560)===re&&300>Ut()-Uu?(ye&2)===0&&Sl(e,0):Du|=a,bl===re&&(bl=0)),zt(e)}function wd(e,t){t===0&&(t=Ic()),e=nl(e,t),e!==null&&(Ol(e,t),zt(e))}function F0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),wd(e,a)}function eg(e,t){var a=0;switch(e.tag){case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(u(314))}l!==null&&l.delete(t),wd(e,a)}function tg(e,t){return es(e,t)}var Ci=null,Ml=null,ku=!1,Oi=!1,wu=!1,wa=0;function zt(e){e!==Ml&&e.next===null&&(Ml===null?Ci=Ml=e:Ml=Ml.next=e),Oi=!0,ku||(ku=!0,lg())}function yn(e,t){if(!wu&&Oi){wu=!0;do for(var a=!1,l=Ci;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var i=0;else{var f=l.suspendedLanes,y=l.pingedLanes;i=(1<<31-dt(42|e)+1)-1,i&=n&~(f&~y),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Zd(l,i))}else i=re,i=Hn(l,l===Ne?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||Cl(l,i)||(a=!0,Zd(l,i));l=l.next}while(a);wu=!1}}function ag(){Yd()}function Yd(){Oi=ku=!1;var e=0;wa!==0&&(dg()&&(e=wa),wa=0);for(var t=Ut(),a=null,l=Ci;l!==null;){var n=l.next,i=Vd(l,t);i===0?(l.next=null,a===null?Ci=n:a.next=n,n===null&&(Ml=a)):(a=l,(e!==0||(i&3)!==0)&&(Oi=!0)),l=n}yn(e)}function Vd(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var f=31-dt(i),y=1<<f,b=n[f];b===-1?((y&a)===0||(y&l)!==0)&&(n[f]=qm(y,t)):b<=t&&(e.expiredLanes|=y),i&=~y}if(t=Ne,a=re,a=Hn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(he===2||he===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ts(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Cl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&ts(l),ns(a)){case 2:case 8:a=Gc;break;case 32:a=Un;break;case 268435456:a=Lc;break;default:a=Un}return l=Xd.bind(null,e),a=es(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&ts(l),e.callbackPriority=2,e.callbackNode=null,2}function Xd(e,t){if(Je!==0&&Je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ri()&&e.callbackNode!==a)return null;var l=re;return l=Hn(e,e===Ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(qd(e,l,t),Vd(e,Ut()),e.callbackNode!=null&&e.callbackNode===a?Xd.bind(null,e):null)}function Zd(e,t){if(Ri())return null;qd(e,t,!0)}function lg(){mg(function(){(ye&6)!==0?es(Uc,ag):Yd()})}function Yu(){return wa===0&&(wa=Hc()),wa}function Jd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:kn(""+e)}function Kd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function ng(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var i=Jd((n[nt]||null).action),f=l.submitter;f&&(t=(t=f[nt]||null)?Jd(t.formAction):f.getAttribute("formAction"),t!==null&&(i=t,f=null));var y=new Xn("action","action",null,l,n);e.push({event:y,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(wa!==0){var b=f?Kd(n,f):new FormData(n);ou(a,{pending:!0,data:b,method:n.method,action:i},null,b)}}else typeof i=="function"&&(y.preventDefault(),b=f?Kd(n,f):new FormData(n),ou(a,{pending:!0,data:b,method:n.method,action:i},i,b))},currentTarget:n}]})}}for(var Vu=0;Vu<Rs.length;Vu++){var Xu=Rs[Vu],ig=Xu.toLowerCase(),sg=Xu[0].toUpperCase()+Xu.slice(1);Ct(ig,"on"+sg)}Ct(Er,"onAnimationEnd"),Ct(qr,"onAnimationIteration"),Ct(Rr,"onAnimationStart"),Ct("dblclick","onDoubleClick"),Ct("focusin","onFocus"),Ct("focusout","onBlur"),Ct(N0,"onTransitionRun"),Ct(M0,"onTransitionStart"),Ct(T0,"onTransitionCancel"),Ct(Cr,"onTransitionEnd"),Ja("onMouseEnter",["mouseout","mouseover"]),Ja("onMouseLeave",["mouseout","mouseover"]),Ja("onPointerEnter",["pointerout","pointerover"]),Ja("onPointerLeave",["pointerout","pointerover"]),Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ug=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hn));function $d(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var f=l.length-1;0<=f;f--){var y=l[f],b=y.instance,T=y.currentTarget;if(y=y.listener,b!==i&&n.isPropagationStopped())break e;i=y,n.currentTarget=T;try{i(n)}catch(j){vi(j)}n.currentTarget=null,i=b}else for(f=0;f<l.length;f++){if(y=l[f],b=y.instance,T=y.currentTarget,y=y.listener,b!==i&&n.isPropagationStopped())break e;i=y,n.currentTarget=T;try{i(n)}catch(j){vi(j)}n.currentTarget=null,i=b}}}}function ce(e,t){var a=t[is];a===void 0&&(a=t[is]=new Set);var l=e+"__bubble";a.has(l)||(Pd(t,e,2,!1),a.add(l))}function Zu(e,t,a){var l=0;t&&(l|=4),Pd(a,e,l,t)}var Di="_reactListening"+Math.random().toString(36).slice(2);function Ju(e){if(!e[Di]){e[Di]=!0,wc.forEach(function(a){a!=="selectionchange"&&(ug.has(a)||Zu(a,!1,e),Zu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Di]||(t[Di]=!0,Zu("selectionchange",!1,t))}}function Pd(e,t,a,l){switch(Sf(t)){case 2:var n=Ug;break;case 8:n=Gg;break;default:n=cc}a=n.bind(null,t,a,e),n=void 0,!hs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Ku(e,t,a,l,n){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var f=l.tag;if(f===3||f===4){var y=l.stateNode.containerInfo;if(y===n)break;if(f===4)for(f=l.return;f!==null;){var b=f.tag;if((b===3||b===4)&&f.stateNode.containerInfo===n)return;f=f.return}for(;y!==null;){if(f=Va(y),f===null)return;if(b=f.tag,b===5||b===6||b===26||b===27){l=i=f;continue e}y=y.parentNode}}l=l.return}lr(function(){var T=i,j=gs(a),H=[];e:{var E=Or.get(e);if(E!==void 0){var q=Xn,te=e;switch(e){case"keypress":if(Yn(a)===0)break e;case"keydown":case"keyup":q=t0;break;case"focusin":te="focus",q=xs;break;case"focusout":te="blur",q=xs;break;case"beforeblur":case"afterblur":q=xs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=wm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=n0;break;case Er:case qr:case Rr:q=Xm;break;case Cr:q=s0;break;case"scroll":case"scrollend":q=Bm;break;case"wheel":q=c0;break;case"copy":case"cut":case"paste":q=Jm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=cr;break;case"toggle":case"beforetoggle":q=o0}var F=(t&4)!==0,xe=!F&&(e==="scroll"||e==="scrollend"),N=F?E!==null?E+"Capture":null:E;F=[];for(var _=T,M;_!==null;){var U=_;if(M=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||M===null||N===null||(U=Ul(_,N),U!=null&&F.push(pn(_,U,M))),xe)break;_=_.return}0<F.length&&(E=new q(E,te,null,a,j),H.push({event:E,listeners:F}))}}if((t&7)===0){e:{if(E=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",E&&a!==ms&&(te=a.relatedTarget||a.fromElement)&&(Va(te)||te[Ya]))break e;if((q||E)&&(E=j.window===j?j:(E=j.ownerDocument)?E.defaultView||E.parentWindow:window,q?(te=a.relatedTarget||a.toElement,q=T,te=te?Va(te):null,te!==null&&(xe=m(te),F=te.tag,te!==xe||F!==5&&F!==27&&F!==6)&&(te=null)):(q=null,te=T),q!==te)){if(F=sr,U="onMouseLeave",N="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(F=cr,U="onPointerLeave",N="onPointerEnter",_="pointer"),xe=q==null?E:jl(q),M=te==null?E:jl(te),E=new F(U,_+"leave",q,a,j),E.target=xe,E.relatedTarget=M,U=null,Va(j)===T&&(F=new F(N,_+"enter",te,a,j),F.target=M,F.relatedTarget=xe,U=F),xe=U,q&&te)t:{for(F=q,N=te,_=0,M=F;M;M=Tl(M))_++;for(M=0,U=N;U;U=Tl(U))M++;for(;0<_-M;)F=Tl(F),_--;for(;0<M-_;)N=Tl(N),M--;for(;_--;){if(F===N||N!==null&&F===N.alternate)break t;F=Tl(F),N=Tl(N)}F=null}else F=null;q!==null&&Wd(H,E,q,F,!1),te!==null&&xe!==null&&Wd(H,xe,te,F,!0)}}e:{if(E=T?jl(T):window,q=E.nodeName&&E.nodeName.toLowerCase(),q==="select"||q==="input"&&E.type==="file")var J=hr;else if(gr(E))if(pr)J=x0;else{J=v0;var se=p0}else q=E.nodeName,!q||q.toLowerCase()!=="input"||E.type!=="checkbox"&&E.type!=="radio"?T&&fs(T.elementType)&&(J=hr):J=b0;if(J&&(J=J(e,T))){yr(H,J,a,j);break e}se&&se(e,E,T),e==="focusout"&&T&&E.type==="number"&&T.memoizedProps.value!=null&&ds(E,"number",E.value)}switch(se=T?jl(T):window,e){case"focusin":(gr(se)||se.contentEditable==="true")&&(tl=se,As=T,kl=null);break;case"focusout":kl=As=tl=null;break;case"mousedown":Es=!0;break;case"contextmenu":case"mouseup":case"dragend":Es=!1,Tr(H,a,j);break;case"selectionchange":if(S0)break;case"keydown":case"keyup":Tr(H,a,j)}var K;if(Ss)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else el?fr(e,a)&&(ee="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ee="onCompositionStart");ee&&(rr&&a.locale!=="ko"&&(el||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&el&&(K=nr()):(na=j,ps="value"in na?na.value:na.textContent,el=!0)),se=ji(T,ee),0<se.length&&(ee=new ur(ee,e,null,a,j),H.push({event:ee,listeners:se}),K?ee.data=K:(K=mr(a),K!==null&&(ee.data=K)))),(K=f0?m0(e,a):g0(e,a))&&(ee=ji(T,"onBeforeInput"),0<ee.length&&(se=new ur("onBeforeInput","beforeinput",null,a,j),H.push({event:se,listeners:ee}),se.data=K)),ng(H,e,T,a,j)}$d(H,t)})}function pn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ji(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Ul(e,a),n!=null&&l.unshift(pn(e,n,i)),n=Ul(e,t),n!=null&&l.push(pn(e,n,i))),e.tag===3)return l;e=e.return}return[]}function Tl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wd(e,t,a,l,n){for(var i=t._reactName,f=[];a!==null&&a!==l;){var y=a,b=y.alternate,T=y.stateNode;if(y=y.tag,b!==null&&b===l)break;y!==5&&y!==26&&y!==27||T===null||(b=T,n?(T=Ul(a,i),T!=null&&f.unshift(pn(a,T,b))):n||(T=Ul(a,i),T!=null&&f.push(pn(a,T,b)))),a=a.return}f.length!==0&&e.push({event:t,listeners:f})}var cg=/\r\n?/g,rg=/\u0000|\uFFFD/g;function Fd(e){return(typeof e=="string"?e:""+e).replace(cg,`
`).replace(rg,"")}function ef(e,t){return t=Fd(t),Fd(e)===t}function Ui(){}function be(e,t,a,l,n,i){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Pa(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Pa(e,""+l);break;case"className":zn(e,"class",l);break;case"tabIndex":zn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(e,a,l);break;case"style":tr(e,l,i);break;case"data":if(t!=="object"){zn(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=kn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&be(e,t,"name",n.name,n,null),be(e,t,"formEncType",n.formEncType,n,null),be(e,t,"formMethod",n.formMethod,n,null),be(e,t,"formTarget",n.formTarget,n,null)):(be(e,t,"encType",n.encType,n,null),be(e,t,"method",n.method,n,null),be(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=kn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ui);break;case"onScroll":l!=null&&ce("scroll",e);break;case"onScrollEnd":l!=null&&ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=kn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":ce("beforetoggle",e),ce("toggle",e),In(e,"popover",l);break;case"xlinkActuate":Qt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":In(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zm.get(a)||a,In(e,a,l))}}function $u(e,t,a,l,n,i){switch(a){case"style":tr(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Pa(e,l):(typeof l=="number"||typeof l=="bigint")&&Pa(e,""+l);break;case"onScroll":l!=null&&ce("scroll",e);break;case"onScrollEnd":l!=null&&ce("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),i=e[nt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):In(e,a,l)}}}function Ke(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",e),ce("load",e);var l=!1,n=!1,i;for(i in a)if(a.hasOwnProperty(i)){var f=a[i];if(f!=null)switch(i){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:be(e,t,i,f,a,null)}}n&&be(e,t,"srcSet",a.srcSet,a,null),l&&be(e,t,"src",a.src,a,null);return;case"input":ce("invalid",e);var y=i=f=n=null,b=null,T=null;for(l in a)if(a.hasOwnProperty(l)){var j=a[l];if(j!=null)switch(l){case"name":n=j;break;case"type":f=j;break;case"checked":b=j;break;case"defaultChecked":T=j;break;case"value":i=j;break;case"defaultValue":y=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(u(137,t));break;default:be(e,t,l,j,a,null)}}Pc(e,i,y,b,T,f,n,!1),Qn(e);return;case"select":ce("invalid",e),l=f=i=null;for(n in a)if(a.hasOwnProperty(n)&&(y=a[n],y!=null))switch(n){case"value":i=y;break;case"defaultValue":f=y;break;case"multiple":l=y;default:be(e,t,n,y,a,null)}t=i,a=f,e.multiple=!!l,t!=null?$a(e,!!l,t,!1):a!=null&&$a(e,!!l,a,!0);return;case"textarea":ce("invalid",e),i=n=l=null;for(f in a)if(a.hasOwnProperty(f)&&(y=a[f],y!=null))switch(f){case"value":l=y;break;case"defaultValue":n=y;break;case"children":i=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(u(91));break;default:be(e,t,f,y,a,null)}Fc(e,l,n,i),Qn(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:be(e,t,b,l,a,null)}return;case"dialog":ce("beforetoggle",e),ce("toggle",e),ce("cancel",e),ce("close",e);break;case"iframe":case"object":ce("load",e);break;case"video":case"audio":for(l=0;l<hn.length;l++)ce(hn[l],e);break;case"image":ce("error",e),ce("load",e);break;case"details":ce("toggle",e);break;case"embed":case"source":case"link":ce("error",e),ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(T in a)if(a.hasOwnProperty(T)&&(l=a[T],l!=null))switch(T){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:be(e,t,T,l,a,null)}return;default:if(fs(t)){for(j in a)a.hasOwnProperty(j)&&(l=a[j],l!==void 0&&$u(e,t,j,l,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(l=a[y],l!=null&&be(e,t,y,l,a,null))}function og(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,f=null,y=null,b=null,T=null,j=null;for(q in a){var H=a[q];if(a.hasOwnProperty(q)&&H!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=H;default:l.hasOwnProperty(q)||be(e,t,q,null,l,H)}}for(var E in l){var q=l[E];if(H=a[E],l.hasOwnProperty(E)&&(q!=null||H!=null))switch(E){case"type":i=q;break;case"name":n=q;break;case"checked":T=q;break;case"defaultChecked":j=q;break;case"value":f=q;break;case"defaultValue":y=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(u(137,t));break;default:q!==H&&be(e,t,E,q,l,H)}}os(e,f,y,b,T,j,i,n);return;case"select":q=f=y=E=null;for(i in a)if(b=a[i],a.hasOwnProperty(i)&&b!=null)switch(i){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(i)||be(e,t,i,null,l,b)}for(n in l)if(i=l[n],b=a[n],l.hasOwnProperty(n)&&(i!=null||b!=null))switch(n){case"value":E=i;break;case"defaultValue":y=i;break;case"multiple":f=i;default:i!==b&&be(e,t,n,i,l,b)}t=y,a=f,l=q,E!=null?$a(e,!!a,E,!1):!!l!=!!a&&(t!=null?$a(e,!!a,t,!0):$a(e,!!a,a?[]:"",!1));return;case"textarea":q=E=null;for(y in a)if(n=a[y],a.hasOwnProperty(y)&&n!=null&&!l.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:be(e,t,y,null,l,n)}for(f in l)if(n=l[f],i=a[f],l.hasOwnProperty(f)&&(n!=null||i!=null))switch(f){case"value":E=n;break;case"defaultValue":q=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(u(91));break;default:n!==i&&be(e,t,f,n,l,i)}Wc(e,E,q);return;case"option":for(var te in a)if(E=a[te],a.hasOwnProperty(te)&&E!=null&&!l.hasOwnProperty(te))switch(te){case"selected":e.selected=!1;break;default:be(e,t,te,null,l,E)}for(b in l)if(E=l[b],q=a[b],l.hasOwnProperty(b)&&E!==q&&(E!=null||q!=null))switch(b){case"selected":e.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:be(e,t,b,E,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var F in a)E=a[F],a.hasOwnProperty(F)&&E!=null&&!l.hasOwnProperty(F)&&be(e,t,F,null,l,E);for(T in l)if(E=l[T],q=a[T],l.hasOwnProperty(T)&&E!==q&&(E!=null||q!=null))switch(T){case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error(u(137,t));break;default:be(e,t,T,E,l,q)}return;default:if(fs(t)){for(var xe in a)E=a[xe],a.hasOwnProperty(xe)&&E!==void 0&&!l.hasOwnProperty(xe)&&$u(e,t,xe,void 0,l,E);for(j in l)E=l[j],q=a[j],!l.hasOwnProperty(j)||E===q||E===void 0&&q===void 0||$u(e,t,j,E,l,q);return}}for(var N in a)E=a[N],a.hasOwnProperty(N)&&E!=null&&!l.hasOwnProperty(N)&&be(e,t,N,null,l,E);for(H in l)E=l[H],q=a[H],!l.hasOwnProperty(H)||E===q||E==null&&q==null||be(e,t,H,E,l,q)}var Pu=null,Wu=null;function Gi(e){return e.nodeType===9?e:e.ownerDocument}function tf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function af(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ec=null;function dg(){var e=window.event;return e&&e.type==="popstate"?e===ec?!1:(ec=e,!0):(ec=null,!1)}var lf=typeof setTimeout=="function"?setTimeout:void 0,fg=typeof clearTimeout=="function"?clearTimeout:void 0,nf=typeof Promise=="function"?Promise:void 0,mg=typeof queueMicrotask=="function"?queueMicrotask:typeof nf<"u"?function(e){return nf.resolve(null).then(e).catch(gg)}:lf;function gg(e){setTimeout(function(){throw e})}function xa(e){return e==="head"}function sf(e,t){var a=t,l=0,n=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(0<l&&8>l){a=l;var f=e.ownerDocument;if(a&1&&vn(f.documentElement),a&2&&vn(f.body),a&4)for(a=f.head,vn(a),f=a.firstChild;f;){var y=f.nextSibling,b=f.nodeName;f[Dl]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}if(n===0){e.removeChild(i),An(t);return}n--}else a==="$"||a==="$?"||a==="$!"?n++:l=a.charCodeAt(0)-48;else l=0;a=i}while(a);An(t)}function tc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":tc(a),ss(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function yg(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Dl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Dt(e.nextSibling),e===null)break}return null}function hg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Dt(e.nextSibling),e===null))return null;return e}function ac(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function pg(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Dt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var lc=null;function uf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function cf(e,t,a){switch(t=Gi(a),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function vn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ss(e)}var Rt=new Map,rf=new Set;function Li(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ea=Y.d;Y.d={f:vg,r:bg,D:xg,C:_g,L:Sg,m:Ng,X:Tg,S:Mg,M:Ag};function vg(){var e=ea.f(),t=Ei();return e||t}function bg(e){var t=Xa(e);t!==null&&t.tag===5&&t.type==="form"?qo(t):ea.r(e)}var Al=typeof document>"u"?null:document;function of(e,t,a){var l=Al;if(l&&typeof t=="string"&&t){var n=St(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),rf.has(n)||(rf.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),Ke(t,"link",e),ke(t),l.head.appendChild(t)))}}function xg(e){ea.D(e),of("dns-prefetch",e,null)}function _g(e,t){ea.C(e,t),of("preconnect",e,t)}function Sg(e,t,a){ea.L(e,t,a);var l=Al;if(l&&e&&t){var n='link[rel="preload"][as="'+St(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+St(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+St(a.imageSizes)+'"]')):n+='[href="'+St(e)+'"]';var i=n;switch(t){case"style":i=El(e);break;case"script":i=ql(e)}Rt.has(i)||(e=S({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Rt.set(i,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(bn(i))||t==="script"&&l.querySelector(xn(i))||(t=l.createElement("link"),Ke(t,"link",e),ke(t),l.head.appendChild(t)))}}function Ng(e,t){ea.m(e,t);var a=Al;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+St(l)+'"][href="'+St(e)+'"]',i=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=ql(e)}if(!Rt.has(i)&&(e=S({rel:"modulepreload",href:e},t),Rt.set(i,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xn(i)))return}l=a.createElement("link"),Ke(l,"link",e),ke(l),a.head.appendChild(l)}}}function Mg(e,t,a){ea.S(e,t,a);var l=Al;if(l&&e){var n=Za(l).hoistableStyles,i=El(e);t=t||"default";var f=n.get(i);if(!f){var y={loading:0,preload:null};if(f=l.querySelector(bn(i)))y.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Rt.get(i))&&nc(e,a);var b=f=l.createElement("link");ke(b),Ke(b,"link",e),b._p=new Promise(function(T,j){b.onload=T,b.onerror=j}),b.addEventListener("load",function(){y.loading|=1}),b.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Hi(f,t,l)}f={type:"stylesheet",instance:f,count:1,state:y},n.set(i,f)}}}function Tg(e,t){ea.X(e,t);var a=Al;if(a&&e){var l=Za(a).hoistableScripts,n=ql(e),i=l.get(n);i||(i=a.querySelector(xn(n)),i||(e=S({src:e,async:!0},t),(t=Rt.get(n))&&ic(e,t),i=a.createElement("script"),ke(i),Ke(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function Ag(e,t){ea.M(e,t);var a=Al;if(a&&e){var l=Za(a).hoistableScripts,n=ql(e),i=l.get(n);i||(i=a.querySelector(xn(n)),i||(e=S({src:e,async:!0,type:"module"},t),(t=Rt.get(n))&&ic(e,t),i=a.createElement("script"),ke(i),Ke(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function df(e,t,a,l){var n=(n=ae.current)?Li(n):null;if(!n)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=El(a.href),a=Za(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=El(a.href);var i=Za(n).hoistableStyles,f=i.get(e);if(f||(n=n.ownerDocument||n,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,f),(i=n.querySelector(bn(e)))&&!i._p&&(f.instance=i,f.state.loading=5),Rt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Rt.set(e,a),i||Eg(n,e,a,f.state))),t&&l===null)throw Error(u(528,""));return f}if(t&&l!==null)throw Error(u(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ql(a),a=Za(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function El(e){return'href="'+St(e)+'"'}function bn(e){return'link[rel="stylesheet"]['+e+"]"}function ff(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Eg(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ke(t,"link",a),ke(t),e.head.appendChild(t))}function ql(e){return'[src="'+St(e)+'"]'}function xn(e){return"script[async]"+e}function mf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+St(a.href)+'"]');if(l)return t.instance=l,ke(l),l;var n=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ke(l),Ke(l,"style",n),Hi(l,a.precedence,e),t.instance=l;case"stylesheet":n=El(a.href);var i=e.querySelector(bn(n));if(i)return t.state.loading|=4,t.instance=i,ke(i),i;l=ff(a),(n=Rt.get(n))&&nc(l,n),i=(e.ownerDocument||e).createElement("link"),ke(i);var f=i;return f._p=new Promise(function(y,b){f.onload=y,f.onerror=b}),Ke(i,"link",l),t.state.loading|=4,Hi(i,a.precedence,e),t.instance=i;case"script":return i=ql(a.src),(n=e.querySelector(xn(i)))?(t.instance=n,ke(n),n):(l=a,(n=Rt.get(i))&&(l=S({},a),ic(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),ke(n),Ke(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Hi(l,a.precedence,e));return t.instance}function Hi(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,i=n,f=0;f<l.length;f++){var y=l[f];if(y.dataset.precedence===t)i=y;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ic(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ii=null;function gf(e,t,a){if(Ii===null){var l=new Map,n=Ii=new Map;n.set(a,l)}else n=Ii,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var i=a[n];if(!(i[Dl]||i[Pe]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var f=i.getAttribute(t)||"";f=e+f;var y=l.get(f);y?y.push(i):l.set(f,[i])}}return l}function yf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function qg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function hf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var _n=null;function Rg(){}function Cg(e,t,a){if(_n===null)throw Error(u(475));var l=_n;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=El(a.href),i=e.querySelector(bn(n));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=zi.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=i,ke(i);return}i=e.ownerDocument||e,a=ff(a),(n=Rt.get(n))&&nc(a,n),i=i.createElement("link"),ke(i);var f=i;f._p=new Promise(function(y,b){f.onload=y,f.onerror=b}),Ke(i,"link",a),t.instance=i}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=zi.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function Og(){if(_n===null)throw Error(u(475));var e=_n;return e.stylesheets&&e.count===0&&sc(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&sc(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function zi(){if(this.count--,this.count===0){if(this.stylesheets)sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qi=null;function sc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qi=new Map,t.forEach(Dg,e),Qi=null,zi.call(e))}function Dg(e,t){if(!(t.state.loading&4)){var a=Qi.get(e);if(a)var l=a.get(null);else{a=new Map,Qi.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var f=n[i];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(a.set(f.dataset.precedence,f),l=f)}l&&a.set(null,l)}n=t.instance,f=n.getAttribute("data-precedence"),i=a.get(f)||l,i===l&&a.set(null,n),a.set(f,n),this.count++,l=zi.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Sn={$$typeof:$,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function jg(e,t,a,l,n,i,f,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=as(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.hiddenUpdates=as(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function pf(e,t,a,l,n,i,f,y,b,T,j,H){return e=new jg(e,t,a,f,y,b,T,H),t=1,i===!0&&(t|=24),i=mt(3,null,null,t),e.current=i,i.stateNode=e,t=Bs(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:t},Vs(i),e}function vf(e){return e?(e=il,e):il}function bf(e,t,a,l,n,i){n=vf(n),l.context===null?l.context=n:l.pendingContext=n,l=ua(t),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=ca(e,l,t),a!==null&&(vt(a,e,t),Pl(a,e,t))}function xf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function uc(e,t){xf(e,t),(e=e.alternate)&&xf(e,t)}function _f(e){if(e.tag===13){var t=nl(e,67108864);t!==null&&vt(t,e,67108864),uc(e,67108864)}}var Bi=!0;function Ug(e,t,a,l){var n=D.T;D.T=null;var i=Y.p;try{Y.p=2,cc(e,t,a,l)}finally{Y.p=i,D.T=n}}function Gg(e,t,a,l){var n=D.T;D.T=null;var i=Y.p;try{Y.p=8,cc(e,t,a,l)}finally{Y.p=i,D.T=n}}function cc(e,t,a,l){if(Bi){var n=rc(l);if(n===null)Ku(e,t,l,ki,a),Nf(e,l);else if(Hg(n,e,t,a,l))l.stopPropagation();else if(Nf(e,l),t&4&&-1<Lg.indexOf(e)){for(;n!==null;){var i=Xa(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var f=Aa(i.pendingLanes);if(f!==0){var y=i;for(y.pendingLanes|=2,y.entangledLanes|=2;f;){var b=1<<31-dt(f);y.entanglements[1]|=b,f&=~b}zt(i),(ye&6)===0&&(Ti=Ut()+500,yn(0))}}break;case 13:y=nl(i,2),y!==null&&vt(y,i,2),Ei(),uc(i,2)}if(i=rc(l),i===null&&Ku(e,t,l,ki,a),i===n)break;n=i}n!==null&&l.stopPropagation()}else Ku(e,t,l,null,a)}}function rc(e){return e=gs(e),oc(e)}var ki=null;function oc(e){if(ki=null,e=Va(e),e!==null){var t=m(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ki=e,null}function Sf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_m()){case Uc:return 2;case Gc:return 8;case Un:case Sm:return 32;case Lc:return 268435456;default:return 32}default:return 32}}var dc=!1,_a=null,Sa=null,Na=null,Nn=new Map,Mn=new Map,Ma=[],Lg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nf(e,t){switch(e){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":Nn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(t.pointerId)}}function Tn(e,t,a,l,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Xa(t),t!==null&&_f(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Hg(e,t,a,l,n){switch(t){case"focusin":return _a=Tn(_a,e,t,a,l,n),!0;case"dragenter":return Sa=Tn(Sa,e,t,a,l,n),!0;case"mouseover":return Na=Tn(Na,e,t,a,l,n),!0;case"pointerover":var i=n.pointerId;return Nn.set(i,Tn(Nn.get(i)||null,e,t,a,l,n)),!0;case"gotpointercapture":return i=n.pointerId,Mn.set(i,Tn(Mn.get(i)||null,e,t,a,l,n)),!0}return!1}function Mf(e){var t=Va(e.target);if(t!==null){var a=m(t);if(a!==null){if(t=a.tag,t===13){if(t=g(a),t!==null){e.blockedOn=t,Cm(e.priority,function(){if(a.tag===13){var l=pt();l=ls(l);var n=nl(a,l);n!==null&&vt(n,a,l),uc(a,l)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=rc(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ms=l,a.target.dispatchEvent(l),ms=null}else return t=Xa(a),t!==null&&_f(t),e.blockedOn=a,!1;t.shift()}return!0}function Tf(e,t,a){wi(e)&&a.delete(t)}function Ig(){dc=!1,_a!==null&&wi(_a)&&(_a=null),Sa!==null&&wi(Sa)&&(Sa=null),Na!==null&&wi(Na)&&(Na=null),Nn.forEach(Tf),Mn.forEach(Tf)}function Yi(e,t){e.blockedOn===t&&(e.blockedOn=null,dc||(dc=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,Ig)))}var Vi=null;function Af(e){Vi!==e&&(Vi=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){Vi===e&&(Vi=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(oc(l||a)===null)continue;break}var i=Xa(a);i!==null&&(e.splice(t,3),t-=3,ou(i,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function An(e){function t(b){return Yi(b,e)}_a!==null&&Yi(_a,e),Sa!==null&&Yi(Sa,e),Na!==null&&Yi(Na,e),Nn.forEach(t),Mn.forEach(t);for(var a=0;a<Ma.length;a++){var l=Ma[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ma.length&&(a=Ma[0],a.blockedOn===null);)Mf(a),a.blockedOn===null&&Ma.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],i=a[l+1],f=n[nt]||null;if(typeof i=="function")f||Af(a);else if(f){var y=null;if(i&&i.hasAttribute("formAction")){if(n=i,f=i[nt]||null)y=f.formAction;else if(oc(n)!==null)continue}else y=f.action;typeof y=="function"?a[l+1]=y:(a.splice(l,3),l-=3),Af(a)}}}function fc(e){this._internalRoot=e}Xi.prototype.render=fc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var a=t.current,l=pt();bf(a,l,e,t,null,null)},Xi.prototype.unmount=fc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bf(e.current,2,null,e,null,null),Ei(),t[Ya]=null}};function Xi(e){this._internalRoot=e}Xi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ma.length&&t!==0&&t<Ma[a].priority;a++);Ma.splice(a,0,e),a===0&&Mf(e)}};var Ef=s.version;if(Ef!=="19.1.0")throw Error(u(527,Ef,"19.1.0"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=v(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var zg={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zi.isDisabled&&Zi.supportsFiber)try{Rl=Zi.inject(zg),ot=Zi}catch{}}return qn.createRoot=function(e,t){if(!o(e))throw Error(u(299));var a=!1,l="",n=ko,i=wo,f=Yo,y=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(y=t.unstable_transitionCallbacks)),t=pf(e,1,!1,null,null,a,l,n,i,f,y,null),e[Ya]=t.current,Ju(e),new fc(t)},qn.hydrateRoot=function(e,t,a){if(!o(e))throw Error(u(299));var l=!1,n="",i=ko,f=wo,y=Yo,b=null,T=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(T=a.formState)),t=pf(e,1,!0,t,a??null,l,n,i,f,y,b,T),t.context=vf(null),a=t.current,l=pt(),l=ls(l),n=ua(l),n.callback=null,ca(a,n,l),a=l,t.current.lanes=a,Ol(t,a),zt(t),e[Ya]=t.current,Ju(e),new Xi(t)},qn.version="19.1.0",qn}var If;function Wg(){if(If)return yc.exports;If=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(s){console.error(s)}}return d(),yc.exports=Pg(),yc.exports}var Fg=Wg();const zf=d=>{let s;const c=new Set,u=(p,S)=>{const A=typeof p=="function"?p(s):p;if(!Object.is(A,s)){const O=s;s=S??(typeof A!="object"||A===null)?A:Object.assign({},s,A),c.forEach(C=>C(s,O))}},o=()=>s,h={setState:u,getState:o,getInitialState:()=>v,subscribe:p=>(c.add(p),()=>c.delete(p))},v=s=d(u,o,h);return h},ey=d=>d?zf(d):zf,ty=d=>d;function ay(d,s=ty){const c=Df.useSyncExternalStore(d.subscribe,()=>s(d.getState()),()=>s(d.getInitialState()));return Df.useDebugValue(c),c}const Qf=d=>{const s=ey(d),c=u=>ay(s,u);return Object.assign(c,s),c},im=d=>d?Qf(d):Qf;function xc(d){console.log("createGarage called with name:",d);const s={id:`facility-${Date.now()}`,name:d,type:"garage_workshop",description:"A small garage workshop, suitable for basic manufacturing",production_lines:1,max_item_size:"small",storage_capacity:100,floor_space:50,used_floor_space:0,purchase_cost:0,operating_cost_per_day:10,current_value:500,traits:[],can_refurbish:["scrap_metal"],manufacturing_bonus:{hand_weapons:1,basic_components:.8},upgrades:[],equipment:[],equipment_capacity:new Map,active_production:[{id:"line-1",productId:null,startGameTime:0,durationHours:0,materials_loaded:!1,labor_assigned:0}],current_storage:{steel:5,plastic:2,damaged_basic_sidearm:3,low_tech_spares:20,aluminum:2,basic_electronics:3,machined_parts:5},pending_upgrades:[],condition:"operational",utilization_rate:0,last_maintenance:0};return console.log("createGarage returning:",s),s}var z=(d=>(d.BASIC_MANIPULATION="basic_manipulation",d.PRECISION_MANIPULATION="precision_manipulation",d.HEAVY_MANIPULATION="heavy_manipulation",d.TURNING="turning",d.MILLING="milling",d.DRILLING="drilling",d.GRINDING="grinding",d.CUTTING="cutting",d.WELDING="welding",d.FORMING="forming",d.SURFACE="surface",d.STORAGE="storage",d.HOLDING="holding",d.MEASURING="measuring",d.COOLING="cooling",d.HEATING="heating",d.POWERED="powered",d.MANUAL="manual",d.AUTOMATED="automated",d.COMPUTER_CONTROLLED="computer_controlled",d.CLEAN_ROOM="clean_room",d.HAZMAT="hazmat",d.TEMPERATURE_CONTROLLED="temperature_controlled",d.VACUUM_CAPABLE="vacuum_capable",d.HEAVY_LIFTING="heavy_lifting",d.PRECISION_PLACEMENT="precision_placement",d.MATERIAL_FEED="material_feed",d.QUALITY_CONTROL="quality_control",d.DIMENSIONAL_INSPECTION="dimensional_inspection",d.MATERIAL_TESTING="material_testing",d.CALIBRATION="calibration",d.ELECTRONICS_ASSEMBLY="electronics_assembly",d.SOLDERING="soldering",d.CIRCUIT_TESTING="circuit_testing",d.FIRMWARE_PROGRAMMING="firmware_programming",d.INJECTION_MOLDING="injection_molding",d.CASTING="casting",d.EXTRUSION="extrusion",d.STAMPING="stamping",d.FORGING="forging",d.COMPOSITE_LAYUP="composite_layup",d.CHEMICAL_PROCESSING="chemical_processing",d.CRYSTALLINE_GROWTH="crystalline_growth",d.NANO_FABRICATION="nano_fabrication",d.OPTICS_HANDLING="optics_handling",d.VIBRATION_ISOLATION="vibration_isolation",d))(z||{}),Ki=(d=>(d[d.LOW=0]="LOW",d[d.NORMAL=1]="NORMAL",d[d.HIGH=2]="HIGH",d[d.RUSH=3]="RUSH",d[d.CRITICAL=4]="CRITICAL",d))(Ki||{}),Xe=(d=>(d.IMPROVISED="improvised",d.BASIC="basic",d.STANDARD="standard",d.ADVANCED="advanced",d.CUTTING_EDGE="cutting_edge",d.EXPERIMENTAL="experimental",d))(Xe||{}),sm=(d=>(d.AVAILABLE="available",d.RESERVED="reserved",d.IN_USE="in_use",d.MAINTENANCE="maintenance",d.BROKEN="broken",d))(sm||{});function _c(d,s){const c=new Map;for(const u of d){const o=s.get(u.equipmentId);if(!o)continue;const m=u.condition/100;for(const g of o.tags)if(typeof g.value=="number"){const h=c.get(g.category)||0,v=g.value*m;g.consumable?c.set(g.category,h+v):c.set(g.category,Math.max(h,v))}else typeof g.value=="boolean"&&g.value&&c.set(g.category,1)}return c}var Me=(d=>(d.MATERIAL="material",d.PRODUCT="product",d.COMPONENT="component",d))(Me||{}),R=(d=>(d.DAMAGED="damaged",d.JUNK="junk",d.RESTORED="restored",d.FORGED="forged",d.HAND_FORGED="hand_forged",d.MILITARY_GRADE="military_grade",d.TITANIUM="titanium",d.STEEL="steel",d.COMPOSITE="composite",d.SALVAGED="salvaged",d.STANDARD="standard",d.PREMIUM="premium",d.ROUGH="rough",d.PRECISION="precision",d.ASSEMBLY="assembly",d.CASING="casing",d.LOW_TECH="low-tech",d.PROTOTYPE="prototype",d.CUSTOM="custom",d.REFURBISHED="refurbished",d.ANTIQUE="antique",d))(R||{});const jc={steel:{id:"steel",name:"Steel",category:Me.MATERIAL,baseValue:12,description:"High-strength carbon steel alloy, primary construction material",stackable:!0,defaultTags:[]},aluminum:{id:"aluminum",name:"Aluminum",category:Me.MATERIAL,baseValue:8,description:"Lightweight aluminum alloy, corrosion resistant",stackable:!0,defaultTags:[]},plastic:{id:"plastic",name:"Polymer Plastic",category:Me.MATERIAL,baseValue:3,description:"High-density polymer plastic for grips and housings",stackable:!0,defaultTags:[]},titanium:{id:"titanium",name:"Titanium",category:Me.MATERIAL,baseValue:45,description:"Premium titanium alloy, exceptional strength-to-weight ratio",stackable:!0,defaultTags:[]},basic_electronics:{id:"basic_electronics",name:"Basic Electronics",category:Me.COMPONENT,baseValue:15,description:"Basic electronic components and circuitry",stackable:!0,defaultTags:[]},advanced_electronics:{id:"advanced_electronics",name:"Advanced Electronics",category:Me.COMPONENT,baseValue:65,description:"Sophisticated electronic systems and targeting components",stackable:!0,defaultTags:[]},machined_parts:{id:"machined_parts",name:"Machined Parts",category:Me.COMPONENT,baseValue:25,description:"Precision machined mechanical components",stackable:!0,defaultTags:[]},low_tech_spares:{id:"low_tech_spares",name:"Low-Tech Spares",category:Me.COMPONENT,baseValue:8,description:"Simple mechanical parts and hardware",stackable:!0,defaultTags:[]},precision_spares:{id:"precision_spares",name:"Precision Spares",category:Me.COMPONENT,baseValue:35,description:"High-precision mechanical components",stackable:!0,defaultTags:[]},"mechanical-component":{id:"mechanical-component",name:"Mechanical Component",category:Me.COMPONENT,baseValue:5,description:"Basic mechanical component differentiated by manufacturing state",stackable:!0,defaultTags:[]},"mechanical-assembly":{id:"mechanical-assembly",name:"Mechanical Assembly",category:Me.COMPONENT,baseValue:50,description:"Combined mechanical components forming a sub-assembly",stackable:!0,defaultTags:[]},"plastic-casing":{id:"plastic-casing",name:"Plastic Casing",category:Me.COMPONENT,baseValue:10,description:"Molded plastic housing for external protection",stackable:!0,defaultTags:[]},"plastic-scrap":{id:"plastic-scrap",name:"Plastic Scrap",category:Me.MATERIAL,baseValue:1,description:"Recovered plastic fragments from disassembly",stackable:!0,defaultTags:[]},"steel-scrap":{id:"steel-scrap",name:"Steel Scrap",category:Me.MATERIAL,baseValue:4,description:"Recovered steel fragments from disassembly",stackable:!0,defaultTags:[]},basic_sidearm:{id:"basic_sidearm",name:"Basic Sidearm",category:Me.PRODUCT,baseValue:180,description:"Standard-issue sidearm pistol, reliable and effective",stackable:!1,defaultTags:[]},tactical_knife:{id:"tactical_knife",name:"Tactical Knife",category:Me.PRODUCT,baseValue:85,description:"Military-grade combat knife with versatile blade design",stackable:!1,defaultTags:[]},heavy_rifle:{id:"heavy_rifle",name:"Heavy Rifle",category:Me.PRODUCT,baseValue:650,description:"High-powered military rifle for long-range combat",stackable:!1,defaultTags:[]},damaged_basic_sidearm:{id:"damaged_basic_sidearm",name:"Damaged Basic Sidearm",category:Me.PRODUCT,baseValue:25,description:"Broken sidearm requiring restoration to functional condition",stackable:!1,defaultTags:[]},damaged_tactical_knife:{id:"damaged_tactical_knife",name:"Damaged Tactical Knife",category:Me.PRODUCT,baseValue:12,description:"Damaged knife with chipped blade, needs restoration",stackable:!1,defaultTags:[]},dull_tactical_knife:{id:"dull_tactical_knife",name:"Dull Tactical Knife",category:Me.PRODUCT,baseValue:35,description:"Functional knife with dull edge, needs sharpening",stackable:!1,defaultTags:[]},composite_materials:{id:"composite_materials",name:"Composite Materials",category:Me.MATERIAL,baseValue:28,description:"Advanced composite materials for specialized applications",stackable:!0,defaultTags:[]},industrial_chemicals:{id:"industrial_chemicals",name:"Industrial Chemicals",category:Me.MATERIAL,baseValue:18,description:"Chemical compounds for manufacturing processes",stackable:!0,defaultTags:[]}};function $e(d){return jc[d]}const um={[R.DAMAGED]:{tag:R.DAMAGED,qualityMultiplier:.15,qualityCap:25,valueMultiplier:.12,description:"Severely damaged condition, non-functional without repair"},[R.JUNK]:{tag:R.JUNK,qualityMultiplier:.8,qualityCap:45,valueMultiplier:.35,description:"Cobbled together from scrap materials, limited quality potential"},[R.RESTORED]:{tag:R.RESTORED,qualityMultiplier:.9,qualityCap:75,valueMultiplier:.7,description:"Repaired from damaged condition, functional but not pristine"},[R.FORGED]:{tag:R.FORGED,qualityMultiplier:1,valueMultiplier:1,description:"Manufactured from raw materials using standard processes"},[R.HAND_FORGED]:{tag:R.HAND_FORGED,qualityMultiplier:1.15,valueMultiplier:1.4,description:"Artisan-crafted with superior workmanship and attention to detail"},[R.MILITARY_GRADE]:{tag:R.MILITARY_GRADE,qualityMultiplier:1.1,valueMultiplier:1.6,description:"Meets military specifications for durability and performance"},[R.TITANIUM]:{tag:R.TITANIUM,qualityMultiplier:1.2,valueMultiplier:2.1,description:"Lightweight titanium construction, premium performance"},[R.STEEL]:{tag:R.STEEL,qualityMultiplier:1,valueMultiplier:1,description:"Standard steel construction, reliable and cost-effective"},[R.COMPOSITE]:{tag:R.COMPOSITE,qualityMultiplier:1.15,valueMultiplier:1.7,description:"Advanced composite materials for specialized applications"},[R.SALVAGED]:{tag:R.SALVAGED,qualityMultiplier:.85,qualityCap:70,valueMultiplier:.6,description:"Recycled materials with potential quality variations"},[R.STANDARD]:{tag:R.STANDARD,qualityMultiplier:1,valueMultiplier:1,description:"Standard grade materials meeting basic specifications"},[R.PREMIUM]:{tag:R.PREMIUM,qualityMultiplier:1.1,valueMultiplier:1.3,description:"High grade materials with superior properties"},[R.PROTOTYPE]:{tag:R.PROTOTYPE,qualityMultiplier:1.25,valueMultiplier:2.5,description:"Experimental technology with unique performance characteristics"},[R.CUSTOM]:{tag:R.CUSTOM,qualityMultiplier:1.1,valueMultiplier:1.5,description:"Player-customized with personalized modifications"},[R.REFURBISHED]:{tag:R.REFURBISHED,qualityMultiplier:.95,valueMultiplier:.8,description:"Professionally restored to like-new condition"},[R.ANTIQUE]:{tag:R.ANTIQUE,qualityMultiplier:.8,valueMultiplier:3,description:"Historical items with significant collector and cultural value"},[R.ROUGH]:{tag:R.ROUGH,qualityMultiplier:.7,valueMultiplier:.4,description:"Unfinished mechanical component requiring additional processing"},[R.PRECISION]:{tag:R.PRECISION,qualityMultiplier:1.1,valueMultiplier:1.2,description:"Precision-machined component meeting tight tolerances"},[R.ASSEMBLY]:{tag:R.ASSEMBLY,qualityMultiplier:1,valueMultiplier:1.5,description:"Assembled mechanical unit combining multiple components"},[R.CASING]:{tag:R.CASING,qualityMultiplier:1,valueMultiplier:.8,description:"Protective housing for mechanical assemblies"},[R.LOW_TECH]:{tag:R.LOW_TECH,qualityMultiplier:.9,valueMultiplier:.7,description:"Basic technology level using conventional manufacturing methods"}};function ly(d,s){let c=d,u;for(const o of s){const m=um[o];m&&(c*=m.qualityMultiplier,m.qualityCap!==void 0&&(u=u===void 0?m.qualityCap:Math.min(u,m.qualityCap)))}return u!==void 0&&(c=Math.min(c,u)),Math.max(0,Math.min(100,c))}function ny(d,s,c){let u=1;for(const m of c){const g=um[m];g&&(u*=g.valueMultiplier)}const o=.1+s/100*.9;return Math.round(d*u*o)}function Cn(d){const s=$e(d.baseItemId);if(!s)throw new Error(`Invalid base item ID: ${d.baseItemId}`);const c=d.tags||[...s.defaultTags],u=d.quality||85,o=d.quantity||1,m=ly(u,c);return{id:iy(),baseItemId:d.baseItemId,tags:c,quality:m,quantity:o,acquiredAt:Date.now(),lastModified:Date.now(),metadata:d.metadata||{}}}function iy(){return`item-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function Bf(d){const s=$e(d.baseItemId);return s?ny(s.baseValue,d.quality,d.tags):0}function Sc(d){const s=$e(d.baseItemId);if(!s)return"Unknown Item";const c=d.tags.filter(h=>[R.MILITARY_GRADE,R.HAND_FORGED,R.FORGED,R.RESTORED,R.JUNK,R.DAMAGED].includes(h)),u=d.tags.filter(h=>[R.TITANIUM,R.COMPOSITE,R.PREMIUM,R.STANDARD,R.SALVAGED].includes(h)),m=[...d.tags.filter(h=>[R.PROTOTYPE,R.CUSTOM,R.ANTIQUE].includes(h)),...u,...c];return m.length===0?s.name:`${m.map(h=>h.charAt(0).toUpperCase()+h.slice(1).replace("_"," ")).join(" ")} ${s.name}`}function sy(d){if(d.length===0)return[];const s=new Map;for(const u of d){const o=$e(u.baseItemId);if(!o||!o.stackable){const h=u.id;s.set(h,[u]);continue}const m=[...u.tags].sort().join(","),g=`${u.baseItemId}:${m}`;s.has(g)||s.set(g,[]),s.get(g).push(u)}const c=[];for(const u of s.values())if(u.length===1)c.push(u[0]);else{const o=u.reduce((h,v)=>h+v.quantity,0),m=u.reduce((h,v)=>h+v.quality*v.quantity,0)/o,g={...u[0],quantity:o,quality:Math.round(m),lastModified:Date.now()};c.push(g)}return c}function Nc(d){return d>=95?"Pristine":d>=85?"Excellent":d>=75?"Good":d>=60?"Fair":d>=45?"Poor":d>=25?"Damaged":"Broken"}class uy{createEmptyInventory(s=1e3){const c=new Map;for(const u of Object.values(Me))c.set(u,{category:u,slots:[],totalItems:0,totalValue:0});return{groups:c,totalItems:0,totalValue:0,lastUpdated:Date.now(),storageCapacity:s,usedCapacity:0}}addItem(s,c){const u=$e(c.baseItemId);if(!u)return console.error(`Invalid base item ID: ${c.baseItemId}`),!1;if(s.usedCapacity+c.quantity>s.storageCapacity)return console.warn("Insufficient storage capacity"),!1;const o=s.groups.get(u.category);if(!o)return console.error(`No group found for category: ${u.category}`),!1;let m=o.slots.find(g=>g.baseItemId===c.baseItemId);if(m||(m=this.createEmptySlot(c.baseItemId),o.slots.push(m)),u.stackable){const g=m.stack.instances.find(h=>this.areInstancesCompatible(h,c));g?(g.quantity+=c.quantity,g.lastModified=Date.now()):m.stack.instances.push(c)}else m.stack.instances.push(c);return this.updateSlotTotals(m),this.updateGroupTotals(o),this.updateInventoryTotals(s),s.lastUpdated=Date.now(),!0}removeItem(s,c,u){const o=this.findItemInstance(s,c);if(!o)return console.error(`Item instance not found: ${c}`),!1;const{group:m,slot:g,instance:h}=o,v=u||h.quantity;return v>h.quantity?(console.error(`Cannot remove ${v}, only ${h.quantity} available`),!1):(v===h.quantity?(g.stack.instances=g.stack.instances.filter(p=>p.id!==c),g.stack.instances.length===0&&(m.slots=m.slots.filter(p=>p.baseItemId!==g.baseItemId))):(h.quantity-=v,h.lastModified=Date.now()),this.updateSlotTotals(g),this.updateGroupTotals(m),this.updateInventoryTotals(s),s.lastUpdated=Date.now(),!0)}moveItem(s,c,u,o){return console.log("Move item operation not yet implemented"),!1}findItems(s,c){const u=[];for(const o of s.groups.values())if(!(c.categories&&!c.categories.includes(o.category)))for(const m of o.slots){const g=$e(m.baseItemId);if(!g)continue;const h=m.stack.instances.filter(v=>{if(c.tags&&!c.tags.every(p=>v.tags.includes(p))||c.minQuality!==void 0&&v.quality<c.minQuality||c.maxQuality!==void 0&&v.quality>c.maxQuality)return!1;if(c.searchText){const p=c.searchText.toLowerCase(),S=g.name.toLowerCase(),A=g.description.toLowerCase();if(!S.includes(p)&&!A.includes(p))return!1}return!0});if(h.length>0){const v=h.reduce((S,A)=>S+A.quantity,0),p=h.map(S=>S.quality);u.push({slot:m,instances:h,totalQuantity:v,averageQuality:Math.round(h.reduce((S,A)=>S+A.quality*A.quantity,0)/v),bestQuality:Math.max(...p),worstQuality:Math.min(...p)})}}return u}getAvailableQuantity(s,c,u){const o=$e(c);if(!o)return 0;const m=s.groups.get(o.category);if(!m)return 0;const g=m.slots.find(p=>p.baseItemId===c);if(!g)return 0;if(!u)return g.available;const v=this.findItems(s,{...u,categories:[o.category]}).find(p=>p.slot.baseItemId===c);return(v==null?void 0:v.totalQuantity)||0}getAvailableQuantityWithTags(s,c,u,o){const m=$e(c);if(!m)return 0;const g=s.groups.get(m.category);if(!g)return 0;const h=g.slots.find(v=>v.baseItemId===c);return h?h.stack.instances.filter(v=>{const p=u.every(A=>v.tags.includes(A)),S=o===void 0||v.quality<=o;return p&&S}).reduce((v,p)=>v+p.quantity,0):0}getBestQualityItemsWithTags(s,c,u,o,m){const g=$e(c);if(!g)return[];const h=s.groups.get(g.category);if(!h)return[];const v=h.slots.find(O=>O.baseItemId===c);if(!v)return[];const p=v.stack.instances.filter(O=>{const C=o.every(B=>O.tags.includes(B)),L=m===void 0||O.quality<=m;return C&&L}).sort((O,C)=>C.quality-O.quality),S=[];let A=u;for(const O of p){if(A<=0)break;const C=Math.min(O.quantity,A);C>0&&(S.push({...O,quantity:C}),A-=C)}return S}getBestQualityItems(s,c,u){const o=$e(c);if(!o)return[];const m=s.groups.get(o.category);if(!m)return[];const g=m.slots.find(S=>S.baseItemId===c);if(!g)return[];const h=[...g.stack.instances].sort((S,A)=>A.quality-S.quality),v=[];let p=u;for(const S of h){if(p<=0)break;const A=Math.min(S.quantity,p);A===S.quantity?v.push(S):v.push({...S,id:`${S.id}-partial-${Date.now()}`,quantity:A,lastModified:Date.now()}),p-=A}return v}calculateInventoryValue(s){let c=0;for(const u of s.groups.values())for(const o of u.slots)for(const m of o.stack.instances)c+=Bf(m)*m.quantity;return c}getInventoryUsage(s){return{used:s.usedCapacity,capacity:s.storageCapacity,percentage:Math.round(s.usedCapacity/s.storageCapacity*100)}}optimizeStorage(s){const c=[];for(const u of s.groups.values()){for(const o of u.slots){const m=o.stack.instances.length;o.stack.instances=sy(o.stack.instances),o.stack.instances.length<m&&c.push({type:"modify",itemInstanceId:o.baseItemId,fromSlot:o.baseItemId,toSlot:o.baseItemId}),this.updateSlotTotals(o)}this.updateGroupTotals(u)}return this.updateInventoryTotals(s),c}reserveItems(s,c,u,o){const m=$e(c);if(!m)return!1;const g=s.groups.get(m.category);if(!g)return!1;const h=g.slots.find(v=>v.baseItemId===c);return!h||h.available<u?!1:(h.reserved+=u,h.available=h.stack.totalQuantity-h.reserved,s.lastUpdated=Date.now(),!0)}releaseReservation(s,c){console.log(`Release reservation: ${c}`)}getReservedQuantity(s,c){const u=$e(c);if(!u)return 0;const o=s.groups.get(u.category);if(!o)return 0;const m=o.slots.find(g=>g.baseItemId===c);return(m==null?void 0:m.reserved)||0}createEmptySlot(s){return{baseItemId:s,stack:{baseItemId:s,instances:[],totalQuantity:0,averageQuality:0,uniqueTags:[]},reserved:0,available:0}}areInstancesCompatible(s,c){if(s.baseItemId!==c.baseItemId||s.tags.length!==c.tags.length)return!1;const u=new Set(s.tags),o=new Set(c.tags);for(const g of u)if(!o.has(g))return!1;return!(Math.abs(s.quality-c.quality)>10)}findItemInstance(s,c){for(const u of s.groups.values())for(const o of u.slots)for(const m of o.stack.instances)if(m.id===c)return{group:u,slot:o,instance:m};return null}updateSlotTotals(s){const c=s.stack.instances;if(s.stack.totalQuantity=c.reduce((u,o)=>u+o.quantity,0),s.available=s.stack.totalQuantity-s.reserved,c.length>0){const u=c.reduce((o,m)=>o+m.quality*m.quantity,0);s.stack.averageQuality=Math.round(u/s.stack.totalQuantity),s.stack.uniqueTags=[...new Set(c.flatMap(o=>o.tags))]}else s.stack.averageQuality=0,s.stack.uniqueTags=[]}updateGroupTotals(s){s.totalItems=s.slots.reduce((c,u)=>c+u.stack.totalQuantity,0),s.totalValue=s.slots.reduce((c,u)=>c+u.stack.instances.reduce((o,m)=>o+Bf(m)*m.quantity,0),0)}updateInventoryTotals(s){s.totalItems=0,s.totalValue=0;for(const c of s.groups.values())s.totalItems+=c.totalItems,s.totalValue+=c.totalValue;s.usedCapacity=s.totalItems}}const oe=new uy;class cm{constructor(s){jt(this,"workspaces",new Map);jt(this,"equipmentDefinitions");jt(this,"currentGameTime",{totalGameHours:0,days:0,hours:0,isPaused:!1,gameSpeed:1});jt(this,"onJobComplete",null);jt(this,"facilities",new Map);this.equipmentDefinitions=s}setGameTime(s){this.currentGameTime=s}setJobCompleteCallback(s){this.onJobComplete=s}gameMinutesToHours(s){return s/60}initializeWorkspace(s){const c={facilityId:s.id,machines:new Map,jobQueue:[],completedJobs:[]};for(const u of s.equipment){const o=this.equipmentDefinitions.get(u.equipmentId);if(!o)continue;let m=!1;for(const g of o.tags)if(g.category===z.SURFACE||g.category===z.TURNING||g.category===z.MILLING||g.category===z.DRILLING||g.category===z.BASIC_MANIPULATION||g.category===z.PRECISION_MANIPULATION||g.category===z.MEASURING||g.category===z.QUALITY_CONTROL){m=!0;break}if((u.equipmentId==="shelving_basic"||u.equipmentId==="storage_industrial")&&(m=!1),m){const g={id:`slot-${u.id}`,machineId:u.id,maxCapacity:1};c.machines.set(u.id,g),console.log(`Created machine slot for ${o.name} (${u.id})`)}}return this.workspaces.set(s.id,c),c}addEquipmentToWorkspace(s,c){const u=this.workspaces.get(s.id);if(!u){this.initializeWorkspace(s);return}const o=this.equipmentDefinitions.get(c.equipmentId);if(!o)return;let m=!1;for(const g of o.tags)if(g.category===z.SURFACE||g.category===z.TURNING||g.category===z.MILLING||g.category===z.DRILLING||g.category===z.BASIC_MANIPULATION||g.category===z.PRECISION_MANIPULATION){m=!0;break}if((c.equipmentId==="storage_basic"||c.equipmentId==="storage_industrial")&&(m=!1),m){const g={id:`slot-${c.id}`,machineId:c.id,maxCapacity:1};u.machines.set(c.id,g),console.log(`Added machine slot for new ${o.name} (${c.id})`)}}removeEquipmentFromWorkspace(s,c){const u=this.workspaces.get(s);if(!u)return;const o=u.machines.get(c);o&&(o.currentJob&&(console.log(`Moving job ${o.currentJob.id} back to queue as equipment ${c} is being removed`),o.currentJob.state="queued",o.currentJob.currentMachineId=void 0,u.jobQueue.unshift(o.currentJob)),u.machines.delete(c),console.log(`Removed machine slot for equipment ${c}`))}addJob(s,c,u,o=1,m=Ki.NORMAL,g=!1){var A;const h=this.workspaces.get(s);if(!h)throw new Error("Workspace not initialized");const v=this.facilities.get(s);if(!v)throw new Error("Facility not found");const p=oe.createEmptyInventory(100),S={id:`job-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,facilityId:s,productId:c,method:u,quantity:o,priority:m,rushOrder:g,state:"queued",createdAt:Date.now(),currentOperationIndex:0,completedOperations:[],jobInventory:p,operationProducts:new Map,consumedMaterials:new Map};return this.moveJobMaterials(S,v),this.addJobToQueue(h,S),console.log(`Job ${S.id} added to facility queue for ${(A=S.method.operations[0])==null?void 0:A.name}`),S}moveJobMaterials(s,c){var o,m;if(!c.inventory){console.warn("Facility has no inventory system");return}const u=new Map;for(const g of s.method.operations)if(g.materialConsumption)for(const h of g.materialConsumption){const v=`${h.itemId}-${((o=h.tags)==null?void 0:o.join(","))||"any"}`,p=u.get(v);u.set(v,{count:((p==null?void 0:p.count)||0)+h.count*s.quantity,tags:h.tags,maxQuality:h.maxQuality})}else if(g.material_requirements)for(const h of g.material_requirements){const v=`${h.material_id}-${((m=h.required_tags)==null?void 0:m.join(","))||"any"}`,p=u.get(v);u.set(v,{count:((p==null?void 0:p.count)||0)+h.quantity*s.quantity,tags:h.required_tags,maxQuality:h.max_quality})}for(const[g,h]of u){const v=g.split("-")[0];let p;h.tags&&h.tags.length>0?p=oe.getBestQualityItemsWithTags(c.inventory,v,h.count,h.tags,h.maxQuality):p=oe.getBestQualityItems(c.inventory,v,h.count);for(const S of p)oe.removeItem(c.inventory,S.id,S.quantity),oe.addItem(s.jobInventory,S);console.log(`Moved ${p.length} ${v} items to job ${s.id}`)}}addJobToQueue(s,c){if(c.rushOrder)s.jobQueue.unshift(c);else{const u=s.jobQueue.findIndex(o=>!o.rushOrder&&o.priority<c.priority);u===-1?s.jobQueue.push(c):s.jobQueue.splice(u,0,c)}}canStartOperation(s,c){const u=s.method.operations[s.currentOperationIndex];if(u.materialConsumption){for(const o of u.materialConsumption){const m=o.count*s.quantity;let g;if(o.tags&&o.tags.length>0?g=oe.getAvailableQuantityWithTags(s.jobInventory,o.itemId,o.tags,o.maxQuality):g=oe.getAvailableQuantity(s.jobInventory,o.itemId),g<m)return console.log(`Job ${s.id} lacks materials: need ${m} ${o.itemId}, have ${g}`),!1}return!0}if(u.material_requirements)for(const o of u.material_requirements){const m=o.quantity*s.quantity;let g;if(o.required_tags&&o.required_tags.length>0?g=oe.getAvailableQuantityWithTags(s.jobInventory,o.material_id,o.required_tags,o.max_quality):g=oe.getAvailableQuantity(s.jobInventory,o.material_id),g<m)return console.log(`Job ${s.id} lacks materials: need ${m} ${o.material_id}, have ${g}`),!1}return!0}consumeOperationMaterials(s,c){const u=s.method.operations[s.currentOperationIndex];if(u.material_requirements){for(const o of u.material_requirements)if(o.consumed_at_start){const m=o.quantity*s.quantity;let g;o.required_tags&&o.required_tags.length>0?g=oe.getBestQualityItemsWithTags(s.jobInventory,o.material_id,m,o.required_tags,o.max_quality):g=oe.getBestQualityItems(s.jobInventory,o.material_id,m);for(const v of g)oe.removeItem(s.jobInventory,v.id,v.quantity);s.consumedMaterials||(s.consumedMaterials=new Map);const h=s.consumedMaterials.get(o.material_id)||0;s.consumedMaterials.set(o.material_id,h+m),console.log(`Job ${s.id} consumed ${m} ${o.material_id} at operation start`)}}}calculateOperationDuration(s,c,u){const o=s.method.operations[s.currentOperationIndex],m=u.equipment.find(S=>S.id===c.machineId);if(!m)return 0;const g=this.equipmentDefinitions.get(m.equipmentId);if(!g)return 0;const h=g.tags.find(S=>S.category===o.requiredTag.category);let v=1;if(h&&typeof h.value=="number"){const S=o.requiredTag.optimal||o.requiredTag.minimum;v=typeof S=="number"?h.value/S:1}const p=v>1?1/v:2-v;return o.baseDurationMinutes*p}updateAllWorkspaces(s){for(const[c,u]of this.workspaces)this.updateWorkspace(u,s)}updateWorkspace(s,c){const u=this.getFacility(s.facilityId);if(u){for(const[o,m]of s.machines)if(m.currentJob&&m.currentProgress){m.currentProgress.lastUpdateTime=Date.now();const g=this.currentGameTime.totalGameHours-m.currentProgress.startTime,h=m.currentProgress.estimatedCompletion-m.currentProgress.startTime;g>=h&&this.completeOperation(s,m,u)}this.assignJobsFromQueue(s,u)}}assignJobsFromQueue(s,c){const u=Array.from(s.machines.values()).filter(o=>!o.currentJob);if(u.length!==0)for(let o=s.jobQueue.length-1;o>=0;o--){const m=s.jobQueue[o],g=this.findAvailableMachineForJob(m,u,c);if(g&&this.canStartOperation(m,c)){s.jobQueue.splice(o,1),this.startJobOnMachine(m,g,c);const h=u.indexOf(g);if(h>-1&&u.splice(h,1),console.log(`Assigned job ${m.id} from queue to machine ${g.machineId}`),u.length===0)break}}}findAvailableMachineForJob(s,c,u){const o=s.method.operations[s.currentOperationIndex];if(!o)return null;for(const m of c){const g=u.equipment.find(p=>p.id===m.machineId);if(!g)continue;const h=this.equipmentDefinitions.get(g.equipmentId);if(!h)continue;if(h.tags.some(p=>p.category!==o.requiredTag.category?!1:typeof o.requiredTag.minimum=="boolean"?p.value===!0:typeof p.value=="number"&&p.value>=o.requiredTag.minimum))return m}return null}startJobOnMachine(s,c,u){c.currentJob=s,s.currentMachineId=c.machineId,s.state="in_progress";const o=this.gameMinutesToHours(this.calculateOperationDuration(s,c,u));c.currentProgress={stepIndex:s.currentOperationIndex,startTime:this.currentGameTime.totalGameHours,estimatedCompletion:this.currentGameTime.totalGameHours+o,lastUpdateTime:Date.now()},this.consumeOperationMaterials(s,u)}completeOperation(s,c,u){var g;const o=c.currentJob;if(!o)return;const m=o.method.operations[o.currentOperationIndex];m.can_fail&&Math.random()<m.failure_chance?(console.log(`Operation failed for job ${o.id}: ${m.name}`),m.failure_result==="scrap"?(o.state="failed",s.completedJobs.push(o)):m.failure_result==="downgrade"&&(o.finalQuality=(o.finalQuality||85)*.8)):(this.processOperationTransformation(o,m),o.completedOperations.push(m.id),o.currentOperationIndex++,console.log(`Job ${o.id} completed operation: ${m.name}`)),c.currentJob=void 0,c.currentProgress=void 0,o.currentMachineId=void 0,o.currentOperationIndex>=o.method.operations.length?(this.finalizeJobInventory(o,u),o.state="completed",o.completedAt=this.currentGameTime.totalGameHours,s.completedJobs.push(o),this.onJobComplete&&this.onJobComplete(o),console.log(`Job ${o.id} completed!`)):(o.state="queued",this.addJobToQueue(s,o),console.log(`Job ${o.id} returned to queue for next operation: ${(g=o.method.operations[o.currentOperationIndex])==null?void 0:g.name}`))}setFacility(s){this.facilities.set(s.id,s)}getFacility(s){return this.facilities.get(s)||null}getWorkspace(s){return this.workspaces.get(s)}cancelJob(s,c){var S;const u=this.workspaces.get(s),o=this.facilities.get(s);if(!u||!o)return console.error(`Cannot cancel job ${c}: workspace or facility not found`),!1;let m,g=null,h;const v=u.jobQueue.findIndex(A=>A.id===c);if(v!==-1&&(m=u.jobQueue[v],g="queue"),!m){for(const A of u.machines.values())if(((S=A.currentJob)==null?void 0:S.id)===c){m=A.currentJob,g="machine",h=A;break}}if(!m&&u.completedJobs.findIndex(O=>O.id===c)!==-1)return console.warn(`Job ${c} is already completed and cannot be cancelled`),!1;if(!m)return console.error(`Job ${c} not found`),!1;const p=this.calculateCancellationRecovery(m);return this.finalizeJobInventory(m,o),m.state="cancelled",m.completedAt=this.currentGameTime.totalGameHours,g==="queue"?u.jobQueue.splice(v,1):g==="machine"&&h&&(h.currentJob=void 0,h.currentProgress=void 0),u.completedJobs.push(m),console.log(`Job ${c} cancelled. Recovery: ${p.totalItemsRecovered} items, ${p.estimatedValue} credits value`),!0}calculateCancellationRecovery(s){const c=[];let u=0,o=0;for(const m of s.jobInventory.groups.values())for(const g of m.slots)for(const h of g.stack.instances)c.push({itemId:h.baseItemId,quantity:h.quantity,tags:h.tags}),u+=h.quantity,o+=h.quantity*10;return{recoveredItems:c,totalItemsRecovered:u,estimatedValue:o,operationsCompleted:s.completedOperations.length,timeInvested:s.startedAt?this.currentGameTime.totalGameHours-s.startedAt:0}}processOperationTransformation(s,c){var o;const u=[];if(c.materialConsumption||c.materialProduction){if(c.materialConsumption)for(const m of c.materialConsumption){const g=m.count*s.quantity;let h;m.tags&&m.tags.length>0?h=oe.getBestQualityItemsWithTags(s.jobInventory,m.itemId,g,m.tags,m.maxQuality):h=oe.getBestQualityItems(s.jobInventory,m.itemId,g);for(const p of h)oe.removeItem(s.jobInventory,p.id,p.quantity);s.consumedMaterials||(s.consumedMaterials=new Map);const v=s.consumedMaterials.get(m.itemId)||0;s.consumedMaterials.set(m.itemId,v+g),console.log(`Job ${s.id} consumed ${g} ${m.itemId} during operation`)}if(c.materialProduction)for(const m of c.materialProduction){const g=m.count*s.quantity,h=Cn({baseItemId:m.itemId,tags:m.tags||[],quality:m.quality||85,quantity:g,metadata:{source:"manufacturing",operationId:c.id,jobId:s.id,producedAt:this.currentGameTime.totalGameHours}});oe.addItem(s.jobInventory,h),u.push(h),console.log(`Job ${s.id} produced ${g} ${m.itemId} with tags [${(o=m.tags)==null?void 0:o.join(", ")}]`)}}else if(c.material_requirements){for(const m of c.material_requirements)if(!m.consumed_at_start){const g=m.quantity*s.quantity;let h;m.required_tags&&m.required_tags.length>0?h=oe.getBestQualityItemsWithTags(s.jobInventory,m.material_id,g,m.required_tags,m.max_quality):h=oe.getBestQualityItems(s.jobInventory,m.material_id,g);for(const p of h)oe.removeItem(s.jobInventory,p.id,p.quantity);s.consumedMaterials||(s.consumedMaterials=new Map);const v=s.consumedMaterials.get(m.material_id)||0;s.consumedMaterials.set(m.material_id,v+g),console.log(`Job ${s.id} consumed ${g} ${m.material_id} during operation (legacy)`)}}u.length>0&&s.operationProducts.set(s.currentOperationIndex,u)}finalizeJobInventory(s,c){if(!c.inventory){console.warn("Facility has no inventory system for job finalization");return}for(const u of s.jobInventory.groups.values())for(const o of u.slots)for(const m of o.stack.instances)oe.removeItem(s.jobInventory,m.id,m.quantity),oe.addItem(c.inventory,m);console.log(`Job ${s.id} finalized - all items moved to facility inventory`)}}const kf=["Titan","Proxima","Vega","Helios","Quantum","Stellar","Nova","Orion","Centauri","Nebula","Cosmic","Galactic","Solar","Lunar","Asteroid"],wf=["Mining Corp","Steel Works","Salvage Co","Industrial","Precision Parts","Systems Ltd","Manufacturing","Supply Chain","Materials Inc","Dynamics","Industries","Technologies","Solutions","Enterprises","Group"],Yf=[{type:"mining",specialties:["steel","aluminum","titanium"],reputation:[60,90]},{type:"salvage",specialties:["electronics","components","damaged_weapons"],reputation:[30,70]},{type:"precision",specialties:["machined_components","aluminum","electronics"],reputation:[70,95]},{type:"industrial",specialties:["steel","plastic","rubber"],reputation:[50,80]},{type:"military",specialties:["titanium","electronics","components"],reputation:[80,100]}],Vf={steel:{basePrice:4.5,variance:.8,quantityRange:[50,500],deliveryHours:[12,48],commonGrades:["standard","premium"]},aluminum:{basePrice:6.2,variance:1,quantityRange:[25,200],deliveryHours:[18,72],commonGrades:["standard","premium"]},plastic:{basePrice:2.1,variance:.5,quantityRange:[100,800],deliveryHours:[6,24],commonGrades:["salvage","standard"]},electronics:{basePrice:15,variance:3,quantityRange:[10,100],deliveryHours:[24,120],commonGrades:["salvage","standard","military"]},machined_components:{basePrice:45,variance:8,quantityRange:[5,50],deliveryHours:[48,168],commonGrades:["standard","premium","military"]},titanium:{basePrice:25,variance:5,quantityRange:[10,100],deliveryHours:[72,240],commonGrades:["premium","military"]},damaged_weapons:{basePrice:12,variance:4,quantityRange:[1,20],deliveryHours:[12,48],commonGrades:["salvage"]}};class rm{constructor(){jt(this,"suppliers",new Map);jt(this,"supplierIdCounter",0);this.generateSuppliers(20)}generateSuppliers(s){for(let c=0;c<s;c++){const u=this.createRandomSupplier();this.suppliers.set(u.id,u)}}createRandomSupplier(){const s=kf[Math.floor(Math.random()*kf.length)],c=wf[Math.floor(Math.random()*wf.length)],u=Yf[Math.floor(Math.random()*Yf.length)],[o,m]=u.reputation,g=Math.floor(Math.random()*(m-o+1))+o;return{id:`supplier-${++this.supplierIdCounter}`,name:`${s} ${c}`,reputation:g,reliability:Math.max(30,g+Math.floor(Math.random()*21)-10),specialties:u.specialties}}generateMarketLots(s,c){const u=[],o=Object.keys(Vf);for(let m=0;m<s;m++){const g=o[Math.floor(Math.random()*o.length)],h=Vf[g],v=Array.from(this.suppliers.values()).filter(A=>A.specialties.includes(g));if(v.length===0)continue;const p=v[Math.floor(Math.random()*v.length)],S=this.createMaterialLot(p,g,h,c);u.push(S)}return u.sort((m,g)=>m.totalPrice-g.totalPrice)}createMaterialLot(s,c,u,o){const[m,g]=u.quantityRange,h=Math.floor(Math.random()*(g-m+1))+m,v=(s.reputation-50)/100,p=u.variance*(1-Math.abs(v)*.3),S=1+(Math.random()*2-1)*p,A=u.basePrice*S,O=1+v*.2,C=Math.round(A*O*100)/100,[L,B]=u.deliveryHours,G=Math.floor(Math.random()*(B-L+1))+L,k=1-s.reliability/100*.3,Z=Math.ceil(G*k),$=u.commonGrades;let I;s.reputation>=80?I=$[Math.floor(Math.random()*Math.min(2,$.length))+Math.max(0,$.length-2)]:s.reputation<=40?I=$[Math.floor(Math.random()*Math.min(2,$.length))]:I=$[Math.floor(Math.random()*$.length)];const w=Math.floor(Math.random()*49)+24;return{id:`lot-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,supplierId:s.id,materialId:c,quantity:h,pricePerUnit:C,totalPrice:Math.round(C*h),qualityGrade:I,deliveryTimeHours:Z,expiresAt:o+w,description:this.generateLotDescription(s,c,I,h)}}generateLotDescription(s,c,u,o){const m=[`Fresh stock from ${s.name}`,`Limited time offer - ${o} units available`,"Direct from supplier warehouse","Bulk pricing available",`Quality ${u} grade materials`,`Fast shipping from ${s.name}`,"Surplus inventory clearance","Premium supplier quality guaranteed"];return m[Math.floor(Math.random()*m.length)]}getSupplier(s){return this.suppliers.get(s)}getAllSuppliers(){return Array.from(this.suppliers.values())}simulateMarketForces(s,c){return s.map(u=>{const o=Math.sin(c/24)*.1,m=(Math.random()-.5)*.05,g=this.getMaterialDemandMultiplier(u.materialId,c),h=1+o+m+g,v=Math.max(.1,u.pricePerUnit*h);return{...u,pricePerUnit:Math.round(v*100)/100,totalPrice:Math.round(v*u.quantity)}})}getMaterialDemandMultiplier(s,c){return{steel:Math.sin(c/72)*.15,aluminum:Math.sin(c/48)*.12,electronics:Math.sin(c/96)*.2,titanium:Math.sin(c/168)*.25,plastic:Math.sin(c/36)*.08,machined_components:Math.sin(c/120)*.18}[s]||0}removeExpiredLots(s,c){return s.filter(u=>u.expiresAt>c)}}const Xf=["Free","United","Rebel","Corporate","Military","Colonial","Independent","Frontier","Outer","Inner","Northern","Southern","Eastern","Western"],Zf=["Coalition","Alliance","Federation","Consortium","Guild","Syndicate","Corporation","Industries","Security","Defense Force","Militia","Guard","Collective","Union","Assembly","Council","Command","Division"],bc={military:{qualityStandards:"high",paymentReliability:[80,100],preferredProducts:["basic_sidearm","tactical_knife"],quantityRange:[20,100],paymentMultiplier:1.4,deadlineRange:[168,504]},corporate:{qualityStandards:"standard",paymentReliability:[70,95],preferredProducts:["basic_sidearm"],quantityRange:[50,200],paymentMultiplier:1.2,deadlineRange:[336,840]},rebel:{qualityStandards:"low",paymentReliability:[40,80],preferredProducts:["basic_sidearm","tactical_knife"],quantityRange:[10,80],paymentMultiplier:.9,deadlineRange:[168,672]},civilian:{qualityStandards:"standard",paymentReliability:[60,85],preferredProducts:["tactical_knife"],quantityRange:[5,30],paymentMultiplier:1,deadlineRange:[504,1344]},government:{qualityStandards:"high",paymentReliability:[90,100],preferredProducts:["basic_sidearm"],quantityRange:[100,500],paymentMultiplier:1.3,deadlineRange:[672,1680]}},cy={basic_sidearm:{basePrice:150,qualityMultiplier:{junk:.3,functional:.7,standard:1,pristine:1.4}},tactical_knife:{basePrice:65,qualityMultiplier:{junk:.3,functional:.7,standard:1,pristine:1.4}}};class om{constructor(){jt(this,"customers",new Map);jt(this,"customerIdCounter",0);jt(this,"contractIdCounter",0);this.generateCustomers(15)}generateCustomers(s){const c=Object.keys(bc);for(let u=0;u<s;u++){const o=this.createRandomCustomer(c);this.customers.set(o.id,o)}}createRandomCustomer(s){const c=s[Math.floor(Math.random()*s.length)],u=bc[c],o=Xf[Math.floor(Math.random()*Xf.length)],m=Zf[Math.floor(Math.random()*Zf.length)],[g,h]=u.paymentReliability,v=Math.floor(Math.random()*(h-g+1))+g;return{id:`customer-${++this.customerIdCounter}`,name:`${o} ${m}`,type:c,reputation:Math.floor(Math.random()*41)+60,paymentReliability:v,qualityStandards:u.qualityStandards,preferredProducts:u.preferredProducts}}generateCustomerContracts(s,c){const u=[];for(let o=0;o<s;o++){const m=this.selectRandomCustomer();if(!m)continue;const g=this.createCustomerContract(m,c);u.push(g)}return u.sort((o,m)=>m.totalPayment-o.totalPayment)}selectRandomCustomer(){const s=Array.from(this.customers.values());if(s.length!==0)return s[Math.floor(Math.random()*s.length)]}createCustomerContract(s,c){var ie;const u=bc[s.type],o=u.preferredProducts[Math.floor(Math.random()*u.preferredProducts.length)],[m,g]=u.quantityRange,h=Math.floor(Math.random()*(g-m+1))+m,v=this.getMinimumQualityForStandard(u.qualityStandards),p=((ie=cy[o])==null?void 0:ie.basePrice)||100,S=u.paymentMultiplier,A=1+(s.reputation-75)/100,O=.9+Math.random()*.2,L=Math.round(p*S*A*O)*h,[B,G]=u.deadlineRange,k=Math.floor(Math.random()*(G-B+1))+B,Z=Math.random()<.15,$=s.type!=="military"&&s.type!=="government",I=$?Math.floor(Math.random()*21)+60:100,w={productId:o,quantity:h,minimumQuality:v,maxAcceptableDefects:Math.floor(h*.05)};return{id:`contract-${++this.contractIdCounter}`,customerId:s.id,title:this.generateContractTitle(s,o,h),description:this.generateContractDescription(s,w),requirements:[w],totalPayment:Z?Math.floor(L*1.3):L,deadlineHours:Z?Math.floor(k*.7):k,rushOrder:Z,allowPartialFulfillment:$,minimumFulfillmentPercent:I,penaltyRate:.05,bonusRate:Z?.1:.02,status:"available"}}getMinimumQualityForStandard(s){switch(s){case"low":return 30;case"standard":return 60;case"high":return 80;case"military":return 90;default:return 50}}generateContractTitle(s,c,u){const o=c.replace("_"," ").replace(/\b\w/g,g=>g.toUpperCase()),m=[`${s.name} ${o} Order`,`${u}x ${o} Contract`,`${s.name} Procurement Request`,`${o} Supply Agreement`,`Emergency ${o} Order`];return m[Math.floor(Math.random()*m.length)]}generateContractDescription(s,c){c.productId.replace("_"," ");const u={military:"Urgent military procurement for active operations.",corporate:"Standard corporate security equipment order.",rebel:"Resistance forces require reliable equipment.",civilian:"Civilian protection and utility contract.",government:"Official government procurement contract."},o={low:"Any functional condition acceptable.",standard:"Standard quality requirements apply.",high:"High quality standards required.",military:"Military specification quality mandatory."};return`${u[s.type]} ${o[s.qualityStandards]} Payment guaranteed upon delivery verification.`}getCustomer(s){return this.customers.get(s)}getAllCustomers(){return Array.from(this.customers.values())}removeExpiredContracts(s,c){return s.filter(u=>u.status!=="available"?!0:c-(u.acceptedAt||c-168)<504)}}function et(d){return{description:"",tier:Xe.BASIC,footprint:0,powerRequirement:0,purchaseCost:0,installationCost:0,dailyOperatingCost:0,condition:{current:100,degradationRate:.5,maintenanceCost:10,failureThreshold:20},...d}}const Mc=et({id:"hand_tools_basic",name:"Basic Hand Tools",description:"Essential hand tools for simple assembly and repair work",tier:Xe.BASIC,tags:[{category:z.BASIC_MANIPULATION,value:10,unit:"%"},{category:z.MANUAL,value:!0}],footprint:0,purchaseCost:200,dailyOperatingCost:0}),Tc=et({id:"hand_tools_precision",name:"Precision Hand Tools",description:"High-quality hand tools for detailed work",tier:Xe.STANDARD,tags:[{category:z.BASIC_MANIPULATION,value:15,unit:"%"},{category:z.PRECISION_MANIPULATION,value:8,unit:"%"},{category:z.MANUAL,value:!0}],footprint:.5,purchaseCost:800,dailyOperatingCost:1}),Ac=et({id:"workbench_basic",name:"Basic Workbench",description:"Simple work surface with built-in vise",tier:Xe.BASIC,tags:[{category:z.SURFACE,value:2,unit:"m",consumable:!0},{category:z.HOLDING,value:!0},{category:z.STORAGE,value:.5,unit:"m"}],footprint:3,purchaseCost:500,dailyOperatingCost:0}),Jf=et({id:"workbench_heavy_duty",name:"Heavy-Duty Workbench",description:"Reinforced workbench for heavy components",tier:Xe.STANDARD,tags:[{category:z.SURFACE,value:3,unit:"m",consumable:!0},{category:z.HOLDING,value:!0},{category:z.STORAGE,value:1,unit:"m"},{category:z.HEAVY_MANIPULATION,value:20,unit:"%"}],footprint:4,purchaseCost:1200,dailyOperatingCost:0,requiresFoundation:!0}),Ec=et({id:"lathe_manual",name:"Manual Lathe",description:"Traditional hand-operated lathe for turning operations",tier:Xe.BASIC,tags:[{category:z.TURNING,value:8,unit:"%",consumable:!0},{category:z.MANUAL,value:!0}],footprint:3,purchaseCost:1500,dailyOperatingCost:2,minSkillLevel:20}),Kf=et({id:"lathe_benchtop",name:"Benchtop Lathe",description:"Small powered lathe for precision turning",tier:Xe.STANDARD,tags:[{category:z.TURNING,value:25,unit:"%",consumable:!0},{category:z.POWERED,value:!0},{category:z.SURFACE,value:1,unit:"m"},{category:z.HOLDING,value:!0}],footprint:2,powerRequirement:1.5,purchaseCost:4500,dailyOperatingCost:8,minSkillLevel:30}),qc=et({id:"mill_manual",name:"Manual Mill",description:"Hand-operated milling machine",tier:Xe.BASIC,tags:[{category:z.MILLING,value:10,unit:"%",consumable:!0},{category:z.DRILLING,value:15,unit:"%",consumable:!0},{category:z.MANUAL,value:!0}],footprint:3,purchaseCost:2e3,dailyOperatingCost:3,minSkillLevel:25}),$f=et({id:"mill_benchtop",name:"Benchtop Mill",description:"Compact powered milling machine",tier:Xe.STANDARD,tags:[{category:z.MILLING,value:30,unit:"%",consumable:!0},{category:z.DRILLING,value:35,unit:"%",consumable:!0},{category:z.POWERED,value:!0},{category:z.SURFACE,value:1.5,unit:"m"},{category:z.HOLDING,value:!0}],footprint:2.5,powerRequirement:2,purchaseCost:6e3,dailyOperatingCost:12,minSkillLevel:35}),Pf=et({id:"cnc_mill_basic",name:"Basic CNC Mill",description:"3-axis CNC milling machine",tier:Xe.ADVANCED,tags:[{category:z.MILLING,value:70,unit:"%",consumable:!0},{category:z.DRILLING,value:80,unit:"%",consumable:!0},{category:z.POWERED,value:!0},{category:z.COMPUTER_CONTROLLED,value:!0},{category:z.SURFACE,value:2,unit:"m"},{category:z.HOLDING,value:!0},{category:z.PRECISION_MANIPULATION,value:45,unit:"%"}],footprint:8,powerRequirement:5,purchaseCost:45e3,installationCost:5e3,dailyOperatingCost:50,minSkillLevel:40,requiresFoundation:!0}),Wf=et({id:"cnc_center_advanced",name:"Advanced CNC Machining Center",description:"5-axis CNC with automatic tool changer",tier:Xe.CUTTING_EDGE,tags:[{category:z.MILLING,value:95,unit:"%",consumable:!0},{category:z.TURNING,value:85,unit:"%",consumable:!0},{category:z.DRILLING,value:95,unit:"%",consumable:!0},{category:z.GRINDING,value:60,unit:"%",consumable:!0},{category:z.POWERED,value:!0},{category:z.AUTOMATED,value:!0},{category:z.COMPUTER_CONTROLLED,value:!0},{category:z.SURFACE,value:4,unit:"m"},{category:z.HOLDING,value:!0},{category:z.PRECISION_MANIPULATION,value:90,unit:"%"},{category:z.MATERIAL_FEED,value:!0}],footprint:25,powerRequirement:15,purchaseCost:35e4,installationCost:25e3,dailyOperatingCost:150,minSkillLevel:60,operatorsRequired:1,requiresFoundation:!0,requiresCoolant:!0}),Rc=et({id:"measuring_tools_basic",name:"Basic Measuring Tools",description:"Calipers, micrometers, and gauges",tier:Xe.BASIC,tags:[{category:z.MEASURING,value:!0},{category:z.QUALITY_CONTROL,value:!0},{category:z.MANUAL,value:!0}],footprint:.5,purchaseCost:500,dailyOperatingCost:0}),Ff=et({id:"cmm_basic",name:"Coordinate Measuring Machine",description:"Precision measurement system for quality control",tier:Xe.ADVANCED,tags:[{category:z.MEASURING,value:!0},{category:z.QUALITY_CONTROL,value:!0},{category:z.DIMENSIONAL_INSPECTION,value:!0},{category:z.POWERED,value:!0},{category:z.COMPUTER_CONTROLLED,value:!0},{category:z.PRECISION_MANIPULATION,value:95,unit:"%"}],footprint:6,powerRequirement:2,purchaseCost:8e4,installationCost:1e4,dailyOperatingCost:30,minSkillLevel:50,requiresFoundation:!0,requiresVentilation:!0}),Cc=et({id:"shelving_basic",name:"Basic Storage Shelving",description:"Simple metal shelving units",tier:Xe.BASIC,tags:[{category:z.STORAGE,value:8,unit:"m",consumable:!0}],footprint:2,purchaseCost:300,dailyOperatingCost:0}),em=et({id:"storage_industrial",name:"Industrial Storage System",description:"Heavy-duty racking with organization system",tier:Xe.STANDARD,tags:[{category:z.STORAGE,value:25,unit:"m",consumable:!0},{category:z.HEAVY_MANIPULATION,value:10,unit:"%"}],footprint:6,purchaseCost:2e3,dailyOperatingCost:1,requiresFoundation:!0}),tm=et({id:"overhead_crane",name:"Overhead Crane System",description:"5-ton overhead crane for heavy lifting",tier:Xe.STANDARD,tags:[{category:z.HEAVY_LIFTING,value:!0},{category:z.HEAVY_MANIPULATION,value:80,unit:"%"},{category:z.POWERED,value:!0}],footprint:0,powerRequirement:5,purchaseCost:25e3,installationCost:15e3,dailyOperatingCost:20,minSkillLevel:30,operatorsRequired:1,requiresFoundation:!0}),am=et({id:"clean_room_basic",name:"Basic Clean Room",description:"Class 10000 clean room for electronics assembly",tier:Xe.ADVANCED,tags:[{category:z.CLEAN_ROOM,value:!0},{category:z.TEMPERATURE_CONTROLLED,value:!0},{category:z.SURFACE,value:20,unit:"m"}],footprint:25,powerRequirement:10,purchaseCost:1e5,installationCost:5e4,dailyOperatingCost:100,requiresVentilation:!0}),On=new Map([[Mc.id,Mc],[Tc.id,Tc],[Ac.id,Ac],[Jf.id,Jf],[Ec.id,Ec],[Kf.id,Kf],[qc.id,qc],[$f.id,$f],[Pf.id,Pf],[Wf.id,Wf],[Rc.id,Rc],[Ff.id,Ff],[Cc.id,Cc],[em.id,em],[tm.id,tm],[am.id,am]]),ry={garage:[Mc.id,Tc.id,Ac.id,Cc.id,Ec.id,qc.id,Rc.id]},oy={id:"basic_sidearm_component",name:"Forge New (Component-Based)",description:"Manufacture a new sidearm from raw materials using component transformation",outputTags:[R.FORGED,R.LOW_TECH],qualityRange:[80,95],operations:[{id:"component_material_prep",name:"Material Preparation",description:"Prepare and measure raw materials",requiredTag:{category:z.SURFACE,minimum:2},baseDurationMinutes:10,can_fail:!1,failure_chance:0,labor_skill:"unskilled"},{id:"component_rough_milling",name:"Rough Milling",description:"Mill frame and major components",requiredTag:{category:z.MILLING,minimum:10,optimal:30},baseDurationMinutes:40,materialConsumption:[{itemId:"steel",count:1}],materialProduction:[{itemId:"mechanical-component",count:10,tags:[R.ROUGH,R.LOW_TECH],quality:70}],can_fail:!0,failure_chance:.05,labor_skill:"skilled_machinist"},{id:"component_precision_turning",name:"Precision Turning",description:"Turn barrel and precision components",requiredTag:{category:z.TURNING,minimum:8,optimal:20},baseDurationMinutes:35,materialConsumption:[{itemId:"mechanical-component",count:5,tags:[R.ROUGH]}],materialProduction:[{itemId:"mechanical-component",count:5,tags:[R.PRECISION,R.LOW_TECH],quality:85}],can_fail:!0,failure_chance:.08,labor_skill:"skilled_machinist"},{id:"component_assembly",name:"Component Assembly",description:"Assemble all components",requiredTag:{category:z.BASIC_MANIPULATION,minimum:10},baseDurationMinutes:25,materialConsumption:[{itemId:"mechanical-component",count:5,tags:[R.ROUGH]},{itemId:"mechanical-component",count:5,tags:[R.PRECISION]}],materialProduction:[{itemId:"mechanical-assembly",count:1,tags:[R.ASSEMBLY,R.LOW_TECH],quality:85}],can_fail:!0,failure_chance:.03,labor_skill:"skilled_technician"},{id:"component_shape_casing",name:"Shape Casing",description:"Shape the outer casing",requiredTag:{category:z.SURFACE,minimum:2},baseDurationMinutes:28,materialConsumption:[{itemId:"plastic",count:.3}],materialProduction:[{itemId:"plastic-casing",count:1,tags:[R.CASING,R.LOW_TECH],quality:75}],can_fail:!0,failure_chance:.02,labor_skill:"skilled_technician"},{id:"component_final_assembly",name:"Final Assembly",description:"Fine adjustments and fitting",requiredTag:{category:z.PRECISION_MANIPULATION,minimum:8},baseDurationMinutes:15,materialConsumption:[{itemId:"mechanical-assembly",count:1,tags:[R.ASSEMBLY]},{itemId:"plastic-casing",count:1,tags:[R.CASING]}],materialProduction:[{itemId:"basic_sidearm",count:1,tags:[R.FORGED,R.LOW_TECH],inheritQuality:!0}],can_fail:!0,failure_chance:.02,labor_skill:"skilled_technician"},{id:"component_quality_control",name:"Quality Control",description:"Test and verify specifications",requiredTag:{category:z.MEASURING,minimum:!0},baseDurationMinutes:10,can_fail:!1,failure_chance:0,labor_skill:"quality_inspector"}],output_state:"pristine",output_quality_range:[80,95],labor_cost_multiplier:1.2,complexity_rating:8,profit_margin_modifier:1.1,customer_appeal:["quality_conscious","precision_seekers","component_enthusiasts"]},dy={id:"basic_sidearm_restore_component",name:"Restore Damaged (Component-Based)",description:"Restore a damaged weapon to functional condition using component breakdown",outputTags:[R.RESTORED,R.LOW_TECH],qualityRange:[60,80],operations:[{id:"restore_comp_uncasing",name:"Uncasing",description:"Carefully disassemble damaged weapon",requiredTag:{category:z.SURFACE,minimum:2},baseDurationMinutes:15,materialConsumption:[{itemId:"basic_sidearm",count:1,tags:[R.DAMAGED],maxQuality:25}],materialProduction:[{itemId:"mechanical-assembly",count:1,tags:[R.ASSEMBLY,R.LOW_TECH,R.DAMAGED],quality:20},{itemId:"plastic-scrap",count:1,tags:[R.SALVAGED],quality:15}],can_fail:!1,failure_chance:0,labor_skill:"skilled_technician"},{id:"restore_comp_disassembly",name:"Disassembly",description:"Carefully disassemble mechanical assembly",requiredTag:{category:z.BASIC_MANIPULATION,minimum:10},baseDurationMinutes:15,materialConsumption:[{itemId:"mechanical-assembly",count:1,tags:[R.ASSEMBLY,R.DAMAGED]}],materialProduction:[{itemId:"mechanical-component",count:4,tags:[R.ROUGH,R.LOW_TECH],quality:25},{itemId:"mechanical-component",count:3,tags:[R.PRECISION,R.LOW_TECH],quality:30},{itemId:"steel-scrap",count:1,tags:[R.SALVAGED],quality:20}],can_fail:!1,failure_chance:0,labor_skill:"skilled_technician"},{id:"restore_comp_rough_milling",name:"Rough Milling",description:"Mill new frame and major components",requiredTag:{category:z.MILLING,minimum:10,optimal:30},baseDurationMinutes:40,materialConsumption:[{itemId:"steel",count:.3}],materialProduction:[{itemId:"mechanical-component",count:3,tags:[R.ROUGH,R.LOW_TECH],quality:70}],can_fail:!0,failure_chance:.05,labor_skill:"skilled_machinist"},{id:"restore_comp_precision_turning",name:"Precision Turning",description:"Turn barrel and precision components",requiredTag:{category:z.TURNING,minimum:8,optimal:20},baseDurationMinutes:35,materialConsumption:[{itemId:"mechanical-component",count:2,tags:[R.ROUGH]}],materialProduction:[{itemId:"mechanical-component",count:2,tags:[R.PRECISION,R.LOW_TECH],quality:85}],can_fail:!0,failure_chance:.08,labor_skill:"skilled_machinist"},{id:"restore_comp_assembly",name:"Component Assembly",description:"Assemble all components",requiredTag:{category:z.BASIC_MANIPULATION,minimum:10},baseDurationMinutes:25,materialConsumption:[{itemId:"mechanical-component",count:5,tags:[R.ROUGH]},{itemId:"mechanical-component",count:5,tags:[R.PRECISION]}],materialProduction:[{itemId:"mechanical-assembly",count:1,tags:[R.ASSEMBLY,R.LOW_TECH],quality:75}],can_fail:!0,failure_chance:.03,labor_skill:"skilled_technician"},{id:"restore_comp_shape_casing",name:"Shape Casing",description:"Shape a new outer casing",requiredTag:{category:z.SURFACE,minimum:2},baseDurationMinutes:28,materialConsumption:[{itemId:"plastic",count:.5}],materialProduction:[{itemId:"plastic-casing",count:1,tags:[R.CASING,R.LOW_TECH],quality:75}],can_fail:!0,failure_chance:.02,labor_skill:"skilled_technician"},{id:"restore_comp_final_assembly",name:"Final Assembly",description:"Fine adjustments and fitting",requiredTag:{category:z.PRECISION_MANIPULATION,minimum:8},baseDurationMinutes:15,materialConsumption:[{itemId:"mechanical-assembly",count:1,tags:[R.ASSEMBLY]},{itemId:"plastic-casing",count:1,tags:[R.CASING]}],materialProduction:[{itemId:"basic_sidearm",count:1,tags:[R.RESTORED,R.LOW_TECH],inheritQuality:!0}],can_fail:!0,failure_chance:.02,labor_skill:"skilled_technician"},{id:"restore_comp_quality_control",name:"Quality Control",description:"Test and verify specifications",requiredTag:{category:z.MEASURING,minimum:!0},baseDurationMinutes:10,can_fail:!1,failure_chance:0,labor_skill:"quality_inspector"}],output_state:"functional",output_quality_range:[60,80],labor_cost_multiplier:.9,complexity_rating:7,profit_margin_modifier:.8,customer_appeal:["budget_conscious","restoration_specialists","component_enthusiasts"]},fy={id:"basic_sidearm_disassemble_pristine_component",name:"Disassemble (Good Condition)",description:"Carefully disassemble a functional sidearm to recover high-quality components",outputTags:[R.SALVAGED],qualityRange:[60,85],operations:[{id:"disassemble_pristine_safety",name:"Safety Check",description:"Ensure weapon is unloaded and safe to disassemble",requiredTag:{category:z.MEASURING,minimum:!0},baseDurationMinutes:5,can_fail:!1,failure_chance:0,labor_skill:"skilled_technician"},{id:"disassemble_pristine_uncasing",name:"Remove Casing",description:"Carefully remove the outer plastic casing",requiredTag:{category:z.BASIC_MANIPULATION,minimum:10},baseDurationMinutes:15,materialConsumption:[{itemId:"basic_sidearm",count:1}],materialProduction:[{itemId:"plastic-casing",count:1,tags:[R.CASING,R.LOW_TECH],inheritQuality:!0},{itemId:"mechanical-assembly",count:1,tags:[R.ASSEMBLY,R.LOW_TECH],inheritQuality:!0}],can_fail:!1,failure_chance:0,labor_skill:"skilled_technician"},{id:"disassemble_pristine_inspection",name:"Component Inspection",description:"Inspect and catalog recovered components",requiredTag:{category:z.MEASURING,minimum:!0},baseDurationMinutes:10,can_fail:!1,failure_chance:0,labor_skill:"quality_inspector"}],output_state:"functional",output_quality_range:[60,85],labor_cost_multiplier:.5,complexity_rating:2,profit_margin_modifier:.6,customer_appeal:["salvage_operations","component_dealers","recyclers"]},my={id:"basic_sidearm_disassemble_damaged_component",name:"Disassemble (Damaged)",description:"Salvage what components you can from a damaged sidearm",outputTags:[R.DAMAGED,R.SALVAGED],qualityRange:[15,35],operations:[{id:"disassemble_damaged_safety",name:"Safety Check",description:"Check damaged weapon for safety hazards",requiredTag:{category:z.MEASURING,minimum:!0},baseDurationMinutes:5,can_fail:!1,failure_chance:0,labor_skill:"skilled_technician"},{id:"disassemble_damaged_breakdown",name:"Force Disassembly",description:"Forcefully remove damaged casing and internals",requiredTag:{category:z.BASIC_MANIPULATION,minimum:8},baseDurationMinutes:20,materialConsumption:[{itemId:"basic_sidearm",count:1,tags:[R.DAMAGED]}],materialProduction:[{itemId:"plastic-scrap",count:1,tags:[R.SALVAGED],quality:15},{itemId:"mechanical-assembly",count:1,tags:[R.ASSEMBLY,R.LOW_TECH,R.DAMAGED],quality:20}],can_fail:!0,failure_chance:.1,labor_skill:"skilled_technician"},{id:"disassemble_damaged_assessment",name:"Salvage Assessment",description:"Assess value of recovered materials",requiredTag:{category:z.MEASURING,minimum:!0},baseDurationMinutes:10,can_fail:!1,failure_chance:0,labor_skill:"quality_inspector"}],output_state:"junk",output_quality_range:[15,35],labor_cost_multiplier:.4,complexity_rating:2,profit_margin_modifier:.4,customer_appeal:["scrap_dealers","budget_operations","salvagers"]},dm=[oy,dy,fy,my],fm=[],gy={MS_PER_GAME_HOUR:60*1e3};function mm(){return{totalGameHours:0,days:0,hours:0,isPaused:!1,gameSpeed:1}}function gm(d,s){if(d.isPaused)return d;const c=s*d.gameSpeed/gy.MS_PER_GAME_HOUR,u=d.totalGameHours+c;return{...d,totalGameHours:u,days:Math.floor(u/24),hours:Math.floor(u%24)}}function $i(d){const s=d.days,c=Math.floor(d.hours),u=Math.floor(d.totalGameHours%1*60);return s>0?`Day ${s+1}, ${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`:`${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`}function yy(d){return d===1?"Normal":d===0?"Paused":`${d}x`}const hy=[{oldKey:"basic_sidearm_pristine",baseItemId:"basic_sidearm",tags:[R.FORGED],qualityRange:[90,95]},{oldKey:"basic_sidearm_standard",baseItemId:"basic_sidearm",tags:[R.FORGED],qualityRange:[75,85]},{oldKey:"basic_sidearm_functional",baseItemId:"basic_sidearm",tags:[R.RESTORED],qualityRange:[60,70]},{oldKey:"basic_sidearm_junk",baseItemId:"basic_sidearm",tags:[R.JUNK],qualityRange:[30,45]},{oldKey:"tactical_knife_pristine",baseItemId:"tactical_knife",tags:[R.FORGED],qualityRange:[90,95]},{oldKey:"tactical_knife_standard",baseItemId:"tactical_knife",tags:[R.FORGED],qualityRange:[75,85]},{oldKey:"tactical_knife_functional",baseItemId:"tactical_knife",tags:[R.RESTORED],qualityRange:[60,70]},{oldKey:"tactical_knife_junk",baseItemId:"tactical_knife",tags:[R.JUNK],qualityRange:[30,45]},{oldKey:"steel",baseItemId:"steel",tags:[R.STANDARD],qualityRange:[80,90]},{oldKey:"aluminum",baseItemId:"aluminum",tags:[R.STANDARD],qualityRange:[80,90]},{oldKey:"plastic",baseItemId:"plastic",tags:[R.STANDARD],qualityRange:[75,85]},{oldKey:"titanium",baseItemId:"titanium",tags:[R.PREMIUM],qualityRange:[90,95]},{oldKey:"basic_electronics",baseItemId:"basic_electronics",tags:[R.STANDARD],qualityRange:[70,85]},{oldKey:"advanced_electronics",baseItemId:"advanced_electronics",tags:[R.PREMIUM],qualityRange:[85,95]},{oldKey:"machined_parts",baseItemId:"machined_parts",tags:[R.STANDARD],qualityRange:[75,90]},{oldKey:"low_tech_spares",baseItemId:"low_tech_spares",tags:[R.SALVAGED],qualityRange:[50,70]},{oldKey:"precision_spares",baseItemId:"precision_spares",tags:[R.PREMIUM],qualityRange:[85,95]},{oldKey:"damaged_basic_sidearm",baseItemId:"basic_sidearm",tags:[R.DAMAGED],qualityRange:[10,25]},{oldKey:"damaged_tactical_knife",baseItemId:"tactical_knife",tags:[R.DAMAGED],qualityRange:[10,25]},{oldKey:"dull_tactical_knife",baseItemId:"tactical_knife",tags:[R.SALVAGED],qualityRange:[45,60]},{oldKey:"composite_materials",baseItemId:"composite_materials",tags:[R.PREMIUM],qualityRange:[85,95]},{oldKey:"industrial_chemicals",baseItemId:"industrial_chemicals",tags:[R.STANDARD],qualityRange:[70,85]}];class py{convertLegacyStorage(s){const c=new Map;for(const m of Object.values(Me))c.set(m,{category:m,slots:[],totalItems:0,totalValue:0});for(const[m,g]of Object.entries(s)){if(g<=0)continue;const h=this.findMapping(m);if(!h){console.warn(`No mapping found for legacy storage key: ${m}`);continue}const v=$e(h.baseItemId);if(!v){console.warn(`Base item not found: ${h.baseItemId}`);continue}const p=this.createInstancesFromLegacy(h,g),S=c.get(v.category);S&&this.addInstancesToGroup(S,p)}let u=0,o=0;for(const m of c.values())u+=m.totalItems,o+=m.totalValue;return{groups:c,totalItems:u,totalValue:o,lastUpdated:Date.now(),storageCapacity:1e3,usedCapacity:u}}findMapping(s){let c=hy.find(u=>u.oldKey===s);return!c&&$e(s)?{oldKey:s,baseItemId:s,tags:[R.STANDARD],qualityRange:[75,85]}:c}createInstancesFromLegacy(s,c){const u=$e(s.baseItemId);if(!u)return[];if(u.stackable){const m=this.randomInRange(s.qualityRange);return[Cn({baseItemId:s.baseItemId,tags:s.tags,quality:m,quantity:c,metadata:{migratedFrom:s.oldKey}})]}const o=[];for(let m=0;m<c;m++){const g=this.randomInRange(s.qualityRange);o.push(Cn({baseItemId:s.baseItemId,tags:s.tags,quality:g,quantity:1,metadata:{migratedFrom:s.oldKey}}))}return o}addInstancesToGroup(s,c){if(c.length===0)return;const u=c[0].baseItemId;let o=s.slots.find(m=>m.baseItemId===u);o||(o={baseItemId:u,stack:{baseItemId:u,instances:[],totalQuantity:0,averageQuality:0,uniqueTags:[]},reserved:0,available:0},s.slots.push(o)),o.stack.instances.push(...c),this.updateSlotTotals(o),this.updateGroupTotals(s)}updateSlotTotals(s){const c=s.stack.instances;if(s.stack.totalQuantity=c.reduce((u,o)=>u+o.quantity,0),s.available=s.stack.totalQuantity-s.reserved,c.length>0){const u=c.reduce((o,m)=>o+m.quality*m.quantity,0);s.stack.averageQuality=Math.round(u/s.stack.totalQuantity),s.stack.uniqueTags=[...new Set(c.flatMap(o=>o.tags))]}else s.stack.averageQuality=0,s.stack.uniqueTags=[]}updateGroupTotals(s){s.totalItems=s.slots.reduce((c,u)=>c+u.stack.totalQuantity,0),s.totalValue=s.slots.reduce((c,u)=>{const o=$e(u.baseItemId);if(!o)return c;const m=o.baseValue*(u.stack.averageQuality/100);return c+m*u.stack.totalQuantity},0)}randomInRange([s,c]){return Math.floor(Math.random()*(c-s+1))+s}migrateStorageData(s,c){const u=this.convertLegacyStorage(s);for(const[g,h]of u.groups.entries()){const v=c.groups.get(g);if(v){for(const p of h.slots){const S=v.slots.find(A=>A.baseItemId===p.baseItemId);S?(S.stack.instances.push(...p.stack.instances),this.updateSlotTotals(S)):v.slots.push(p)}this.updateGroupTotals(v)}else c.groups.set(g,h)}let o=0,m=0;for(const g of c.groups.values())o+=g.totalItems,m+=g.totalValue;c.totalItems=o,c.totalValue=m,c.usedCapacity=o,c.lastUpdated=Date.now()}validateMigration(s,c){let u=0,o=0;for(const m of Object.values(s))u+=m;for(const m of c.groups.values())for(const g of m.slots)o+=g.stack.totalQuantity;if(u!==o)return console.error(`Migration quantity mismatch: ${u} old vs ${o} new`),!1;for(const[m,g]of Object.entries(s)){if(g<=0)continue;const h=this.findMapping(m);if(!h){console.warn(`No mapping found for ${m}, migration may be incomplete`);continue}const v=$e(h.baseItemId);if(!v)continue;const p=c.groups.get(v.category);if(!p)return console.error(`No group found for category ${v.category}`),!1;const S=p.slots.find(C=>C.baseItemId===h.baseItemId);if(!S)return console.error(`No slot found for base item ${h.baseItemId}`),!1;const O=S.stack.instances.filter(C=>{var L;return((L=C.metadata)==null?void 0:L.migratedFrom)===m}).reduce((C,L)=>C+L.quantity,0);if(O!==g)return console.error(`Quantity mismatch for ${m}: ${g} expected, ${O} found`),!1}return!0}}const Ji=new py;class vy{migrateFacility(s){if(s.inventory)return s;const c=Ji.convertLegacyStorage(s.current_storage);if(c.storageCapacity=s.storage_capacity,!Ji.validateMigration(s.current_storage,c))return console.error(`Migration validation failed for facility: ${s.name}`),s;const o={...s,inventory:c,current_storage:{...s.current_storage}};return console.log(`Successfully migrated facility: ${s.name}`),console.log(`- Legacy items: ${Object.keys(s.current_storage).length}`),console.log(`- New inventory groups: ${c.groups.size}`),console.log(`- Total items: ${c.totalItems}`),console.log(`- Total value: ${c.totalValue} credits`),o}migrateAllFacilities(s){return s.map(c=>this.migrateFacility(c))}needsMigration(s){return!s.inventory&&Object.keys(s.current_storage).length>0}syncLegacyToInventory(s){if(!s.inventory)return this.migrateFacility(s);const c=this.extractLegacyStorageFromInventory(s.inventory);if(this.compareLegacyStorage(s.current_storage,c)){console.log(`Detected changes in legacy storage for ${s.name}, re-migrating...`);const o=Ji.convertLegacyStorage(s.current_storage);return o.storageCapacity=s.inventory.storageCapacity,{...s,inventory:o}}return s}extractLegacyStorageFromInventory(s){return{}}compareLegacyStorage(s,c){const u=Object.keys(s),o=Object.keys(c);if(u.length!==o.length)return!0;for(const m of u)if(s[m]!==c[m])return!0;return!1}getMigrationStatus(s){var o,m;const c=Object.keys(s.current_storage).length>0,u=!!s.inventory;return{isMigrated:u,hasLegacyData:c,requiresSync:c&&u,itemCount:((o=s.inventory)==null?void 0:o.totalItems)||0,inventoryValue:((m=s.inventory)==null?void 0:m.totalValue)||0}}initializeDualSystemFacility(s,c=1e3){const u=Ji.convertLegacyStorage(s);return u.storageCapacity=c,{legacyStorage:{...s},inventory:u}}removeLegacyStorage(s){return s.inventory?(console.log(`Removing legacy storage from ${s.name}`),{...s,current_storage:{}}):(console.warn(`Cannot remove legacy storage from ${s.name}: no new inventory system present`),s)}validateFacilityInventory(s){const c=[],u=[];if(!s.inventory)return c.push("No inventory system present"),{isValid:!1,errors:c,warnings:u};let o=0,m=0;for(const g of s.inventory.groups.values()){o+=g.totalItems,m+=g.totalValue;for(const h of g.slots){const v=h.stack.instances.reduce((p,S)=>p+S.quantity,0);v!==h.stack.totalQuantity&&c.push(`Slot ${h.baseItemId}: calculated total ${v} != stored total ${h.stack.totalQuantity}`),h.available+h.reserved!==h.stack.totalQuantity&&u.push(`Slot ${h.baseItemId}: available + reserved != total quantity`)}}return o!==s.inventory.totalItems&&c.push(`Calculated total items ${o} != stored total ${s.inventory.totalItems}`),Math.abs(m-s.inventory.totalValue)>1&&u.push(`Calculated value ${m} != stored value ${s.inventory.totalValue}`),{isValid:c.length===0,errors:c,warnings:u}}}const Oc=new vy;function ym(d,s){return{id:`eq-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,equipmentId:d,facilityId:s,condition:100,lastMaintenance:0,totalOperatingHours:0,status:sm.AVAILABLE,utilizationHistory:[]}}const Se=im((d,s)=>({gameTime:{...mm(),elapsed:0,deltaTime:0},credits:1e4,resources:{},research:{current:null,completed:[],available:[]},facilities:[],equipmentDatabase:On,machineWorkspaceManager:new cm(On),marketGenerator:new rm,contractGenerator:new om,marketState:{availableLots:[],activePurchaseOrders:[],playerListings:[],transactionHistory:[],lastLotRefresh:0,nextRefreshAt:0},contractState:{availableCustomerContracts:[],availableSupplyContracts:[],activeCustomerContracts:[],activeSupplyContracts:[],contractProgress:new Map,completedContracts:[],contractHistory:[],lastContractRefresh:0,nextRefreshAt:0},activeTab:"manufacturing",selectedFacilityId:null,jobCompletionNotifications:[],setActiveTab:c=>d({activeTab:c}),setSelectedFacility:c=>d({selectedFacilityId:c}),updateGameTime:c=>d(u=>{const o={...gm(u.gameTime,c),elapsed:u.gameTime.elapsed+c,deltaTime:c},m=u.marketState.activePurchaseOrders.map(L=>{if(L.status==="ordered"&&o.totalGameHours>=L.deliveryAt){const B=u.facilities.find(G=>G.id===L.facilityId);if(B){const G=B.current_storage[L.materialId]||0;if(B.current_storage[L.materialId]=G+L.quantity,B.inventory)try{const k=Cn({baseItemId:L.materialId,tags:[R.STANDARD],quality:80+Math.random()*15,quantity:L.quantity,metadata:{source:"market_delivery",supplierId:L.supplierId,deliveredAt:o.totalGameHours}});oe.addItem(B.inventory,k)}catch(k){console.warn("Failed to add delivered item to new inventory system:",k)}}return{...L,status:"delivered"}}return L}),g=m.filter(L=>L.status==="delivered"),h=m.filter(L=>L.status!=="delivered"),v=g.slice(-5),p=u.marketState.playerListings.map(L=>{if(L.status!=="active"||L.soldQuantity>=L.quantity)return L;const B=.1,G=L.quantity-L.soldQuantity;if(Math.random()<B&&G>0){const k=L.soldQuantity+1,Z=L.pricePerUnit;return u.credits+=Z,{...L,soldQuantity:k,status:k>=L.quantity?"sold":"partially_sold"}}return L}),S=p.filter(L=>L.status==="active"||L.status==="partially_sold"),A=p.filter(L=>L.status==="sold"||L.status==="expired").slice(-3);let O=u.marketState.availableLots;const C=u.gameTime.totalGameHours;return Math.floor(o.totalGameHours/6)>Math.floor(C/6)&&(O=u.marketGenerator.simulateMarketForces(u.marketState.availableLots,o.totalGameHours)),{...u,gameTime:o,marketState:{...u.marketState,availableLots:O,activePurchaseOrders:[...h,...v],playerListings:[...S,...A]}}}),togglePause:()=>d(c=>({gameTime:{...c.gameTime,isPaused:!c.gameTime.isPaused}})),setGameSpeed:c=>d(u=>({gameTime:{...u.gameTime,gameSpeed:c}})),startResearch:c=>{},acceptContract:c=>{console.log("Legacy contract system - use acceptCustomerContract instead")},updateResource:(c,u)=>d(o=>({resources:{...o.resources,[c]:(o.resources[c]||0)+u}})),updateFacility:(c,u)=>d(o=>({facilities:o.facilities.map(m=>m.id===c?{...m,...u}:m)})),purchaseEquipment:(c,u)=>{const o=s(),m=o.equipmentDatabase.get(u),g=o.facilities.find(h=>h.id===c);!m||!g||o.credits<m.purchaseCost+m.installationCost||g.used_floor_space+m.footprint>g.floor_space||d(h=>{const v=ym(u,c),p=h.facilities.map(A=>{if(A.id===c){const O=[...A.equipment,v],C=_c(O,h.equipmentDatabase);return{...A,equipment:O,equipment_capacity:C,used_floor_space:A.used_floor_space+m.footprint,operating_cost_per_day:A.operating_cost_per_day+m.dailyOperatingCost}}return A});let S=h.machineWorkspace;if(h.selectedFacilityId===c&&h.machineWorkspace){const A=p.find(O=>O.id===c);A&&(h.machineWorkspaceManager.setFacility(A),h.machineWorkspaceManager.addEquipmentToWorkspace(A,v),S=h.machineWorkspaceManager.getWorkspace(c))}return{facilities:p,credits:h.credits-m.purchaseCost-m.installationCost,machineWorkspace:S}})},sellEquipment:(c,u)=>{const o=s(),m=o.facilities.find(p=>p.id===c);if(!m)return;const g=m.equipment.find(p=>p.id===u);if(!g)return;const h=o.equipmentDatabase.get(g.equipmentId);if(!h)return;const v=h.purchaseCost*.5*(g.condition/100);d(p=>{const S=p.facilities.map(O=>{if(O.id===c){const C=O.equipment.filter(B=>B.id!==u),L=_c(C,p.equipmentDatabase);return{...O,equipment:C,equipment_capacity:L,used_floor_space:O.used_floor_space-h.footprint,operating_cost_per_day:O.operating_cost_per_day-h.dailyOperatingCost}}return O});let A=p.machineWorkspace;if(p.selectedFacilityId===c&&p.machineWorkspace){const O=S.find(C=>C.id===c);O&&(p.machineWorkspaceManager.setFacility(O),p.machineWorkspaceManager.removeEquipmentFromWorkspace(c,u),A=p.machineWorkspaceManager.getWorkspace(c))}return{facilities:S,credits:p.credits+v,machineWorkspace:A}})},maintainEquipment:(c,u)=>{const o=s(),m=o.facilities.find(v=>v.id===c);if(!m)return;const g=m.equipment.find(v=>v.id===u);if(!g)return;const h=o.equipmentDatabase.get(g.equipmentId);h&&(o.credits<h.condition.maintenanceCost||d(v=>({facilities:v.facilities.map(p=>p.id===c?{...p,equipment:p.equipment.map(S=>S.id===u?{...S,condition:100,lastMaintenance:v.gameTime.elapsed}:S)}:p),credits:v.credits-h.condition.maintenanceCost})))},startMachineJob:(c,u,o,m=1,g=!1)=>{const h=s(),v=h.facilities.find(O=>O.id===c);if(!v)return;let p=dm.find(O=>O.id===o);if(p||(p=fm.find(O=>O.id===o)),!p)return;let S=h.machineWorkspace;!S||S.facilityId!==c?(h.machineWorkspaceManager.setFacility(v),h.machineWorkspaceManager.setGameTime(h.gameTime),S=h.machineWorkspaceManager.initializeWorkspace(v)):h.machineWorkspaceManager.setGameTime(h.gameTime);const A=g?Ki.RUSH:Ki.NORMAL;h.machineWorkspaceManager.addJob(c,u,p,m,A,g),d({machineWorkspace:h.machineWorkspaceManager.getWorkspace(c)})},cancelMachineJob:(c,u)=>{const o=s();if(!o.facilities.find(h=>h.id===c))return console.error(`Cannot cancel job ${u}: facility ${c} not found`),!1;const g=o.machineWorkspaceManager.cancelJob(c,u);return g&&(d({machineWorkspace:o.machineWorkspaceManager.getWorkspace(c)}),console.log(`Job ${u} cancelled successfully`)),g},updateProduction:()=>{const c=s(),u=c.gameTime.deltaTime;if(!c.gameTime.isPaused&&c.machineWorkspace&&c.selectedFacilityId){const o=c.facilities.find(m=>m.id===c.selectedFacilityId);o&&(c.machineWorkspaceManager.setFacility(o),c.machineWorkspaceManager.setGameTime(c.gameTime),c.machineWorkspaceManager.updateAllWorkspaces(u),d({machineWorkspace:c.machineWorkspaceManager.getWorkspace(c.selectedFacilityId)}))}},addJobCompletionNotification:c=>d(u=>({jobCompletionNotifications:[...u.jobCompletionNotifications,{...c,id:`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now()}]})),dismissNotification:c=>d(u=>({jobCompletionNotifications:u.jobCompletionNotifications.filter(o=>o.id!==c)})),purchaseMarketLot:(c,u)=>{d(o=>{const m=o.marketState.availableLots.find(v=>v.id===c),g=o.facilities.find(v=>v.id===u);if(!m||!g)return console.error("Lot or facility not found:",{lotId:c,facilityId:u}),o;if(o.credits<m.totalPrice)return console.warn("Insufficient credits for purchase:",{required:m.totalPrice,available:o.credits}),o;const h={id:`order-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,lotId:m.id,supplierId:m.supplierId,materialId:m.materialId,quantity:m.quantity,totalPaid:m.totalPrice,orderedAt:o.gameTime.totalGameHours,deliveryAt:o.gameTime.totalGameHours+m.deliveryTimeHours,status:"ordered",facilityId:g.id};return{...o,credits:o.credits-m.totalPrice,marketState:{...o.marketState,availableLots:o.marketState.availableLots.filter(v=>v.id!==c),activePurchaseOrders:[...o.marketState.activePurchaseOrders,h]}}})},listProductForSale:(c,u,o,m)=>{d(g=>{const h=g.facilities.find(O=>O.id===c);if(!h)return console.error("Facility not found:",c),g;let v=0,p="standard",S=[];if(h.inventory){const O=oe.getAvailableQuantity(h.inventory,u);if(O<o)return console.warn("Insufficient products to list for sale:",{requested:o,available:O,product:u}),g;S=oe.getBestQualityItems(h.inventory,u,o),v=S.reduce((B,G)=>B+G.quantity,0);const L=S.reduce((B,G)=>B+G.quality*G.quantity,0)/v;p=L>=90?"pristine":L>=75?"functional":L>=50?"standard":"junk"}else{const O=["pristine","functional","standard","junk"];let C="";for(const L of O){const B=`${u}_${L}`,G=h.current_storage[B]||0;if(G>=o){v=G,C=B,p=L;break}}if(v<o)return console.warn("Insufficient products to list for sale:",{requested:o,available:v,product:u}),g;h.current_storage[C]=v-o}const A={id:`listing-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,productId:u,quantity:o,pricePerUnit:m,totalPrice:m*o,qualityGrade:p,listedAt:g.gameTime.totalGameHours,expiresAt:g.gameTime.totalGameHours+168,soldQuantity:0,status:"active"};if(h.inventory&&S.length>0)for(const O of S)oe.removeItem(h.inventory,O.id,O.quantity);return{...g,marketState:{...g.marketState,playerListings:[...g.marketState.playerListings,A]}}})},removePlayerListing:c=>{d(u=>{const o=u.marketState.playerListings.find(g=>g.id===c);if(!o)return console.error("Listing not found:",c),u;const m=u.facilities[0];if(m&&o.status==="active"&&o.soldQuantity<o.quantity){const g=o.quantity-o.soldQuantity;if(m.inventory){const h=o.qualityGrade==="pristine"?95:o.qualityGrade==="functional"?80:o.qualityGrade==="standard"?65:45,v=Cn({baseItemId:o.productId,tags:[R.REFURBISHED],quality:h,quantity:g,metadata:{source:"market_return",originalListingId:c,returnedAt:u.gameTime.totalGameHours}});oe.addItem(m.inventory,v)}else{const h=`${o.productId}_${o.qualityGrade}`;m.current_storage[h]=(m.current_storage[h]||0)+g}}return{...u,marketState:{...u.marketState,playerListings:u.marketState.playerListings.filter(g=>g.id!==c)}}})},refreshMarketLots:()=>{d(c=>{const u=c.marketGenerator.generateMarketLots(6,c.gameTime.totalGameHours),o=c.marketGenerator.removeExpiredLots(c.marketState.availableLots,c.gameTime.totalGameHours),m=c.marketGenerator.simulateMarketForces([...o,...u],c.gameTime.totalGameHours);return{...c,marketState:{...c.marketState,availableLots:m,lastLotRefresh:c.gameTime.totalGameHours,nextRefreshAt:c.gameTime.totalGameHours+24}}})},acceptCustomerContract:c=>{d(u=>{const o=u.contractState.availableCustomerContracts.find(g=>g.id===c);if(!o)return console.error("Contract not found:",c),u;const m={...o,status:"accepted",acceptedAt:u.gameTime.totalGameHours};return{...u,contractState:{...u.contractState,availableCustomerContracts:u.contractState.availableCustomerContracts.filter(g=>g.id!==c),activeCustomerContracts:[...u.contractState.activeCustomerContracts,m]}}})},acceptSupplyContract:c=>{console.log("Supply contract acceptance not yet implemented:",c)},fulfillContract:(c,u)=>{d(o=>{const m=o.contractState.activeCustomerContracts.find(k=>k.id===c),g=o.facilities.find(k=>k.id===u);if(!m||!g)return console.error("Contract or facility not found:",{contractId:c,facilityId:u}),o;const h=m.requirements[0];if(!h)return console.error("Contract has no requirements"),o;const v=`${h.productId}_pristine`,p=g.current_storage[v]||0;if(p<h.quantity)return console.warn("Insufficient products to fulfill contract:",{required:h.quantity,available:p,product:h.productId}),o;const S=m.totalPayment,A=o.gameTime.totalGameHours,B=(m.acceptedAt||0)+m.deadlineHours-A>0?Math.floor(S*(1+m.bonusRate)):S;g.current_storage[v]=p-h.quantity;const G={...m,status:"completed",completedAt:A};return{...o,credits:o.credits+B,contractState:{...o.contractState,activeCustomerContracts:o.contractState.activeCustomerContracts.filter(k=>k.id!==c),completedContracts:[...o.contractState.completedContracts,G]}}})},refreshContracts:()=>{d(c=>{const u=c.contractGenerator.generateCustomerContracts(4,c.gameTime.totalGameHours),o=c.contractGenerator.removeExpiredContracts(c.contractState.availableCustomerContracts,c.gameTime.totalGameHours);return{...c,contractState:{...c.contractState,availableCustomerContracts:[...o,...u],lastContractRefresh:c.gameTime.totalGameHours,nextRefreshAt:c.gameTime.totalGameHours+48}}})},migrateFacilityInventory:c=>{d(u=>{const o=u.facilities.find(m=>m.id===c);if(!o)return console.error(`Facility not found: ${c}`),u;if(Oc.needsMigration(o)){const m=Oc.migrateFacility(o);return{...u,facilities:u.facilities.map(g=>g.id===c?m:g)}}return u})},addItemToInventory:(c,u)=>{const m=s().facilities.find(h=>h.id===c);if(!m||!m.inventory)return console.error(`Facility or inventory not found: ${c}`),!1;const g=oe.addItem(m.inventory,u);return g&&d(h=>({facilities:h.facilities.map(v=>v.id===c?{...v,inventory:m.inventory}:v)})),g},removeItemFromInventory:(c,u,o)=>{const g=s().facilities.find(v=>v.id===c);if(!g||!g.inventory)return console.error(`Facility or inventory not found: ${c}`),!1;const h=oe.removeItem(g.inventory,u,o);return h&&d(v=>({facilities:v.facilities.map(p=>p.id===c?{...p,inventory:g.inventory}:p)})),h},getAvailableItems:(c,u)=>{const m=s().facilities.find(g=>g.id===c);return!m||!m.inventory?(m==null?void 0:m.current_storage[u])||0:oe.getAvailableQuantity(m.inventory,u)},findBestQualityItems:(c,u,o)=>{const g=s().facilities.find(h=>h.id===c);return!g||!g.inventory?(console.warn(`Facility or inventory not found: ${c}`),[]):oe.getBestQualityItems(g.inventory,u,o)}})),bt=xc("Starting Garage");bt.equipment=ry.garage.map(d=>ym(d,bt.id));bt.equipment_capacity=_c(bt.equipment,On);bt.used_floor_space=bt.equipment.reduce((d,s)=>{const c=On.get(s.equipmentId);return d+((c==null?void 0:c.footprint)||0)},0);const hm={steel:20,plastic:15,damaged_basic_sidearm:3,low_tech_spares:20,damaged_tactical_knife:2,dull_tactical_knife:4,aluminum:2,basic_electronics:3,machined_parts:5};bt.current_storage={...hm};bt.inventory=Oc.migrateFacility({...bt,current_storage:hm}).inventory;const Pi=new cm(On);Pi.setFacility(bt);const by=Pi.initializeWorkspace(bt);Pi.setJobCompleteCallback(d=>{Se.getState().addJobCompletionNotification({jobId:d.id,productId:d.productId,methodName:d.method.name,quantity:d.quantity})});const xy=new rm,_y=xy.generateMarketLots(8,0),Sy=new om,Ny=Sy.generateCustomerContracts(3,0);Se.setState({facilities:[bt],selectedFacilityId:bt.id,machineWorkspaceManager:Pi,machineWorkspace:by,marketState:{availableLots:_y,activePurchaseOrders:[],playerListings:[],transactionHistory:[],lastLotRefresh:0,nextRefreshAt:24},contractState:{availableCustomerContracts:Ny,availableSupplyContracts:[],activeCustomerContracts:[],activeSupplyContracts:[],contractProgress:new Map,completedContracts:[],contractHistory:[],lastContractRefresh:0,nextRefreshAt:48}});Se.getState().machineWorkspaceManager.setJobCompleteCallback(d=>{const s=Se.getState();if(s.addJobCompletionNotification({jobId:d.id,productId:d.productId,methodName:d.method.name,quantity:d.quantity}),s.selectedFacilityId){const c=s.facilities.find(u=>u.id===s.selectedFacilityId);c&&(s.machineWorkspaceManager.setFacility(c),Se.setState({machineWorkspace:s.machineWorkspaceManager.getWorkspace(s.selectedFacilityId),facilities:[...s.facilities]}))}});const My=[{id:"research",label:"R&D",description:"Research & Development"},{id:"manufacturing",label:"Manufacturing",description:"Production Facilities"},{id:"equipment",label:"Equipment",description:"Equipment Management"},{id:"market",label:"Market",description:"Material Trading"},{id:"contracts",label:"Contracts",description:"Customer Orders"}];function Ty(){const d=Se(c=>c.activeTab),s=Se(c=>c.setActiveTab);return r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{className:"ascii-accent text-sm mr-4",children:""}),My.map(c=>{const u=c.id===d;return r.jsx("button",{onClick:()=>s(c.id),className:`tab-button ${u?"active":""}`,title:c.description,children:c.label},c.id)})]})}function Ay(d){if(d.required_tags)return d;const s=[];return s.push({category:z.BASIC_MANIPULATION,minimum:5}),s.push({category:z.SURFACE,minimum:1}),d.material_requirements&&d.material_requirements.length>0&&s.push({category:z.HOLDING,minimum:!0}),d.labor_skill==="skilled_machinist"?(s.push({category:z.TURNING,minimum:15}),s.push({category:z.MILLING,minimum:10}),s.push({category:z.PRECISION_MANIPULATION,minimum:10})):d.labor_skill==="skilled_technician"?s.push({category:z.PRECISION_MANIPULATION,minimum:8}):d.labor_skill==="quality_inspector"&&(s.push({category:z.MEASURING,minimum:!0}),s.push({category:z.QUALITY_CONTROL,minimum:!0})),d.failure_chance>.1&&s.push({category:z.PRECISION_MANIPULATION,minimum:12}),{...d,required_tags:s}}function Ey(d){return{...d,steps:d.steps.map(Ay)}}const qy={basic_sidearm:{id:"basic_sidearm",name:"Basic Sidearm",materials_required:[{material_id:"steel",quantity_per_unit:1},{material_id:"plastic",quantity_per_unit:.3}],base_labor_hours:2,complexity_rating:2,manufacturing_methods:[{id:"restore_basic_sidearm",name:"Restore Basic Sidearm",description:"Repair damaged weapons back to working condition",input_state:"damaged",output_state:"functional",output_quality_range:[60,80],required_facility_traits:["basic_tools"],required_tools:["hand_tools"],total_duration_hours:3,labor_cost_multiplier:.8,complexity_rating:3,customer_appeal:["civilian","corporate"],profit_margin_modifier:1.2,steps:[{id:"cleaning",name:"Cleaning",duration_percentage:30,material_requirements:[{material_id:"damaged_basic_sidearm",quantity:1,consumed_at_start:!0}],labor_skill:"unskilled",can_fail:!1,failure_chance:0,description:"Clean and disassemble the damaged weapon"},{id:"repairing",name:"Repairing",duration_percentage:60,material_requirements:[{material_id:"low_tech_spares",quantity:2,consumed_at_start:!0}],labor_skill:"skilled_technician",can_fail:!0,failure_chance:.05,failure_result:"scrap",description:"Replace broken components and repair mechanisms"},{id:"testing_polishing",name:"Testing & Polishing",duration_percentage:10,material_requirements:[],labor_skill:"unskilled",can_fail:!1,failure_chance:0,description:"Test functionality and apply final polish"}]},{id:"forge_basic_sidearm",name:"Forge Basic Sidearm",description:"Manufacture new high-quality weapons from raw materials",output_state:"pristine",output_quality_range:[85,95],required_facility_traits:["basic_tools"],required_tools:["hand_tools"],total_duration_hours:5,labor_cost_multiplier:1.5,complexity_rating:6,customer_appeal:["military","government"],profit_margin_modifier:1.8,steps:[{id:"material_prep",name:"Material Preparation",duration_percentage:15,material_requirements:[{material_id:"steel",quantity:1,consumed_at_start:!0},{material_id:"plastic",quantity:.3,consumed_at_start:!0}],labor_skill:"unskilled",can_fail:!1,failure_chance:0,description:"Cut and prepare raw materials for machining"},{id:"precision_machining",name:"Precision Machining",duration_percentage:50,material_requirements:[{material_id:"machined_parts",quantity:1,consumed_at_start:!0}],labor_skill:"skilled_machinist",can_fail:!0,failure_chance:.1,failure_result:"wasted_materials",description:"Machine precision components and parts"},{id:"assembly",name:"Assembly",duration_percentage:25,material_requirements:[],labor_skill:"skilled_technician",can_fail:!0,failure_chance:.05,failure_result:"downgrade",description:"Assemble all components into final product"},{id:"quality_control",name:"Quality Control",duration_percentage:10,material_requirements:[],labor_skill:"quality_inspector",can_fail:!1,failure_chance:0,description:"Final inspection and quality testing"}]},{id:"cobble_basic_sidearm",name:"Cobble Basic Sidearm",description:"Assemble cheap weapons from spare parts and scrap",output_state:"junk",output_quality_range:[25,45],required_facility_traits:["basic_tools"],required_tools:["hand_tools"],total_duration_hours:4,labor_cost_multiplier:.6,complexity_rating:2,customer_appeal:["civilian"],profit_margin_modifier:.8,steps:[{id:"sorting_components",name:"Sorting Components",duration_percentage:20,material_requirements:[{material_id:"low_tech_spares",quantity:5,consumed_at_start:!0}],labor_skill:"unskilled",can_fail:!1,failure_chance:0,description:"Sort through spare parts to find usable components"},{id:"improvised_assembly",name:"Improvised Assembly",duration_percentage:60,material_requirements:[{material_id:"low_tech_spares",quantity:2,consumed_at_start:!1}],labor_skill:"unskilled",can_fail:!0,failure_chance:.15,failure_result:"scrap",description:"Cobble together parts using improvised techniques"},{id:"basic_testing",name:"Basic Testing",duration_percentage:20,material_requirements:[],labor_skill:"unskilled",can_fail:!0,failure_chance:.1,failure_result:"downgrade",description:"Basic functionality test"}]}],default_method_id:"forge_basic_sidearm",state_variants:{pristine:{name_suffix:"",quality_modifier:1,price_modifier:1},functional:{name_suffix:"",quality_modifier:.9,price_modifier:.85},damaged:{name_suffix:" (Damaged)",quality_modifier:.3,price_modifier:.2},junk:{name_suffix:" (Junk Quality)",quality_modifier:.5,price_modifier:.6},scrap:{name_suffix:" (Scrap)",quality_modifier:.1,price_modifier:.05,description_override:"Non-functional weapon parts suitable only for salvage"}}}};function Rn(d){const s=qy[d];if(s)return s.manufacturing_methods?{...s,manufacturing_methods:s.manufacturing_methods.map(Ey)}:s}function Ry(d,s,c){const u=Rn(d);return u?u.materials_required.every(o=>(c[o.material_id]||0)>=o.quantity_per_unit*s):!1}function Cy(d,s,c){const u=c-d;return Math.min(100,u/s*100)}function Oy(d,s,c){return Cy(d,s,c)>=100}console.log("A. gameStore.ts starting to load");console.log("B. gameStore imports completed");console.log("C. Creating store...");function Dy(d,s,c){for(const u of d.steps)for(const o of u.material_requirements){const m=o.quantity*s;if((c[o.material_id]||0)<m)return!1}return!0}const lm=im()(d=>{console.log("D. Store initializer called");try{console.log("E. Creating garage...");const s=xc("garage_01");console.log("F. Garage created:",s)}catch(s){console.error("ERROR creating garage:",s)}return{gameTime:mm(),credits:500,resources:{"Labor Hours":40},materials:{steel:20,plastic:10,basic_electronics:5,low_tech_spares:15,damaged_basic_sidearm:3,machined_parts:2},facilities:(()=>{try{console.log("G. Creating facilities array...");const s=xc("garage_01");return console.log("H. Garage for facilities:",s),[s]}catch(s){return console.error("ERROR in facilities creation:",s),[]}})(),productionLines:[],completedProducts:{},research:{current:null,completed:[],available:[{id:"improved-metallurgy",name:"Improved Metallurgy",progress:0,cost:100,prerequisites:[]},{id:"basic-electronics",name:"Basic Electronics",progress:0,cost:150,prerequisites:[]},{id:"efficient-tooling",name:"Efficient Tooling",progress:0,cost:200,prerequisites:["improved-metallurgy"]}]},factories:[{id:"factory-1",name:"Orbital Line",efficiency:.87,status:"online",currentProduction:null,queue:[]}],contracts:[{id:"contract-1",faction:"Local Militia",requirements:["Basic Sidearms x10"],payment:250,deadline:5,status:"available",risk:"low"},{id:"contract-2",faction:"Scrap Traders",requirements:["Refurbished Parts x20"],payment:150,deadline:4,status:"available",risk:"low"}],activeTab:"research",setActiveTab:s=>d({activeTab:s}),updateGameTime:s=>d(c=>({gameTime:gm(c.gameTime,s)})),togglePause:()=>d(s=>({gameTime:{...s.gameTime,isPaused:!s.gameTime.isPaused}})),setGameSpeed:s=>d(c=>({gameTime:{...c.gameTime,gameSpeed:s}})),startResearch:s=>d(c=>({research:{...c.research,current:s}})),acceptContract:s=>d(c=>({contracts:c.contracts.map(u=>u.id===s?{...u,status:"active"}:u)})),updateResource:(s,c)=>d(u=>({resources:{...u.resources,[s]:(u.resources[s]||0)+c}})),updateFacility:(s,c)=>d(u=>({facilities:u.facilities.map(o=>o.id===s?{...o,...c}:o)})),updateMaterial:(s,c)=>d(u=>({materials:{...u.materials,[s]:(u.materials[s]||0)+c}})),startProduction:(s,c,u)=>d(o=>{const m=Rn(c);if(!m)return console.warn("Unknown product:",c),o;if(!Ry(c,u,o.materials))return console.warn("Not enough materials for production"),o;const h={id:`prod_${Date.now()}`,facilityId:s,productId:c,quantity:u,status:"active",startGameTime:o.gameTime.totalGameHours,durationHours:m.base_labor_hours},v={...o.materials};return m.materials_required.forEach(p=>{v[p.material_id]=(v[p.material_id]||0)-p.quantity_per_unit*u}),{...o,productionLines:[...o.productionLines,h],materials:v}}),startMultiStepProduction:(s,c,u,o)=>d(m=>{const g=Rn(c);if(!g||!g.manufacturing_methods)return console.warn("Product not found or has no manufacturing methods:",c),m;const h=g.manufacturing_methods.find(O=>O.id===u);if(!h)return console.warn("Manufacturing method not found:",u),m;if(!Dy(h,o,m.materials))return console.warn("Not enough materials for multi-step production"),m;const p={id:`multistep_${Date.now()}`,facilityId:s,productId:c,quantity:o,status:"active",startGameTime:m.gameTime.totalGameHours,durationHours:h.total_duration_hours,manufacturing_method:h,current_step_index:0,step_instances:[],input_product_state:h.input_state,expected_output_state:h.output_state,expected_quality_range:h.output_quality_range,input_materials_loaded:{}},S={...m.materials},A=h.steps[0];return A.material_requirements.forEach(O=>{O.consumed_at_start&&(S[O.material_id]=(S[O.material_id]||0)-O.quantity*o)}),p.step_instances&&(p.step_instances[0].status="active",p.step_instances[0].start_game_time=m.gameTime.totalGameHours,p.step_instances[0].materials_consumed=A.material_requirements.some(O=>O.consumed_at_start),p.step_instances[0].labor_assigned=!0),{...m,productionLines:[...m.productionLines,p],materials:S}}),updateProductionLine:(s,c)=>d(u=>({productionLines:u.productionLines.map(o=>o.id===s?{...o,...c}:o)})),processCompletedProduction:()=>d(s=>{const c=[],u=[];s.productionLines.forEach(m=>{Oy(m.startGameTime,m.durationHours,s.gameTime.totalGameHours)?c.push(m):u.push(m)});const o={...s.completedProducts};return c.forEach(m=>{var h;if(!m.productId)return;const g=((h=Rn(m.productId))==null?void 0:h.name)||m.productId;o[g]=(o[g]||0)+(m.quantity||1)}),{...s,productionLines:u,completedProducts:o}}),processMultiStepProduction:()=>d(s=>{const c=[],u=[];let o={...s.materials};s.productionLines.forEach(g=>{if(!g.manufacturing_method||!g.step_instances){c.push(g);return}const h=g.manufacturing_method,v=g.current_step_index||0,p=h.steps[v],S=g.step_instances[v];if(!p||!S){c.push(g);return}const A=h.total_duration_hours*(p.duration_percentage/100),O=S.start_game_time||g.startGameTime;if(s.gameTime.totalGameHours>=O+A&&S.status==="active"){let L={...g};if(p.can_fail&&!S.failure_rolled&&Math.random()<p.failure_chance){S.status="failed",S.failure_rolled=!0,L.status="failed",c.push(L);return}if(S.status="completed",S.failure_rolled=!0,p.material_requirements.forEach(B=>{B.consumed_at_start||(o[B.material_id]=(o[B.material_id]||0)-B.quantity*(g.quantity||1))}),v+1<h.steps.length){L.current_step_index=v+1;const B=h.steps[v+1],G=L.step_instances[v+1];G.status="active",G.start_game_time=s.gameTime.totalGameHours,G.labor_assigned=!0,B.material_requirements.forEach(k=>{k.consumed_at_start&&(o[k.material_id]=(o[k.material_id]||0)-k.quantity*(g.quantity||1),G.materials_consumed=!0)}),c.push(L)}else{L.status="completed";const B=h.output_quality_range;L.actual_output_quality=Math.floor((B[0]+B[1])/2),u.push(L)}}else c.push(g)});const m={...s.completedProducts};return u.forEach(g=>{if(!g.productId)return;const h=Rn(g.productId);if(!h)return;let v=h.name;if(g.expected_output_state&&h.state_variants){const p=h.state_variants[g.expected_output_state];p&&(v+=p.name_suffix)}m[v]=(m[v]||0)+(g.quantity||1)}),{...s,productionLines:c,materials:o,completedProducts:m}})}});console.log("I. Store created successfully");function jy(){const d=lm(c=>c.research),s=lm(c=>c.credits);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"terminal-header",children:[r.jsx("span",{className:"ascii-accent",children:""})," RESEARCH & DEVELOPMENT"]}),r.jsx("div",{className:"terminal-card border-yellow-600",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-yellow-400 font-mono text-lg mb-2",children:" NOT YET IMPLEMENTED"}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Research system is planned but not yet functional. Currently showing placeholder data."})]})}),d.current&&r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-teal-500",children:[r.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"ACTIVE PROJECT"}),r.jsx("div",{className:"text-white font-medium",children:d.current}),r.jsxs("div",{className:"mt-3",children:[r.jsx("div",{className:"progress-bar",children:r.jsx("div",{className:"progress-fill",style:{width:"40%"}})}),r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"40% Complete  3 turns remaining"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-mono text-gray-400 mb-4",children:"AVAILABLE PROJECTS"}),r.jsx("div",{className:"space-y-3",children:d.available.map(c=>{const u=d.completed.includes(c.id),o=d.current===c.id,m=c.prerequisites.every(p=>d.completed.includes(p))&&!u&&!o,g=s>=c.cost;let h="",v="";return u?(h="COMPLETE",v="status-good"):o?(h="IN PROGRESS",v="text-yellow-400"):m?g?(h="READY",v="status-good"):(h="INSUFFICIENT FUNDS",v="status-danger"):(h="LOCKED",v="text-gray-600"),r.jsxs("div",{className:`bg-gray-800 rounded-lg p-4 border transition-all duration-200 ${m&&g?"border-gray-600 hover:border-yellow-500 cursor-pointer":"border-gray-700"}`,onClick:()=>{},children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:`font-medium ${m&&g?"text-yellow-400":"text-gray-400"}`,children:c.name}),r.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Cost: ",r.jsxs("span",{className:"font-mono",children:[c.cost.toLocaleString(),"cr"]})]})]}),r.jsx("div",{className:`text-xs font-mono px-2 py-1 rounded ${v}`,children:h})]}),c.prerequisites.length>0&&r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Requires: ",c.prerequisites.join(", ")]})]},c.id)})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[r.jsx("div",{className:"text-gray-400",children:"Research Speed"}),r.jsx("div",{className:"font-mono text-teal-400",children:"10 points/turn"})]}),r.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[r.jsx("div",{className:"text-gray-400",children:"Available Funds"}),r.jsxs("div",{className:"font-mono status-good",children:[s.toLocaleString(),"cr"]})]})]})]})}function pm(d){return d.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}function Uy({equipmentId:d,isActive:s}){if(!s)return null;const u=(o=>{switch(o){case"workbench_basic":return{symbol:"",animation:"animate-bounce",color:"text-yellow-400"};case"lathe_manual":return{symbol:"",animation:"animate-spin",color:"text-blue-400"};case"mill_manual":return{symbol:"",animation:"animate-spin",color:"text-green-400"};case"hand_tools_basic":return{symbol:"",animation:"animate-pulse",color:"text-orange-400"};case"hand_tools_precision":return{symbol:"",animation:"animate-spin",color:"text-purple-400"};case"measuring_tools_basic":return{symbol:"",animation:"animate-pulse",color:"text-teal-400"};default:return{symbol:"",animation:"animate-pulse",color:"text-yellow-400"}}})(d);return r.jsx("div",{className:`absolute top-1 right-1 text-xs ${u.color} ${u.animation}`,children:u.symbol})}function Gy({equipment:d,definition:s,slot:c,currentTime:u}){var G;const[o,m]=pe.useState(0),[g,h]=pe.useState("N/A"),v=pe.useRef(null),p=Se(k=>k.gameTime),S=pe.useRef(p.gameSpeed),A=pe.useRef(null),O=k=>{const Z=Math.floor(k*10),$=10-Z;return"".repeat(Z)+"".repeat($)},C=pe.useCallback(()=>{if(!c.currentJob||!c.currentProgress){m(0),h("N/A");return}const k=Date.now(),Z=p.gameSpeed||1;if(p.isPaused){const Y=u-c.currentProgress.startTime,P=c.currentProgress.estimatedCompletion-c.currentProgress.startTime,ge=P>0?Y/P:0,x=Math.min(1,Math.max(0,ge));m(x);const Q=Math.max(0,P-Y),X=Math.floor(Q*60),V=Math.floor(Q*3600%60);h(`${X}m ${V}s`);return}S.current!==Z&&(S.current=Z,A.current=k);const I=6e4;let w=c.currentProgress.lastUpdateTime||k;A.current&&A.current>w&&(w=A.current);const qe=(k-w)*Z/I,Be=u+qe-c.currentProgress.startTime,tt=c.currentProgress.estimatedCompletion-c.currentProgress.startTime,Le=tt>0?Be/tt:0,xt=Math.min(1,Math.max(0,Le));m(xt);const at=Math.max(0,tt-Be),Te=Math.floor(at*60),D=Math.floor(at*3600%60);xt>=1?h("Completing..."):!isNaN(Te)&&!isNaN(D)?h(`${Te}m ${D}s`):h("Calculating...")},[c,u,p]);pe.useEffect(()=>{if(!c.currentJob){m(0),h("N/A");return}const k=()=>{C(),v.current=requestAnimationFrame(k)};return v.current=requestAnimationFrame(k),()=>{v.current&&cancelAnimationFrame(v.current)}},[c.currentJob,C]);const L=()=>g,B=()=>o;return r.jsxs("div",{className:"border border-teal-400 bg-gray-900 p-2 relative",children:[r.jsx(Uy,{equipmentId:d.equipmentId,isActive:!!c.currentJob}),r.jsxs("div",{className:"mb-2",children:[r.jsx("h3",{className:"text-teal-400 font-bold text-sm",children:s.name}),r.jsxs("span",{className:"text-xs text-gray-500",children:["Condition: ",d.condition,"%"]})]}),r.jsx("div",{className:"h-16 flex flex-col justify-between",children:c.currentJob?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-xs text-white mb-1",children:["Making: ",pm(c.currentJob.productId)]}),r.jsx("div",{className:"text-xs text-gray-300 mb-1",children:(G=c.currentJob.method.operations[c.currentJob.currentOperationIndex])==null?void 0:G.name}),r.jsxs("div",{children:[r.jsx("div",{className:"text-teal-400 text-xs",children:O(B())}),r.jsxs("div",{className:"text-gray-400 text-xs",children:[Math.floor(B()*100),"% - ",L()]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"IDLE"}),r.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Waiting for work"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-700 text-xs",children:""}),r.jsx("div",{className:"text-gray-600 text-xs",children:"Ready"})]})]})})]})}function Ly({job:d}){const[s,c]=pe.useState(!1);if(!d.jobInventory)return r.jsx("div",{className:"text-xs text-gray-500",children:"No job inventory"});let u=0;const o=[];for(const m of d.jobInventory.groups.values())for(const g of m.slots)for(const h of g.stack.instances){u+=h.quantity;const v=jc[h.baseItemId];v&&o.push({baseItemId:h.baseItemId,name:v.name,quantity:h.quantity,quality:h.quality,tags:h.tags})}return u===0?r.jsx("div",{className:"text-xs text-gray-500",children:"Job inventory empty"}):r.jsxs("div",{className:"mt-2",children:[r.jsxs("div",{className:"text-xs text-blue-300 cursor-pointer hover:text-blue-200",onClick:()=>c(!s),children:[s?"":""," Job Inventory (",u," items)"]}),s&&r.jsx("div",{className:"ml-3 mt-1 space-y-1",children:o.map((m,g)=>r.jsxs("div",{className:"text-xs text-gray-400",children:[" ",m.quantity,"x ",Sc({baseItemId:m.baseItemId,tags:m.tags,quality:m.quality,quantity:m.quantity}),r.jsxs("span",{className:"text-gray-600 ml-1",children:["(",Nc(m.quality),")"]})]},g))})]})}function Hy({job:d}){const[s,c]=pe.useState(!1),u=d.method.operations.slice(d.currentOperationIndex+1);return u.length===0?null:r.jsxs("div",{className:"mt-2",children:[r.jsxs("div",{className:"text-xs text-green-300 cursor-pointer hover:text-green-200",onClick:()=>c(!s),children:[s?"":""," Upcoming Operations (",u.length,")"]}),s&&r.jsx("div",{className:"ml-3 mt-1 space-y-2",children:u.map((o,m)=>r.jsxs("div",{className:"text-xs border-l-2 border-gray-600 pl-2",children:[r.jsxs("div",{className:"text-yellow-300 font-semibold",children:[d.currentOperationIndex+m+2,". ",o.name]}),o.materialConsumption&&o.materialConsumption.length>0&&r.jsxs("div",{className:"text-red-300 text-xs",children:["Consumes: ",o.materialConsumption.map(g=>`${g.count} ${g.itemId.replace(/-/g," ")}${g.tags?` [${g.tags.join(", ")}]`:""}`).join(", ")]}),o.materialProduction&&o.materialProduction.length>0&&r.jsxs("div",{className:"text-green-300 text-xs",children:["Produces: ",o.materialProduction.map(g=>`${g.count} ${g.itemId.replace(/-/g," ")}${g.tags?` [${g.tags.join(", ")}]`:""}`).join(", ")]}),o.material_requirements&&o.material_requirements.length>0&&r.jsxs("div",{className:"text-gray-400 text-xs",children:["Materials: ",o.material_requirements.map(g=>`${g.quantity} ${g.material_id}${g.required_tags?` [${g.required_tags.join(", ")}]`:""}`).join(", ")]}),!o.materialConsumption&&!o.materialProduction&&!o.material_requirements&&r.jsx("div",{className:"text-gray-500 text-xs",children:"Processing step"})]},o.id))})]})}function Iy({workspace:d}){const[s,c]=pe.useState(null),[u,o]=pe.useState(new Set),m=Se(I=>I.cancelMachineJob),g=Se(I=>I.gameTime),h=I=>{var Be;if(I.state!=="in_progress"||!I.currentMachineId)return null;const w=d.machines.get(I.currentMachineId);if(!w||!w.currentProgress)return null;const ie=w.currentProgress,De=g.totalGameHours-ie.startTime,qe=ie.estimatedCompletion-ie.startTime,je=qe>0?Math.min(100,Math.max(0,De/qe*100)):0;return{currentOperation:((Be=I.method.operations[I.currentOperationIndex])==null?void 0:Be.name)||"Unknown",percentage:Math.round(je)}},v=Array.from(d.machines.values()).map(I=>I.currentJob).filter(I=>I!=null),p=d.jobQueue||[],S=g.totalGameHours,A=(d.completedJobs||[]).filter(I=>{if(!I||!I.completedAt)return!1;const w=5/3600*g.gameSpeed;return S-I.completedAt<=w}).slice(-5),C=[...v,...p,...A].filter(I=>I!=null).filter(I=>!(!I||!I.id)),L=(I,w)=>{m(w,I),c(null)},B=I=>{o(w=>{const ie=new Set(w);return ie.has(I)?ie.delete(I):ie.add(I),ie})},G=I=>{switch(I.state){case"queued":return{statusText:"QUEUED",statusColor:"text-blue-400",borderColor:"border-blue-600",bgColor:"bg-blue-900"};case"in_progress":return{statusText:"IN PROGRESS",statusColor:"text-yellow-400",borderColor:"border-yellow-600",bgColor:"bg-yellow-900"};case"completed":return{statusText:"COMPLETED",statusColor:"text-green-400",borderColor:"border-green-600",bgColor:"bg-green-900"};default:return{statusText:"UNKNOWN",statusColor:"text-gray-400",borderColor:"border-gray-600",bgColor:"bg-gray-900"}}},k=C.length,Z=v.length,$=p.length;return r.jsxs("div",{className:"border border-gray-600 bg-gray-900 p-3 mb-4",children:[r.jsxs("h3",{className:"text-gray-400 font-bold mb-3",children:["FACILITY JOBS (",k,") - Active: ",Z,", Queued: ",$]}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:C.length===0?r.jsx("div",{className:"text-gray-500",children:"No jobs"}):r.jsx("div",{className:"space-y-3",children:C.map(I=>{var qe;if(!I||!I.id)return null;const w=G(I),ie=u.has(I.id),De=I.state==="queued"||I.state==="in_progress";return r.jsxs("div",{className:`border-l-4 ${w.borderColor} pl-3 py-2 ${w.bgColor} bg-opacity-10`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-1",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>B(I.id),className:"text-xs text-gray-400 hover:text-gray-200",children:ie?"":""}),r.jsxs("div",{className:"text-sm text-white",children:[pm(I.productId)," (",I.method.name,")"]}),r.jsx("span",{className:`text-xs font-bold ${w.statusColor}`,children:w.statusText}),I.rushOrder&&r.jsx("span",{className:"text-red-400 font-bold text-xs",children:"RUSH"})]}),I.state==="queued"&&r.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Next: ",(qe=I.method.operations[I.currentOperationIndex])==null?void 0:qe.name]}),I.state==="in_progress"&&(()=>{var Be;const je=h(I);return je?r.jsxs("div",{className:"text-xs text-yellow-300 mt-1",children:["Current: ",je.currentOperation," (",je.percentage,"%)"]}):r.jsxs("div",{className:"text-xs text-yellow-300 mt-1",children:["Current: ",((Be=I.method.operations[I.currentOperationIndex])==null?void 0:Be.name)||"Processing..."]})})()]}),De&&r.jsx("button",{onClick:()=>c(s===I.id?null:I.id),className:"text-xs text-red-400 hover:text-red-300 px-1",children:""})]}),s===I.id&&De&&r.jsxs("div",{className:"mb-2 p-2 bg-gray-800 border border-red-600 text-xs",children:[r.jsx("div",{className:"text-red-400 font-semibold mb-1",children:"Cancel Job?"}),r.jsxs("div",{className:"text-gray-300 mb-2",children:["Progress: ",I.completedOperations.length,"/",I.method.operations.length," operations"]}),r.jsx("div",{className:"text-gray-400 mb-2",children:I.jobInventory?r.jsx("div",{children:"All job inventory will be returned to facility"}):r.jsx("div",{children:"Created components will be recovered"})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>L(I.id,I.facilityId),className:"bg-red-700 hover:bg-red-600 text-red-100 px-2 py-1 text-xs",children:"Cancel Job"}),r.jsx("button",{onClick:()=>c(null),className:"bg-gray-700 hover:bg-gray-600 text-gray-300 px-2 py-1 text-xs",children:"Keep Job"})]})]}),ie&&r.jsxs("div",{className:"mt-2 ml-4 space-y-2",children:[r.jsx("div",{className:"flex flex-wrap gap-1 text-xs",children:I.method.operations.map((je,Be)=>{const tt=I.completedOperations.includes(je.id),Le=Be===I.currentOperationIndex,xt=Be>I.currentOperationIndex;let at="text-gray-600",Te="";return tt?(at="text-green-400",Te=""):Le?(at="text-yellow-400",Te=""):xt&&(at="text-gray-500",Te=""),r.jsxs("div",{className:`${at} flex items-center`,children:[r.jsx("span",{children:Te}),r.jsx("span",{className:"ml-1",children:je.name})]},je.id)})}),I.state==="in_progress"&&r.jsx(Ly,{job:I}),I.state==="in_progress"&&r.jsx(Hy,{job:I})]})]},I.id)})})})]})}function zy({facility:d}){const[s,c]=pe.useState(""),[u,o]=pe.useState(null),[m,g]=pe.useState(null),h=Se(A=>A.startMachineJob),v=(A,O,C,L)=>{g(C),h(A,O,C,L),setTimeout(()=>g(null),300)},p=[{id:"basic_sidearm",name:"Basic Sidearm",methods:dm},{id:"tactical_knife",name:"Tactical Knife",methods:fm}],S=p.find(A=>A.id===s);return r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm text-gray-400 mb-2",children:"START NEW JOB"}),r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Select Product:"}),r.jsxs("select",{value:s,onChange:A=>c(A.target.value),className:"w-full bg-gray-800 border border-gray-600 text-gray-300 text-xs p-2 focus:border-teal-400 focus:outline-none",children:[r.jsx("option",{value:"",children:"-- Choose Product --"}),p.map(A=>r.jsx("option",{value:A.id,children:A.name},A.id))]})]}),S&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Select Method:"}),r.jsx("div",{className:"space-y-2",children:S.methods.map(A=>{const O=new Map;A.operations.forEach(G=>{G.materialConsumption&&G.materialConsumption.forEach(k=>{var w;const Z=((w=k.tags)==null?void 0:w.filter(ie=>["rough","precision","assembly","casing"].includes(ie)).sort())||[],$=`${k.itemId}-${Z.join(",")}`,I=O.get($)||{consumed:0,produced:0};O.set($,{consumed:I.consumed+k.count,produced:I.produced,tags:k.tags,maxQuality:k.maxQuality})}),G.materialProduction&&G.materialProduction.forEach(k=>{var w;const Z=((w=k.tags)==null?void 0:w.filter(ie=>["rough","precision","assembly","casing"].includes(ie)).sort())||[],$=`${k.itemId}-${Z.join(",")}`,I=O.get($)||{consumed:0,produced:0};O.set($,{consumed:I.consumed,produced:I.produced+k.count,tags:k.tags,maxQuality:I.maxQuality})}),G.material_requirements&&G.material_requirements.forEach(k=>{var I;const Z=`${k.material_id}-${((I=k.required_tags)==null?void 0:I.join(","))||"any"}`,$=O.get(Z)||{consumed:0,produced:0};O.set(Z,{consumed:$.consumed+k.quantity,produced:$.produced,tags:k.required_tags,maxQuality:k.max_quality})})});const C=[];for(const[G,k]of O){const Z=k.consumed-k.produced;if(Z>0){const $=G.split("-")[0];C.push({material_id:$,quantity:Z,required_tags:k.tags,max_quality:k.maxQuality})}}const L=[],B=C.every(G=>{const k=G.material_id,Z=G.quantity,$=G.required_tags,I=G.max_quality;let w;d.inventory?$&&$.length>0?w=oe.getAvailableQuantityWithTags(d.inventory,k,$,I):w=oe.getAvailableQuantity(d.inventory,k):w=d.current_storage[k]||0;const ie=w>=Z;if(!ie){const De=$&&$.length>0?` [${$.join(", ")}]`:"",qe=I!==void 0?` (${I}%)`:"";L.push(`${Z} ${k}${De}${qe} (have: ${w})`)}return ie});return r.jsx("div",{className:"border border-gray-600 bg-gray-900",children:r.jsxs("div",{className:"p-2",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-bold text-teal-400 text-xs",children:A.name}),r.jsx("div",{className:"text-gray-400 text-xs",children:A.description}),r.jsxs("div",{className:"text-gray-500 text-xs mt-1",children:[A.operations.length," operations, ~",A.operations.reduce((G,k)=>G+k.baseDurationMinutes,0)," min"]})]}),r.jsxs("div",{className:"flex gap-1 ml-2",children:[r.jsx("button",{onClick:()=>o(u===A.id?null:A.id),className:"bg-gray-700 hover:bg-gray-600 text-gray-300 px-2 py-1 text-xs border border-gray-600",children:"Details"}),r.jsx("button",{onClick:()=>v(d.id,s,A.id,1),disabled:!B,title:B?"":`Missing materials:
${L.join(`
`)}`,className:`px-3 py-1 text-xs border transition-colors ${B?m===A.id?"bg-green-700 border-green-500 text-green-100":"bg-teal-800 hover:bg-teal-700 text-teal-100 border-teal-600":"bg-gray-700 border-gray-600 text-gray-500 cursor-not-allowed"}`,children:B?m===A.id?"Started!":"Start":"No Materials"})]})]}),u===A.id&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700",children:r.jsxs("div",{className:"text-xs",children:[A.id.includes("component")?r.jsxs("div",{className:"mb-3",children:[r.jsx("span",{className:"text-gray-500",children:"Component Flow:"}),r.jsx("div",{className:"ml-2 space-y-2 mt-2",children:A.operations.map((G,k)=>r.jsxs("div",{className:"text-xs",children:[r.jsxs("div",{className:"text-yellow-400 font-semibold",children:[k+1,". ",G.name," (",G.baseDurationMinutes,"min)"]}),r.jsxs("div",{className:"ml-3 text-gray-400",children:[G.materialConsumption&&G.materialConsumption.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-red-300",children:"Consumes:"}),G.materialConsumption.map(Z=>r.jsxs("span",{className:"ml-1",children:[Z.count," ",Z.itemId.replace(/-/g," "),Z.tags&&Z.tags.length>0&&r.jsxs("span",{className:"text-blue-300",children:[" [",Z.tags.join(", "),"]"]})]},Z.itemId))]}),G.materialProduction&&G.materialProduction.length>0&&r.jsxs("div",{children:[r.jsx("span",{className:"text-green-300",children:"Produces:"}),G.materialProduction.map(Z=>r.jsxs("span",{className:"ml-1",children:[Z.count," ",Z.itemId.replace(/-/g," "),Z.tags&&Z.tags.length>0&&r.jsxs("span",{className:"text-blue-300",children:[" [",Z.tags.join(", "),"]"]})]},Z.itemId))]}),!G.materialConsumption&&!G.materialProduction&&r.jsx("div",{className:"text-gray-500",children:"Preparation step"})]})]},G.id))})]}):r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"text-gray-500",children:"Materials:"}),r.jsxs("div",{className:"ml-2 space-y-1",children:[A.operations.flatMap(G=>G.material_requirements||[]).map((G,k)=>{let Z;d.inventory?G.required_tags&&G.required_tags.length>0?Z=oe.getAvailableQuantityWithTags(d.inventory,G.material_id,G.required_tags,G.max_quality):Z=oe.getAvailableQuantity(d.inventory,G.material_id):Z=d.current_storage[G.material_id]||0;const $=Z>=G.quantity,I=G.required_tags&&G.required_tags.length>0?` [${G.required_tags.join(", ")}]`:"",w=G.max_quality!==void 0?` (${G.max_quality}%)`:"";return r.jsxs("div",{className:$?"text-gray-400":"text-red-400",children:[" ",G.material_id,I,w,": ",G.quantity," ",G.consumed_at_start?"(consumed at start)":"(consumed at end)",r.jsxs("span",{className:"ml-2 text-xs",children:["(Available: ",Z,")"]})]},k)}),A.operations.every(G=>!G.material_requirements||G.material_requirements.length===0)&&r.jsx("div",{className:"text-gray-400",children:"No materials required"})]})]}),!A.id.includes("component")&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Operations:"}),r.jsx("div",{className:"ml-2 space-y-1",children:A.operations.map((G,k)=>r.jsxs("div",{className:"text-gray-400",children:[k+1,". ",G.name," (",G.baseDurationMinutes,"min) - ",G.description]},G.id))})]})]})})]})},A.id)})})]})]})})}function Qy(){const d=Se(c=>c.jobCompletionNotifications),s=Se(c=>c.dismissNotification);return pe.useEffect(()=>{const c=d.map(u=>setTimeout(()=>{s(u.id)},5e3));return()=>{c.forEach(u=>clearTimeout(u))}},[d,s]),d.length===0?null:r.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:d.map(c=>r.jsx("div",{className:"bg-teal-800 border border-teal-400 text-teal-100 p-3 rounded shadow-lg max-w-sm animate-bounce",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-bold text-sm",children:"Job Completed!"}),r.jsxs("div",{className:"text-xs",children:[c.quantity,"x ",c.productId]}),r.jsxs("div",{className:"text-xs text-teal-300",children:["Method: ",c.methodName]})]}),r.jsx("button",{onClick:()=>s(c.id),className:"text-teal-300 hover:text-teal-100 ml-2",children:""})]})},c.id))})}function By(){const{facilities:d,selectedFacilityId:s,equipmentDatabase:c,machineWorkspace:u,gameTime:o}=Se(),m=d.find(h=>h.id===s);if(!m)return r.jsx("div",{className:"text-gray-500",children:"No facility selected"});if(!u)return r.jsx("div",{className:"text-gray-500",children:"No workspace found"});const g=[];return u.machines.forEach(h=>{h.currentJob&&g.push(h.currentJob)}),g.push(...u.jobQueue),g.push(...u.completedJobs.slice(-5)),r.jsxs("div",{className:"font-mono text-sm",children:[r.jsx(Qy,{}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("h2",{className:"text-xl text-teal-400 mb-2",children:[m.name.toUpperCase()," - EQUIPMENT STATUS"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Time: ",$i(o)]})]}),r.jsx("div",{className:"terminal-card border-green-600 mb-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-green-400 font-mono text-lg mb-2",children:" MANUFACTURING V1 COMPLETE"}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Machine workspace system with facility-wide job queues and real-time job notifications fully functional."})]})}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:m.equipment.map(h=>{const v=c.get(h.equipmentId),p=u.machines.get(h.id);return!v||!p?null:r.jsx(Gy,{equipment:h,definition:v,slot:p,currentTime:o.totalGameHours},h.id)})}),r.jsx(zy,{facility:m}),r.jsx(Iy,{workspace:u,allJobs:g}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700 text-xs text-gray-500",children:[r.jsxs("div",{children:["Total Machines: ",u.machines.size]}),r.jsxs("div",{children:["Active Jobs: ",Array.from(u.machines.values()).filter(h=>h.currentJob).length]}),r.jsxs("div",{children:["Queued Jobs: ",u.jobQueue.length]}),r.jsxs("div",{children:["Completed Today: ",u.completedJobs.length]})]})]})}function ky(d){return d.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}function wy(d){switch(d){case"military":return"text-red-400";case"corporate":return"text-blue-400";case"government":return"text-purple-400";case"rebel":return"text-orange-400";case"civilian":return"text-green-400";default:return"text-gray-400"}}function Yy(d){switch(d){case"low":return"Any Quality";case"standard":return"Standard+";case"high":return"High Quality";case"military":return"Military Spec";default:return"Unknown"}}function nm({contract:d,customer:s,onAccept:c,onFulfill:u,currentTime:o,canAccept:m}){var $,I;const[g,h]=pe.useState(!1),[v,p]=pe.useState(!1),S=()=>{h(!0),c(d.id),setTimeout(()=>h(!1),500)},A=()=>{u&&(p(!0),u(d.id),setTimeout(()=>p(!1),500))},O=d.status==="available",C=d.status==="accepted"||d.status==="in_progress",L=d.status==="completed",B=d.status==="failed";let G=0,k=!1;if(C&&d.acceptedAt){const w=d.acceptedAt+d.deadlineHours;G=Math.max(0,w-o),k=G===0}let Z="border-gray-600";return O&&(Z="border-yellow-600"),C&&!k&&(Z="border-green-600"),C&&k&&(Z="border-red-600"),L&&(Z="border-blue-600"),B&&(Z="border-red-600"),r.jsxs("div",{className:`terminal-card ${Z}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium",children:d.title}),r.jsx("p",{className:"text-gray-400 text-sm",children:(s==null?void 0:s.name)||"Unknown Customer"}),r.jsxs("p",{className:"text-gray-500 text-xs",children:[r.jsx("span",{className:wy((s==null?void 0:s.type)||""),children:(($=s==null?void 0:s.type)==null?void 0:$.toUpperCase())||"UNKNOWN"}),"  ",Yy((s==null?void 0:s.qualityStandards)||"")]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-teal-400 font-mono font-bold",children:[d.totalPayment.toLocaleString(),"cr"]}),d.rushOrder&&r.jsx("div",{className:"text-red-400 text-xs font-bold",children:"RUSH ORDER"}),s&&r.jsxs("div",{className:"text-gray-500 text-xs",children:["Rep: ",s.reputation,"%  Pay: ",s.paymentReliability,"%"]})]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"text-gray-500 text-xs mb-1",children:"Requirements:"}),d.requirements.map((w,ie)=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"text-white font-mono",children:[w.quantity,"x"]}),r.jsx("span",{className:"text-gray-300 ml-2",children:ky(w.productId)}),r.jsxs("span",{className:"text-gray-500 ml-2",children:["(min ",w.minimumQuality,"% quality)"]})]},ie))]}),r.jsx("div",{className:"text-xs text-gray-500 mb-3 italic",children:d.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm mb-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Deadline:"}),r.jsx("div",{className:"font-mono text-white",children:C?`${Math.ceil(G)}h remaining`:`${d.deadlineHours}h to complete`}),d.allowPartialFulfillment&&r.jsxs("div",{className:"text-gray-500 text-xs",children:["Min ",d.minimumFulfillmentPercent,"% fulfillment"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Payment:"}),r.jsxs("div",{className:"font-mono text-white",children:[(d.totalPayment/((I=d.requirements[0])==null?void 0:I.quantity)||0).toFixed(0),"cr/unit"]}),d.bonusRate>0&&r.jsxs("div",{className:"text-green-400 text-xs",children:["+",(d.bonusRate*100).toFixed(0),"% early bonus"]})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-xs",children:[O&&r.jsx("span",{className:"text-yellow-400",children:"Available to accept"}),C&&!k&&r.jsx("span",{className:"text-green-400",children:"In progress"}),C&&k&&r.jsx("span",{className:"text-red-400",children:"OVERDUE"}),L&&r.jsx("span",{className:"text-blue-400",children:"Completed"}),B&&r.jsx("span",{className:"text-red-400",children:"Failed"})]}),r.jsxs("div",{className:"flex space-x-2",children:[O&&r.jsx("button",{onClick:S,disabled:!m||g,className:`text-xs px-3 py-1 border transition-colors ${g?"bg-green-700 border-green-500 text-green-100":m?"bg-yellow-800 hover:bg-yellow-700 text-yellow-100 border-yellow-600":"bg-gray-800 text-gray-500 border-gray-600 cursor-not-allowed"}`,children:g?"Accepted!":"Accept Contract"}),C&&u&&r.jsx("button",{onClick:A,disabled:v,className:`text-xs px-3 py-1 border transition-colors ${v?"bg-blue-700 border-blue-500 text-blue-100":"bg-teal-800 hover:bg-teal-700 text-teal-100 border-teal-600"}`,children:v?"Fulfilling...":"Fulfill Contract"})]})]})]})}function Vy(){const{contractState:d,contractGenerator:s,gameTime:c,selectedFacilityId:u,acceptCustomerContract:o,fulfillContract:m,refreshContracts:g}=Se(),[h]=pe.useState([{id:"contract-1",customerId:"customer-1",title:"Rebel Coalition Weapon Order",description:"Resistance forces require reliable equipment. Any functional condition acceptable.",requirements:[{productId:"basic_sidearm",quantity:25,minimumQuality:30,maxAcceptableDefects:2}],totalPayment:3750,deadlineHours:168,rushOrder:!1,allowPartialFulfillment:!0,minimumFulfillmentPercent:80,penaltyRate:.05,bonusRate:.02,status:"available"},{id:"contract-2",customerId:"customer-2",title:"Corporate Security Premium Contract",description:"Official corporate procurement contract. High quality standards required.",requirements:[{productId:"basic_sidearm",quantity:50,minimumQuality:80,maxAcceptableDefects:1}],totalPayment:11250,deadlineHours:336,rushOrder:!1,allowPartialFulfillment:!0,minimumFulfillmentPercent:90,penaltyRate:.03,bonusRate:.05,status:"available"},{id:"contract-3",customerId:"customer-3",title:"Emergency Military Procurement",description:"Urgent military procurement for active operations. Military specification quality mandatory.",requirements:[{productId:"tactical_knife",quantity:15,minimumQuality:90,maxAcceptableDefects:0}],totalPayment:1950,deadlineHours:72,rushOrder:!0,allowPartialFulfillment:!1,minimumFulfillmentPercent:100,penaltyRate:.1,bonusRate:.15,status:"available"}]),[v]=pe.useState([{id:"customer-1",name:"Free Coalition",type:"rebel",reputation:65,paymentReliability:75,qualityStandards:"low",preferredProducts:["basic_sidearm","tactical_knife"]},{id:"customer-2",name:"Titan Corporation",type:"corporate",reputation:85,paymentReliability:95,qualityStandards:"high",preferredProducts:["basic_sidearm"]},{id:"customer-3",name:"Vega Military Command",type:"military",reputation:95,paymentReliability:100,qualityStandards:"military",preferredProducts:["basic_sidearm","tactical_knife"]}]),p=C=>{o(C)},S=C=>{u&&m(C,u)},A=d.availableCustomerContracts,O=d.activeCustomerContracts;return r.jsxs("div",{className:"space-y-6 font-mono text-sm",children:[r.jsxs("div",{className:"terminal-header",children:[r.jsx("span",{className:"ascii-accent",children:""})," CUSTOMER CONTRACTS"]}),r.jsx("div",{className:"terminal-card border-green-600",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-green-400 font-mono text-lg mb-2",children:" CONTRACTS V1 ACTIVE"}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Customer contract system online. Accept contracts and fulfill with manufactured products."})]})}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[r.jsx("div",{className:"text-gray-400 text-xs",children:"Available"}),r.jsx("div",{className:"font-mono text-yellow-400 text-lg",children:A.length})]}),r.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[r.jsx("div",{className:"text-gray-400 text-xs",children:"Active"}),r.jsx("div",{className:"font-mono text-green-400 text-lg",children:O.length})]}),r.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[r.jsx("div",{className:"text-gray-400 text-xs",children:"Completed Today"}),r.jsx("div",{className:"font-mono text-blue-400 text-lg",children:d.completedContracts.length})]})]}),O.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 font-bold mb-3",children:"ACTIVE CONTRACTS"}),r.jsx("div",{className:"space-y-3",children:O.map(C=>{const L=s.getCustomer(C.customerId);return r.jsx(nm,{contract:C,customer:L,onAccept:p,onFulfill:S,currentTime:c.totalGameHours,canAccept:!0},C.id)})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h3",{className:"text-gray-400 font-bold",children:"AVAILABLE CONTRACTS"}),r.jsx("button",{onClick:g,className:"text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 px-2 py-1 border border-gray-600",children:"Refresh Contracts"})]}),A.length===0?r.jsx("div",{className:"terminal-card border-gray-600",children:r.jsx("div",{className:"text-center text-gray-500",children:"No contracts currently available. Check back later or refresh."})}):r.jsx("div",{className:"space-y-3",children:A.map(C=>{const L=s.getCustomer(C.customerId);return r.jsx(nm,{contract:C,customer:L,onAccept:p,currentTime:c.totalGameHours,canAccept:!0},C.id)})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("button",{onClick:g,className:"btn-secondary",children:"Scout New Customers"}),r.jsx("button",{className:"btn-secondary opacity-50 cursor-not-allowed",disabled:!0,children:"Negotiate Terms"})]}),r.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Contract Time: ",$i(c)]})]})}function Dn(d){return d.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}function vm(d){switch(d){case"salvage":return"text-orange-400";case"standard":return"text-teal-400";case"premium":return"text-blue-400";case"military":return"text-purple-400";default:return"text-gray-400"}}function Xy({lot:d,supplier:s,onPurchase:c,canAfford:u,currentTime:o}){const[m,g]=pe.useState(!1),h=()=>{g(!0),c(d.id),setTimeout(()=>g(!1),500)},v=d.expiresAt-o,p=v<12;return r.jsxs("div",{className:`terminal-card border-gray-600 ${p?"border-yellow-600":""}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-teal-400 font-medium",children:Dn(d.materialId)}),r.jsx("p",{className:"text-gray-400 text-sm",children:(s==null?void 0:s.name)||"Unknown Supplier"}),r.jsxs("p",{className:"text-gray-500 text-xs",children:[r.jsx("span",{className:vm(d.qualityGrade),children:d.qualityGrade.toUpperCase()}),"  ",d.quantity," units available"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-gray-400 text-xs",children:s&&r.jsxs("div",{children:["Rep: ",s.reputation,"%  Rel: ",s.reliability,"%"]})}),p&&r.jsx("div",{className:"text-yellow-400 text-xs font-bold",children:"EXPIRES SOON"})]})]}),d.description&&r.jsx("p",{className:"text-gray-500 text-xs mb-3 italic",children:d.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm mb-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Price:"}),r.jsxs("div",{className:"font-mono text-white",children:[d.pricePerUnit,"cr/unit"]}),r.jsxs("div",{className:"font-mono text-teal-400 font-bold",children:[d.totalPrice,"cr total"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Delivery:"}),r.jsxs("div",{className:"font-mono text-white",children:[Math.ceil(d.deliveryTimeHours)," hours"]}),r.jsx("div",{className:"text-gray-500 text-xs",children:"Est. arrival"})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:["Expires in ",Math.max(0,Math.ceil(v)),"h"]}),r.jsx("button",{onClick:h,disabled:!u||m,className:`text-xs px-3 py-1 border transition-colors ${m?"bg-green-700 border-green-500 text-green-100":u?"bg-teal-800 hover:bg-teal-700 text-teal-100 border-teal-600":"bg-gray-800 text-gray-500 border-gray-600 cursor-not-allowed"}`,children:m?"Ordered!":u?"Purchase":"Insufficient Credits"})]})]})}function Zy({order:d,supplier:s,currentTime:c}){const u=c>=d.deliveryAt,o=Math.max(0,d.deliveryAt-c);return r.jsxs("div",{className:`terminal-card ${u?"border-green-600":"border-blue-600"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium",children:Dn(d.materialId)}),r.jsx("p",{className:"text-gray-400 text-sm",children:(s==null?void 0:s.name)||"Unknown Supplier"})]}),r.jsx("div",{className:"text-right",children:r.jsx("div",{className:`text-xs px-2 py-1 rounded ${u?"bg-green-800 text-green-200":"bg-blue-800 text-blue-200"}`,children:u?"DELIVERED":"IN TRANSIT"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Quantity:"}),r.jsxs("div",{className:"font-mono text-white",children:[d.quantity," units"]})]}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-400",children:[u?"Delivered:":"ETA:",":"]}),r.jsx("div",{className:"font-mono text-white",children:u?"Complete":`${Math.ceil(o)}h`})]})]}),r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Total paid: ",d.totalPaid,"cr"]})]})}function Jy({listing:d,onRemove:s,currentTime:c}){const[u,o]=pe.useState(!1),m=()=>{o(!0),s(d.id),setTimeout(()=>o(!1),500)},g=d.soldQuantity/d.quantity*100,h=d.quantity-d.soldQuantity,v=d.expiresAt-c,p=v<=0,S=()=>d.status==="sold"?"border-green-600":d.status==="partially_sold"?"border-blue-600":d.status==="expired"?"border-red-600":p?"border-orange-600":"border-teal-600",A=()=>d.status==="sold"?"SOLD OUT":d.status==="expired"||p?"EXPIRED":d.soldQuantity>0?"SELLING":"LISTED";return r.jsxs("div",{className:`terminal-card ${S()}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-teal-400 font-medium",children:Dn(d.productId)}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Your Listing"}),r.jsxs("p",{className:"text-gray-500 text-xs",children:[r.jsx("span",{className:vm(d.qualityGrade),children:d.qualityGrade.toUpperCase()}),"  ","Listed ",Math.floor(c-d.listedAt),"h ago"]})]}),r.jsx("div",{className:"text-right",children:r.jsx("div",{className:`text-xs px-2 py-1 rounded ${d.status==="sold"?"bg-green-800 text-green-200":d.status==="partially_sold"?"bg-blue-800 text-blue-200":"bg-teal-800 text-teal-200"}`,children:A()})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm mb-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Progress:"}),r.jsxs("div",{className:"font-mono text-white",children:[d.soldQuantity,"/",d.quantity," sold"]}),r.jsxs("div",{className:"text-gray-500 text-xs",children:[g.toFixed(0),"% complete"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Revenue:"}),r.jsxs("div",{className:"font-mono text-white",children:[d.pricePerUnit,"cr/unit"]}),r.jsxs("div",{className:"font-mono text-teal-400",children:[(d.soldQuantity*d.pricePerUnit).toLocaleString(),"cr earned"]})]})]}),d.soldQuantity>0&&r.jsx("div",{className:"mb-3",children:r.jsxs("div",{className:"text-teal-400 text-xs",children:["".repeat(Math.floor(g/10)),"".repeat(10-Math.floor(g/10))]})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"text-xs text-gray-500",children:p?"Expired":`Expires in ${Math.max(0,Math.ceil(v))}h`}),(d.status==="active"||d.status==="partially_sold")&&h>0&&r.jsx("button",{onClick:m,disabled:u,className:`text-xs px-3 py-1 border transition-colors ${u?"bg-red-700 border-red-500 text-red-100":"bg-red-800 hover:bg-red-700 text-red-100 border-red-600"}`,children:u?"Removing...":"Remove Listing"})]})]})}function Ky({facility:d}){const[s,c]=pe.useState(""),[u,o]=pe.useState(1),[m,g]=pe.useState(100),[h,v]=pe.useState(!1),{listProductForSale:p}=Se(),S=d.inventory?Array.from(d.inventory.groups.values()).flatMap(C=>C.slots).filter(C=>["basic_sidearm","tactical_knife"].includes(C.baseItemId)).filter(C=>C.available>0).map(C=>{const L=C.stack.uniqueTags,B=C.stack.averageQuality,G=B>=90?"pristine":B>=75?"functional":B>=50?"standard":"junk",k=L.join(", ");return{key:`${C.baseItemId}_${G}_${L.join("_")}`,productId:C.baseItemId,quality:G,tags:k,quantity:C.available,averageQuality:B}}):Object.keys(d.current_storage).filter(C=>C.includes("_")&&d.current_storage[C]>0).map(C=>{const[L,B]=C.split("_");return{key:C,productId:L,quality:B,tags:"",quantity:d.current_storage[C],averageQuality:0}}).filter(C=>["basic_sidearm","tactical_knife"].includes(C.productId)),A=()=>{if(!s||u<=0||m<=0)return;const C=S.find(L=>L.key===s);C&&(v(!0),p(d.id,C.productId,u,m),c(""),o(1),g(100),setTimeout(()=>v(!1),500))},O=S.find(C=>C.key===s);return r.jsxs("div",{className:"terminal-card border-gray-600",children:[r.jsx("h3",{className:"text-gray-400 font-bold mb-3",children:"LIST PRODUCTS FOR SALE"}),S.length===0?r.jsxs("div",{className:"text-center text-gray-500 py-4",children:[r.jsx("div",{children:"No manufactured products available to sell."}),r.jsx("div",{className:"text-xs mt-2",children:"Complete manufacturing jobs to create products, then return here to list them for sale."}),d.inventory&&r.jsxs("div",{className:"text-xs mt-1 text-gray-400",children:["Inventory system: ",d.inventory.totalItems," total items stored"]})]}):r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Select Product:"}),r.jsxs("select",{value:s,onChange:C=>c(C.target.value),className:"w-full bg-gray-800 border border-gray-600 text-gray-300 text-xs p-2 focus:border-teal-400 focus:outline-none",children:[r.jsx("option",{value:"",children:"-- Choose Product --"}),S.map(C=>r.jsxs("option",{value:C.key,children:[Dn(C.productId)," (",C.quality,")",C.tags&&` [${C.tags}]`," - ",C.quantity," available"]},C.key))]})]}),O&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Quantity:"}),r.jsx("input",{type:"number",min:"1",max:O.quantity,value:u,onChange:C=>o(Math.max(1,Math.min(O.quantity,parseInt(C.target.value)||1))),className:"w-full bg-gray-800 border border-gray-600 text-gray-300 text-xs p-2 focus:border-teal-400 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Price per Unit (cr):"}),r.jsx("input",{type:"number",min:"1",value:m,onChange:C=>g(Math.max(1,parseInt(C.target.value)||1)),className:"w-full bg-gray-800 border border-gray-600 text-gray-300 text-xs p-2 focus:border-teal-400 focus:outline-none"})]}),r.jsxs("div",{className:"bg-gray-800 p-2 rounded",children:[r.jsx("div",{className:"text-xs text-gray-400",children:"Listing Summary:"}),r.jsxs("div",{className:"text-sm text-white",children:[u,"x ",Dn(O.productId)," (",O.quality,")",O.tags&&` [${O.tags}]`]}),r.jsxs("div",{className:"text-sm text-teal-400 font-mono",children:["Total Value: ",(u*m).toLocaleString(),"cr"]})]}),r.jsx("button",{onClick:A,disabled:h,className:`w-full px-3 py-2 text-sm border transition-colors ${h?"bg-green-700 border-green-500 text-green-100":"bg-teal-800 hover:bg-teal-700 text-teal-100 border-teal-600"}`,children:h?"Listed!":"List for Sale"})]})]})]})}function $y(){const{marketState:d,marketGenerator:s,credits:c,gameTime:u,selectedFacilityId:o,facilities:m,purchaseMarketLot:g,removePlayerListing:h,refreshMarketLots:v}=Se(),p=B=>{o&&g(B,o)},S=B=>{h(B)},A=d.availableLots,O=d.activePurchaseOrders,C=d.playerListings,L=m.find(B=>B.id===o);return r.jsxs("div",{className:"space-y-6 font-mono text-sm",children:[r.jsxs("div",{className:"terminal-header",children:[r.jsx("span",{className:"ascii-accent",children:""})," MATERIAL MARKET"]}),r.jsx("div",{className:"terminal-card border-blue-600",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-blue-400 font-mono text-lg mb-2",children:" MARKET V1 ACTIVE"}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Open market for material purchasing. Dynamic lot generation and contract system coming online."})]})}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[r.jsx("div",{className:"text-gray-400 text-xs",children:"Available Lots"}),r.jsx("div",{className:"font-mono text-teal-400 text-lg",children:A.length})]}),r.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[r.jsx("div",{className:"text-gray-400 text-xs",children:"Active Orders"}),r.jsx("div",{className:"font-mono text-blue-400 text-lg",children:O.length})]}),r.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[r.jsx("div",{className:"text-gray-400 text-xs",children:"Credits Available"}),r.jsxs("div",{className:"font-mono text-yellow-400 text-lg",children:[c.toLocaleString(),"cr"]})]})]}),O.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 font-bold mb-3",children:"ACTIVE ORDERS"}),r.jsx("div",{className:"space-y-3",children:O.map(B=>{const G=s.getSupplier(B.supplierId);return r.jsx(Zy,{order:B,supplier:G,currentTime:u.totalGameHours},B.id)})})]}),C.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-gray-400 font-bold mb-3",children:"YOUR PRODUCT LISTINGS"}),r.jsx("div",{className:"space-y-3",children:C.map(B=>r.jsx(Jy,{listing:B,onRemove:S,currentTime:u.totalGameHours},B.id))})]}),L?r.jsx(Ky,{facility:L}):r.jsxs("div",{className:"terminal-card border-yellow-600",children:[r.jsx("h3",{className:"text-gray-400 font-bold mb-3",children:"LIST PRODUCTS FOR SALE"}),r.jsx("div",{className:"text-center text-yellow-400 py-4",children:"No facility selected. Please select a facility to list products for sale."})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h3",{className:"text-gray-400 font-bold",children:"AVAILABLE LOTS"}),r.jsx("button",{onClick:v,className:"text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 px-2 py-1 border border-gray-600",children:"Refresh Market"})]}),A.length===0?r.jsx("div",{className:"terminal-card border-gray-600",children:r.jsx("div",{className:"text-center text-gray-500",children:"No lots currently available. Check back later or refresh the market."})}):r.jsx("div",{className:"space-y-3",children:A.map(B=>{const G=s.getSupplier(B.supplierId),k=c>=B.totalPrice;return r.jsx(Xy,{lot:B,supplier:G,onPurchase:p,canAfford:k,currentTime:u.totalGameHours},B.id)})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("button",{onClick:v,className:"btn-secondary",children:"Scout New Suppliers"}),r.jsx("button",{className:"btn-secondary opacity-50 cursor-not-allowed",disabled:!0,children:"Request Custom Lot"})]}),r.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Market Time: ",$i(u)]})]})}function Py(){const{selectedFacilityId:d,facilities:s,equipmentDatabase:c,credits:u,purchaseEquipment:o}=Se(),m=s.find(g=>g.id===d);return m?r.jsxs("div",{className:"font-mono text-teal-400 p-4",children:[r.jsx("div",{className:"terminal-card border-green-600 mb-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-green-400 font-mono text-lg mb-2",children:" EQUIPMENT V1 COMPLETE"}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Equipment database with 15+ equipment types and starter sets fully functional."})]})}),r.jsx("pre",{className:"whitespace-pre",children:`
 EQUIPMENT MANAGEMENT - ${m.name.padEnd(44)} 

 Space: ${m.used_floor_space}/${m.floor_space}m used  Credits: $${u.toLocaleString().padEnd(35)} 
`}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h3",{className:"text-gray-400 mb-2",children:"INSTALLED EQUIPMENT:"}),m.equipment.length===0?r.jsx("div",{className:"text-gray-500",children:"No equipment installed"}):r.jsx("div",{className:"space-y-2",children:m.equipment.map(g=>{const h=c.get(g.equipmentId);return h?r.jsxs("div",{className:"border border-gray-700 p-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-teal-300",children:h.name}),r.jsxs("span",{className:"text-gray-400",children:[g.condition,"%"]})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Space: ",h.footprint,"m | Daily cost: $",h.dailyOperatingCost]})]},g.id):null})})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h3",{className:"text-gray-400 mb-2",children:"AVAILABLE EQUIPMENT:"}),r.jsx("div",{className:"space-y-2",children:Array.from(c.values()).filter(g=>{const h=g.footprint<=m.floor_space-m.used_floor_space,v=g.purchaseCost+g.installationCost<=u;return h&&v}).slice(0,8).map(g=>r.jsx("div",{className:"border border-gray-800 p-2",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-teal-300",children:g.name}),r.jsxs("div",{className:"text-xs text-gray-400",children:["$",g.purchaseCost.toLocaleString()," | ",g.footprint,"m | $",g.dailyOperatingCost,"/day"]})]}),r.jsx("button",{onClick:()=>o(m.id,g.id),className:"text-green-400 hover:text-green-300 border border-green-400 px-2 py-1 text-xs",children:"BUY"})]})},g.id))})]})]}):r.jsx("div",{className:"font-mono text-teal-400 p-4",children:r.jsx("pre",{children:"No facility selected"})})}function Wy(){const d=Se(c=>c.activeTab),s=()=>{switch(d){case"research":return r.jsx(jy,{});case"manufacturing":return r.jsx(By,{});case"equipment":return r.jsx(Py,{});case"market":return r.jsx($y,{});case"contracts":return r.jsx(Vy,{});default:return r.jsx("div",{children:"Unknown tab"})}};return r.jsx("div",{className:"h-full overflow-y-auto",children:s()})}function Fy(){const d=Se(h=>h.selectedFacilityId),s=Se(h=>h.facilities),[c,u]=pe.useState(new Set),o=s.find(h=>h.id===d),m=o?Object.entries(o.current_storage):[],g=h=>{const v=new Set(c);v.has(h)?v.delete(h):v.add(h),u(v)};return r.jsxs("div",{className:"space-y-6",children:[(o==null?void 0:o.inventory)&&r.jsxs("div",{className:"terminal-card",children:[r.jsxs("div",{className:"terminal-header",children:[r.jsx("span",{className:"ascii-accent",children:""})," INVENTORY (",o.name,")"]}),r.jsx("div",{className:"space-y-2",children:o.inventory.groups instanceof Map?Array.from(o.inventory.groups.values()).map(h=>{const v=c.has(h.category),p=h.slots.reduce((S,A)=>S+A.stack.totalQuantity,0);return r.jsxs("div",{className:"border border-gray-700",children:[r.jsx("div",{className:"flex justify-between items-center p-2 cursor-pointer hover:bg-gray-800",onClick:()=>g(h.category),children:r.jsxs("span",{className:"text-gray-300 text-sm",children:[v?"":""," ",h.category," (",p," items)"]})}),v&&r.jsx("div",{className:"px-3 pb-2 space-y-1",children:h.slots.map(S=>{const A=jc[S.baseItemId];return A?r.jsxs("div",{className:"ml-2",children:[r.jsxs("div",{className:"text-gray-400 text-xs font-semibold",children:[A.name," (",S.stack.totalQuantity," total)"]}),(()=>{const O=new Map;return S.stack.instances.forEach(C=>{const L=Sc(C),B=Nc(C.quality),G=`${L}_${B}`;O.has(G)||O.set(G,{instances:[],totalQuantity:0});const k=O.get(G);k.instances.push(C),k.totalQuantity+=C.quantity}),Array.from(O.entries()).map(([C,L])=>{const B=L.instances[0];return r.jsxs("div",{className:"ml-3 text-xs text-gray-500",children:[" ",Sc(B)," x",L.totalQuantity,r.jsxs("span",{className:"text-gray-600 ml-1",children:["(",Nc(B.quality),")"]})]},C)})})()]},S.baseItemId):null})})]},h.category)}):r.jsxs("div",{className:"text-red-400 text-xs",children:["Inventory Error: groups is not a Map",r.jsxs("div",{className:"text-xs mt-1 text-gray-500",children:["Type: ",typeof o.inventory.groups,", Value: ",String(o.inventory.groups)||"undefined"]})]})})]}),o&&!o.inventory&&r.jsxs("div",{className:"terminal-card",children:[r.jsxs("div",{className:"terminal-header",children:[r.jsx("span",{className:"ascii-accent",children:""})," MATERIALS - LEGACY (",o.name,")"]}),r.jsxs("div",{className:"space-y-3",children:[m.map(([h,v])=>r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400 text-sm",children:h}),r.jsx("span",{className:"font-mono text-teal-400",children:v.toLocaleString()})]},h)),m.length===0&&r.jsx("div",{className:"text-gray-500 text-sm",children:"No materials in storage"})]})]}),r.jsxs("div",{className:"terminal-card",children:[r.jsxs("div",{className:"terminal-header",children:[r.jsx("span",{className:"ascii-accent",children:""})," STARMAP: SECTOR 3C"]}),r.jsx("div",{className:"bg-gray-800 rounded p-4 mb-4",children:r.jsxs("div",{className:"grid grid-cols-6 gap-1 font-mono text-center text-sm",children:[r.jsx("span",{className:"text-gray-600",children:""}),r.jsx("span",{className:"text-gray-600",children:""}),r.jsx("span",{className:"status-danger",children:"X"}),r.jsx("span",{className:"text-gray-600",children:""}),r.jsx("span",{className:"status-warning",children:"P"}),r.jsx("span",{className:"text-gray-600",children:""}),r.jsx("span",{className:"status-info",children:"S"}),r.jsx("span",{className:"text-gray-600",children:""}),r.jsx("span",{className:"text-gray-600",children:""}),r.jsx("span",{className:"text-yellow-400",children:"!"}),r.jsx("span",{className:"text-gray-600",children:""}),r.jsx("span",{className:"text-gray-600",children:""}),r.jsx("span",{className:"text-gray-600",children:""}),r.jsx("span",{className:"text-gray-600",children:""}),r.jsx("span",{className:"text-gray-600",children:""}),r.jsx("span",{className:"text-gray-600",children:""}),r.jsx("span",{className:"text-gray-600",children:""}),r.jsx("span",{className:"status-danger",children:"X"})]})}),r.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[r.jsxs("div",{children:[r.jsx("span",{className:"status-danger",children:"X"})," Conflict"]}),r.jsxs("div",{children:[r.jsx("span",{className:"status-warning",children:"P"})," Pirates"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-yellow-400",children:"!"})," Disruption"]}),r.jsxs("div",{children:[r.jsx("span",{className:"status-info",children:"S"})," Scout"]})]})]})]})}function eh(){const d=Se(g=>g.gameTime),s=Se(g=>g.credits),c=Se(g=>g.updateGameTime),u=Se(g=>g.togglePause),o=Se(g=>g.setGameSpeed),m=Se(g=>g.updateProduction);return pe.useEffect(()=>{const g=Math.max(100,1e3/d.gameSpeed),h=setInterval(()=>{d.isPaused||(c(g),m())},g);return()=>clearInterval(h)},[c,m,d.isPaused,d.gameSpeed]),r.jsxs("div",{className:"min-h-screen bg-gray-950 p-4",children:[r.jsx("header",{className:"terminal-card mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"ascii-accent text-lg",children:""}),r.jsx("h1",{className:"text-xl font-bold text-white",children:"DEFENSE MAGNATE"}),r.jsx("span",{className:"ascii-accent text-lg",children:""})]}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"TIME:"}),r.jsx("span",{className:"text-teal-400 font-mono ml-2",children:$i(d)})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-gray-400 text-sm",children:"SPEED:"}),r.jsx("span",{className:`font-mono text-sm ${d.isPaused?"text-orange-400":"text-teal-400"}`,children:yy(d.isPaused?0:d.gameSpeed)}),r.jsx("div",{className:"flex space-x-1 ml-2",children:[1,2,5,10].map(g=>r.jsxs("button",{onClick:()=>o(g),className:`px-2 py-1 text-xs font-mono rounded transition-colors border ${d.gameSpeed===g?"bg-teal-600 border-teal-500 text-white":"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600"}`,children:[g,"x"]},g))})]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"CREDITS:"}),r.jsxs("span",{className:"status-good font-mono ml-2",children:[s.toLocaleString(),"cr"]})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6",children:[r.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[r.jsx("div",{className:"terminal-card",children:r.jsx(Ty,{})}),r.jsx("div",{className:"terminal-card min-h-96",children:r.jsx(Wy,{})})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsx(Fy,{})})]}),r.jsx("div",{className:"terminal-card",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"ascii-accent text-sm",children:`> STATUS: ${d.isPaused?"PAUSED":"OPERATIONAL"}`}),r.jsx("div",{className:"flex space-x-3",children:r.jsx("button",{onClick:u,className:`px-4 py-2 font-mono rounded transition-colors ${d.isPaused?"bg-green-600 hover:bg-green-500 text-white":"bg-orange-600 hover:bg-orange-500 text-white"}`,children:d.isPaused?" RESUME":" PAUSE"})})]})})]})}Fg.createRoot(document.getElementById("root")).render(r.jsx(pe.StrictMode,{children:r.jsx(eh,{})}));
